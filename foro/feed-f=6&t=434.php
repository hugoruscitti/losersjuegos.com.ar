<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="es">
<link rel="self" type="application/atom+xml" href="http://losersjuegos.com.ar/foro/feed.php?f=6&amp;t=434" />

<title>LosersJuegos</title>
<subtitle>Desarrollando videojuegos libres</subtitle>
<link href="http://losersjuegos.com.ar/foro/index.php" />
<updated>2009-01-08T04:10:57+00:00</updated>

<author><name><![CDATA[LosersJuegos]]></name></author>
<id>http://losersjuegos.com.ar/foro/feed.php?f=6&amp;t=434</id>
<entry>
<author><name><![CDATA[Demenus]]></name></author>
<updated>2009-01-08T04:10:57+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=434&amp;p=1851#p1851</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=434&amp;p=1851#p1851"/>
<title type="html"><![CDATA[Con Allegro se me ve raro]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=434&amp;p=1851#p1851"><![CDATA[
Muy buenas a todos, estoy recien empezando y este es mi primer post ademas.<br />El caso es que ando haciendo un Space Invaders con allegro y C pero noto que al mover la nave que en mitad del movimiento se ve y no se ve a la vez, se pone en modo fantasmagorico<br />Hice ya uno con Python y Pygame y no vi nunca ese efecto, y sin embargo ahora...<br />Ando usando doble buffering y la verdad no se otra manera mejor de implementar eso que estoy buscando para que no parpadee<br />En fin, os dejo el code a ver si algún erudito me ilumina<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>#include&lt;allegro.h&gt;<br />#include&lt;stdio.h&gt;<br /><br />void iniciar&#40;&#41;<br />   &#123;<br />   allegro_init&#40;&#41;;<br />   <br />   set_color_depth&#40;16&#41;;<br />   if&#40;set_gfx_mode&#40;GFX_AUTODETECT_WINDOWED,800,600,0,0&#41;&lt;0&#41;<br />      &#123;<br />      printf&#40;&quot;Error al iniciar el modo grafico&quot;&#41;;<br />      allegro_exit&#40;&#41;;<br />      &#125;<br />   install_keyboard&#40;&#41;;<br />   <br />   &#125;<br />   <br />void terminar&#40;&#41;<br />   &#123;<br />   allegro_exit&#40;&#41;;<br />   &#125;<br />   <br /><br />void realizar_juego&#40;&#41;<br />&#123;<br /><br />   <br />    /*Declaracion de variables*/<br />    BITMAP *nave,*fondo,*laser;<br />    PALETTE paleta;<br />    int x,y, x_anterior, y_anterior, lasery, laserx, chivato;<br />    BITMAP *buffer,*buffer2;<br />    <br />    /*Carga de imagenes*/<br />    fondo=load_bitmap&#40;&quot;/home/demenus/Escritorio/background.bmp&quot;,paleta&#41;;<br />    nave=load_bitmap&#40;&quot;/home/demenus/Escritorio/xwing.bmp&quot;, paleta&#41;;<br />    laser=load_bitmap&#40;&quot;/home/demenus/Escritorio/rebel_laser.bmp&quot;,paleta&#41;;<br />    set_palette&#40;paleta&#41;;<br />    buffer=create_bitmap&#40;800,600&#41;;<br />    <br />    <br />    /*Verificaciones*/<br />    if &#40;nave==NULL&#41; terminar&#40;&#41;;<br />    if &#40;fondo==NULL&#41; terminar&#40;&#41;;<br />    if &#40;laser==NULL&#41; terminar&#40;&#41;;<br />    if &#40;buffer==NULL&#41; terminar&#40;&#41;;<br /><br />    x=SCREEN_W/2;<br />    y=SCREEN_H/2;<br />    <br />    <br />    <br />    /*main loop*/<br />    while &#40;!key&#91;KEY_ESC&#93;&#41;<br />    &#123;    <br />    <br />/*Controles*/<br />        if &#40;key&#91;KEY_UP&#93;&#41;<br />            y=y-3;<br />        if &#40;key&#91;KEY_DOWN&#93;&#41;<br />            y=y+3;<br />        if &#40;key&#91;KEY_LEFT&#93;&#41;<br />            x=x-3;<br />        if &#40;key&#91;KEY_RIGHT&#93;&#41;<br />            x=x+3;       <br />        if &#40;x&lt;0&#41; x=x_anterior;<br />        if &#40;x&gt;SCREEN_W-nave-&gt;w&#41;    x=x_anterior;<br />        if &#40;y&lt;0&#41; y=y_anterior;<br />        if &#40;y&gt;SCREEN_H-nave-&gt;h&#41; y=y_anterior;<br />        <br />        if &#40;key&#91;KEY_SPACE&#93; &amp;&amp; chivato==0&#41;<br />            &#123;    <br />            lasery=y-nave-&gt;h/2;<br />            laserx=x+nave-&gt;w/2;<br />            draw_sprite&#40;buffer,laser,laserx,lasery&#41;;<br />            chivato=1;<br />            &#125;<br />/*Controles*/            <br />        &#123;   <br />            blit&#40;fondo,buffer,0,0,0,0,fondo-&gt;w,fondo-&gt;h&#41;;<br />            draw_sprite&#40;buffer,nave,x,y&#41;;<br />            if &#40;chivato=1&#41;<br />               &#123;<br />               draw_sprite&#40;buffer,laser,laserx,lasery&#41;;<br />               lasery=lasery-3;<br />               if &#40;laser-&gt;h+lasery&lt;=0&#41; chivato=0;<br />               &#125;<br />            blit&#40;buffer,screen,0,0,0,0,800,600&#41;;<br />            clear_bitmap&#40;buffer&#41;; <br /><br /><br />        &#125;<br />        x_anterior=x;<br />        y_anterior=y;<br />        &#125;<br />        <br />   destroy_bitmap&#40;fondo&#41;;<br />   destroy_bitmap&#40;laser&#41;;<br />   destroy_bitmap&#40;nave&#41;;<br />&#125;<br /><br />   <br />int main&#40;&#41;<br />   &#123;<br />   iniciar&#40;&#41;;<br />   realizar_juego&#40;&#41;;<br />   <br />   readkey&#40;&#41;;<br /><br />   allegro_exit&#40;&#41;;<br />   return 0;<br />   &#125;<br />END_OF_MAIN&#40;&#41;;<br />   </code></dd></dl><br /><br /><br />Espero ir bien en todo esto k ando haciendo =____=<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2045">Demenus</a> — Jue Ene 08, 2009 4:10 am</p><hr />
]]></content>
</entry>
</feed>