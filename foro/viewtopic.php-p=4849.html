<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="es" xml:lang="es">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="es" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="copyright" content="2000, 2002, 2005, 2007 phpBB Group" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

<title>LosersJuegos &bull; Ver Tema - Colisiones en SDL</title>

<link rel="alternate" type="application/atom+xml" title="Feed - LosersJuegos" href="feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Nuevos Temas" href="feed-mode=topics.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Foro - Sobre las bibliotecas multimedia" href="feed-f=6.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Tema - Colisiones en SDL" href="feed-f=6&amp;t=1010.php" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:

	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Introduzca el número de página al que desea saltar:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.losersjuegos.com.ar';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<script type="text/javascript" src="styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="styles/prosilver/template/forum_fn.js"></script>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.php-id=3&amp;lang=en&amp;sid=4ec7bd6b5b400f7171476bb35f8261c6.css" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />




<link href="styles/prosilver/theme/header.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/barrausuario.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/design.css" rel="stylesheet" type="text/css"/>

<link href="styles/prosilver/theme/src/prettify.css" type="text/css" rel="stylesheet" />
<script src="styles/prosilver/theme/src/prettify.js" type="text/javascript"></script>


</head>


<body onload="prettyPrint()" id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
<div id='borde'>

    <div id="cabecera">

        <a href='index.html'><img id='logo1' alt='' src="styles/prosilver/theme/ima_cabecera/logo_1.png" width="286" height="50" name="logo1" /></a>

        <div id="navi">
            <ul>
                <li><a href="../index.html">Web</a></li>
                <li id='actual'><a href="index.html">Foro</a></li>
            </ul>
        </div>

    </div>


<div class='barra_usuario'>
        <ul>
                <li class='regresar'><a href='../index.html'>Regresar a la web</a></li>
                <li class='buscar'><a href="search.php.html">Buscar</a></li>

                
                <li class='registrar'><a href="ucp.php-mode=register.html">Registrarse</a></li>

                <li class='registrar'><a href="ucp.php-mode=login.html">Identificarse</a>
                </li>
                

        </ul>
</div>




	<a name="start_here"></a>
	<div id="page-body">
		<ul style='font-size: 14px' class="linklist">
                    <li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
                    </ul>
<h2><a href="viewtopic.php-f=6&amp;t=1010&amp;start=0.html">Colisiones en SDL</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Tratamos sobre el manejo de APIs frecuentemente utilizadas en el desarrollo de videojuegos, como SDL, pygame o SFML.<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=6&amp;t=1010.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="post" id="topic-search" action="search.php-t=1010.html">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Buscar este tema…" onclick="if(this.value=='Buscar este tema…')this.value='';" onblur="if(this.value=='')this.value='Buscar este tema…';" />
				<input class="button2" type="submit" value="Buscar" />
				<input type="hidden" value="1010" name="t" />
				<input type="hidden" value="msgonly" name="sf" />
			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			12 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p4768" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="#p4768">Colisiones en SDL</a></h3>
			<p class="author"><a href="viewtopic.php-p=4768.html#p4768"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a></strong> &raquo; Sab Ene 15, 2011 12:57 am </p>

			

			<div class="content">Ultimamente estube haciendo un pequeño Pong en SDL y me encuentro ante un importante problema con las colisiones, basicamente el punto es que cada vez que la bola va hacia un lado de la pantalla en la cual del otro lado se encuentra posicionada la otra barra, se genera una colisione (en la imagen lo van a ver perfectamente)<br /><br /><a href="http://img121.imageshack.us/i/colision.jpg/" class="postlink"><img src="http://img121.imageshack.us/img121/1529/colision.jpg" alt="Imagen" /></a><br /><br />Este es el codigo que controla la colision, donde miBarra es la barra de la izquierda, miBarra2 es la de la derecha, y los demas metodos son propios del objeto pelota<br /><br />Como pueden ver en el codigo lo que estoy haciendo es verificar si la pelota se encuentra dentro del rango de alguna de las barras y si es asi verifico si choco contra alguna<br /><br />Sirius es el nombre de una clase que cree a modo de game engine<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code> if((miBarra.getY()&lt;=getY() &amp;&amp; (miBarra.getY()+miBarra.getAlto())&gt;=getY()+getAlto())//CHOCA CONTRA BARRA<br />&nbsp; &nbsp; || (miBarra2.getY()&lt;=getY())&amp;&amp;<br />&nbsp; &nbsp; ((miBarra2.getY()+miBarra2.getAlto())&gt;=getY()+getAlto()))<br /> {<br />&nbsp; if(getX()-10&lt;miBarra.getX()+miBarra.getAnc())<br />&nbsp; {<br />&nbsp; &nbsp;Sirius::reproducirSonido(1);<br />&nbsp; &nbsp;setVelX((-1)*getVelX());<br />&nbsp; }<br />&nbsp; else<br />&nbsp; {<br />&nbsp; &nbsp;if(getX()+getAnc()+getVelX()+10&gt;miBarra2.getX())<br />&nbsp; &nbsp;{<br />&nbsp; &nbsp; Sirius::reproducirSonido(1);<br />&nbsp; &nbsp; setVelX((-1)*getVelX());<br />&nbsp; &nbsp;}<br />&nbsp; }<br /> }</code></dd></dl></div>

			

		</div>

		
			<dl class="postprofile" id="profile4768">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 32</dd><dd><strong>Registrado:</strong> Lun Dic 28, 2009 2:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4769" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4769">Re: Colisiones en SDL</a></h3>
			<p class="author"><a href="viewtopic.php-p=4769.html#p4769"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Sab Ene 15, 2011 1:10 am </p>

			

			<div class="content">El tema es que tienes que tratar las 2 colisiones por separado. Te explico la situación de la imagen que has comentado, con respecto a tu código:<br /><br />primero compruebas si está a la altura de alguno de los dos palos( si, está a la altura del izquierdo)<br /><br />luego compruebas a ver si está a la izquierda del palo izquierdo, que en este caso es no<br />Compruebas si está a la derecha del palo derecho, y aquí sale el fallo, ya que si que está a la derecha.<br /><br />El tema sería separar las condiciones:<br /><br />- Está a la altura de la barra1? Y está a la izquierda de la barra 1? hay colision<br />- Si no está a la altura de la barra1, está a la altura de la barra2? Y está a su derecha? hay colision</div>

			

		</div>

		
			<dl class="postprofile" id="profile4769">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4770" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4770">Re: Colisiones en SDL</a></h3>
			<p class="author"><a href="viewtopic.php-p=4770.html#p4770"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a></strong> &raquo; Sab Ene 15, 2011 1:57 am </p>

			

			<div class="content">Prefecto! era eso, ahora tengo otro problema y es con respecto a los rebotes de la pelotita cuando se produce la colision, basicamente me fije en internet y en algunos libros y me recomendaban que cuando la pelota chocara contra algunas de las barras la direccion que deberia tomar seria la contraria a la direccion de la que proviene, lo que quiero decir es que si la pelota viene avanzando en sentido positivo de X, yo tengo que cambiar ese sentido cambiandole el signo al X para que vaya en sentido inverso<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>&nbsp; if(getX()-10&lt;miBarra.getX()+miBarra.getAnc())<br />&nbsp; {<br />&nbsp; &nbsp;Sirius::reproducirSonido(1);<br />&nbsp; &nbsp;setVelX((-1)*getVelX());<br />&nbsp; }</code></dd></dl><br /><br />fijense en ese pedazo de codigo, si la pelota colisiona con la barra, simplemente lo que hago es cambiar el sentido de X, y la Y la mantengo igual, lo que hace que nada mas la pelota pueda tomar un rebote en forma de &quot; V &quot;,me fije en internet y algunos utilizan un random para el rebote de la pelotita, como seria eso??</div>

			

		</div>

		
			<dl class="postprofile" id="profile4770">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 32</dd><dd><strong>Registrado:</strong> Lun Dic 28, 2009 2:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4771" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4771">Re: Colisiones en SDL</a></h3>
			<p class="author"><a href="viewtopic.php-p=4771.html#p4771"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a></strong> &raquo; Sab Ene 15, 2011 6:19 am </p>

			

			<div class="content">Bueno, aleatorio no creo que sea muy bueno, cuando jugaba este juego sabia que movimiento hacer para que la pelota valla por donde yo quiera, así es mas interesante pensar en estrategias para hacer perder al otro.<br />Lo que podrías hacer es tomar a la barra como un espejo, supón que la barra esa fija y la pela choca en ella con un ángulo de 30°, pues lo que arias es espejar ese ángulo, si pones como origen el punto donde choca solo seria cambiar el cuadrante.<br />pero si la barra se mueve puedes aumentar unos grados el angulo al espejar, un aumento en el mismo lado.<br />la facilidad con que hagas eso depende de la forma en la que hagas tu animaciones, también hice un juego que tiene un motor, y manejaba las velocidades como un vector, de esa forma creo que es mas facil , solo cambiar el angulo.<br />Solo es imaginarse las cosas y pensar un poco en la matemática para que salga.</div>

			<div id="sig4771" class="signature">El conocimiento de unos es conocimiento de todos.</div>

		</div>

		
			<dl class="postprofile" id="profile4771">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html"><img src="download/2124-avatar=2124_1283282608.jpg" width="70" height="53" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 249</dd><dd><strong>Registrado:</strong> Mar Jul 14, 2009 4:13 am</dd><dd><strong>Ubicación:</strong> mexico</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4772" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4772">Re: Colisiones en SDL</a></h3>
			<p class="author"><a href="viewtopic.php-p=4772.html#p4772"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2347.html">kaiser</a></strong> &raquo; Sab Ene 15, 2011 1:22 pm </p>

			

			<div class="content">Hola Pablo, lo primero es que debes tener en cuenta la zona de rebote para aplicar el cambio de signo a las velocidades de la pelota, por ejemplo si la pelota choca con la pared superior o inferior del campo de juego deberás cambiar el signo de la VelY pero no de la VelX, en cambio si la pelota choca con las palas deberás cambiar tanto la VelX como la VelY. El problema es que con éste cambio de signo la trayectoria de la pelota será siempre igual partida tras partida y el jugador no tendrá ninguna influencia sobre la trayectoria. Para solucionar ésto una forma sencilla es aplicar un pequeño incremento/decremento aleatorio en el ángulo de rebote al chocar con las palas, pero ésto sigue sin permitir que el jugador influya en la trayectoria de la pelota, por eso lo mejor que puedes hacer es aplicar el consejo de carlotex y tener en cuenta el movimiento de la pala en el momento del choque para modificar el ángulo de rebote. Otra técnica muy popular es determinar en que punto de la pala se ha producido el choque y en función de eso modificar el ángulo de rebote, por ejemplo si choca justo en el centro el ángulo de rebote será igual que el ángulo de incidencia, pero cuanto más hacia los extremos de la pala se produzca el choque mayor incremento/decremento se aplicará al ángulo de rebote<br /><br />Un Saludo!</div>

			<div id="sig4772" class="signature">De la API al IDE y del IDE a la API.</div>

		</div>

		
			<dl class="postprofile" id="profile4772">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2347.html"><img src="download/2347-avatar=2347_1292324401.jpg" width="80" height="60" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2347.html">kaiser</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 121</dd><dd><strong>Registrado:</strong> Mié Nov 24, 2010 7:47 pm</dd><dd><strong>Ubicación:</strong> Madrid (España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4773" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4773">Re: Colisiones en SDL</a></h3>
			<p class="author"><a href="viewtopic.php-p=4773.html#p4773"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Sab Ene 15, 2011 1:29 pm </p>

			

			<div class="content">ya solo por hacer hincapié en lo que te han comentado.. usa el efecto de espejo que te ha comentado Carlos, o algo que se le asemeje, como por ejemplo calcular cual es el vector del centro de la bola al centro de la pala, inviertes ese vector y ya tienes la velocidad de salida</div>

			

		</div>

		
			<dl class="postprofile" id="profile4773">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4774" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4774">Re: Colisiones en SDL</a></h3>
			<p class="author"><a href="viewtopic.php-p=4774.html#p4774"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a></strong> &raquo; Sab Ene 15, 2011 8:33 pm </p>

			

			<div class="content">y que me dicen de los cambios en la velocidad de le pelota?, se podria realizar algun calculo ahi?</div>

			

		</div>

		
			<dl class="postprofile" id="profile4774">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 32</dd><dd><strong>Registrado:</strong> Lun Dic 28, 2009 2:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4775" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4775">Re: Colisiones en SDL</a></h3>
			<p class="author"><a href="viewtopic.php-p=4775.html#p4775"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a></strong> &raquo; Sab Ene 15, 2011 8:50 pm </p>

			

			<div class="content">Pues que yo recuerde pocos de estos juegos he visto que aumenten de velocidad, en mi opinión prefiero que se mantenga, pero la puedes aumentar cuando choca, o por el tiempo que ha estado corriendo el juego, no se te olvide aumentar también la velocidad de las barras, no tan rápido como la pelota pero que si permita poder alcanzar la bola.</div>

			<div id="sig4775" class="signature">El conocimiento de unos es conocimiento de todos.</div>

		</div>

		
			<dl class="postprofile" id="profile4775">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html"><img src="download/2124-avatar=2124_1283282608.jpg" width="70" height="53" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 249</dd><dd><strong>Registrado:</strong> Mar Jul 14, 2009 4:13 am</dd><dd><strong>Ubicación:</strong> mexico</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4787" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4787">Re: Colisiones en SDL</a></h3>
			<p class="author"><a href="viewtopic.php-p=4787.html#p4787"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a></strong> &raquo; Mar Ene 18, 2011 7:12 pm </p>

			

			<div class="content">Vuelvo a un problema antiguo respecto de las colisiones, basicamente lo que me gustaria es si pueden ver el codigo de colision que estoy aplicando, ya que encuentro algunos errores que no puedo resolver<br /><br />el codigo es el siguiente:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>&nbsp; &nbsp;if((miBarra.getY()&lt;(getY()+getAlto())) &amp;&amp; (miBarra.getY()+miBarra.getAlto()&gt;getY()+getAlto()))<br />&nbsp; &nbsp;{<br />&nbsp; &nbsp; if(!(getX()&lt;miBarra.getX()))<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp;if(getX()+getVelX()&lt;miBarra.getX()+miBarra.getAnc())<br />&nbsp; &nbsp; &nbsp;{<br />&nbsp; &nbsp; &nbsp; Sirius::reproducirSonido(1);<br />&nbsp; &nbsp; &nbsp; setVelX((-1)*getVelX());<br />&nbsp; &nbsp; &nbsp;}<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp;}<br /><br />&nbsp; &nbsp;if ((miBarra2.getY()&lt;=getY()+getAlto()+getVelY())&amp;&amp;((miBarra2.getY()+miBarra2.getAlto())&gt;=getY()+getAlto()+getVelY()))//CHOCA CONTRA BARRA DER<br />&nbsp; &nbsp;{<br />&nbsp; &nbsp; if(!(getX()+getAnc()&gt;miBarra2.getX()+miBarra2.getAnc()))<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp;if(getX()+getAnc()+getVelX()&gt;miBarra2.getX())<br />&nbsp; &nbsp; &nbsp;{<br />&nbsp; &nbsp; &nbsp; Sirius::reproducirSonido(1);<br />&nbsp; &nbsp; &nbsp; setVelX((-1)*getVelX());<br />&nbsp; &nbsp; &nbsp;}<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp;}</code></dd></dl><br /><br />Un ejemplo de los problemas que estoy sufriendo es el siguiente:<br /><br /><a href="http://img199.imageshack.us/i/ejemplope.jpg/" class="postlink"><img src="http://img199.imageshack.us/img199/56/ejemplope.jpg" alt="Imagen" /></a><br /><br />Fijense que si engancho la pelotita por la parte superior la pelota queda picando dentro de la barrita, cuando deberia picar, ese es uno de los problemas que estoy teniendo, asi que bueno estaria bueno si se pueden fijar el codigo para hacerme algun comentario de que les aprece y si quieren realizar algun cambio pueden hacerlo con total libertad</div>

			

		</div>

		
			<dl class="postprofile" id="profile4787">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 32</dd><dd><strong>Registrado:</strong> Lun Dic 28, 2009 2:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4788" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4788">Re: Colisiones en SDL</a></h3>
			<p class="author"><a href="viewtopic.php-p=4788.html#p4788"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Mar Ene 18, 2011 8:37 pm </p>

			

			<div class="content">el problema es que no manejas bien los casos de colisiones. Creo que lo mejor es que limpies un poco el código, porque con tanto getY, getAlto etc te lías:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>int barra1_arriba = miBarra.getY();<br />int barra1_abajo = miBarra.getY() + miBarra.getAlto();<br />int barra1_izq = miBarra.getX();<br />int barra1_der = miBarra.getX() + miBarra.getAncho();<br /><br />... igual para la otra barra ...<br /></code></dd></dl><br /><br />tienes que ser consistente: no puedes tener en cuenta la velocidad en algunos casos y en otros no<br /><br />- haz diagramas para aclararte: yo veo 5 situaciones posibles a tener en cuenta<br /><a href="http://img16.imageshack.us/i/sinttulobzq.png/" class="postlink"><img src="http://img16.imageshack.us/img16/4117/sinttulobzq.png" alt="Imagen" /></a><br /><br />cada vez que veas que el código no funciona, comprueba estos 5 casos, y mira que tu ejemplo los maneje bien</div>

			

		</div>

		
			<dl class="postprofile" id="profile4788">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4849" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4849">Re: Colisiones en SDL</a></h3>
			<p class="author"><a href="#p4849"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a></strong> &raquo; Lun Ene 24, 2011 1:10 am </p>

			

			<div class="content">He logrado mejorar els istema de colisiones, hasta el punto en que casi ya no tengo problemas con eso, ahora me estoy enfocando en la parte del rebote, mi idea basicamente es que si la pelota choca contra la parte superior o inferior de la barra teoricamente deberia tomar un angulo mucho mas abierto y al mismo tomar algo mas de velocidad, mientras que si choca contra la parte central reduce un poco la velocidad y hace un angulo algo mas cerrado, pero me preocupa que como decian por ahi, quien juega no tiene el control del angulo que va a tomar la pelota, como puedo hacer para que eso pase?</div>

			

		</div>

		
			<dl class="postprofile" id="profile4849">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 32</dd><dd><strong>Registrado:</strong> Lun Dic 28, 2009 2:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4891" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4891">Re: Colisiones en SDL</a></h3>
			<p class="author"><a href="viewtopic.php-p=4891.html#p4891"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a></strong> &raquo; Mié Ene 26, 2011 5:46 am </p>

			

			<div class="content">Reviviendo el thread, mas o menos he logrado armar una pequeña funcion que dependiendo de donde toque la pelotita la pelota irar para determinada posicion con determinada fuerza, lo que me interesa saber es para lograr rebotes mas reales y aleatorios como puedo implementar desde un punto de vista matematico el tema de los angulos???, es decir que calculo deberia hacer y utilizando que valores??</div>

			

		</div>

		
			<dl class="postprofile" id="profile4891">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 32</dd><dd><strong>Registrado:</strong> Lun Dic 28, 2009 2:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="viewtopic.php-f=6&amp;t=1010&amp;start=0.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		
		<label>Mostrar mensajes previos: <select name="st" id="st"><option value="0" selected="selected">Todos los mensajes</option><option value="1">1 día</option><option value="7">7 días</option><option value="14">2 semanas</option><option value="30">1 mes</option><option value="90">3 meses</option><option value="180">6 meses</option><option value="365">1 año</option></select></label>
		<label>Ordenar por <select name="sk" id="sk"><option value="a">Autor</option><option value="t" selected="selected">Fecha publicación</option><option value="s">Asunto</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascendente</option><option value="d">Descendente</option></select> <input type="submit" name="sort" value="Ir" class="button2" /></label>
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=6&amp;t=1010.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="pagination">
			12 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="viewforum.php-f=6.html" class="left-box left" accesskey="r">Volver a Sobre las bibliotecas multimedia</a></p>

	<form method="post" id="jumpbox" action="viewforum.php.html" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Saltar a:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Seleccione un Foro</option>
			<option value="-1">------------------</option>
				<option value="15">Proyecto Losersjuegos</option>
			
				<option value="1">&nbsp; &nbsp;Planificación y eventos</option>
			
				<option value="14">&nbsp; &nbsp;Asadetris</option>
			
				<option value="22">Pilas Engine</option>
			
				<option value="23">&nbsp; &nbsp;Anuncios de los desarrolladores</option>
			
				<option value="24">&nbsp; &nbsp;Consultas, problemas o bugs.</option>
			
				<option value="25">&nbsp; &nbsp;Proyectos usando pilas</option>
			
				<option value="26">&nbsp; &nbsp;Sugerencias e ideas</option>
			
				<option value="28">&nbsp; &nbsp;General</option>
			
				<option value="16">Sugerencias, proyectos e ideas</option>
			
				<option value="2">&nbsp; &nbsp;Artículos, traducciones y documentación</option>
			
				<option value="3">&nbsp; &nbsp;Ejemplos</option>
			
				<option value="4">&nbsp; &nbsp;Videojuegos</option>
			
				<option value="12">&nbsp; &nbsp;Propuestas de desarrollo y concursos</option>
			
				<option value="13">&nbsp; &nbsp;Inspiración y otras ideas interesantes</option>
			
				<option value="5">&nbsp; &nbsp;Otros</option>
			
				<option value="17">Consultas</option>
			
				<option value="6" selected="selected">&nbsp; &nbsp;Sobre las bibliotecas multimedia</option>
			
				<option value="7">&nbsp; &nbsp;Instalación de bibliotecas y herramientas</option>
			
				<option value="8">&nbsp; &nbsp;Sobre lenguajes de programación</option>
			
				<option value="9">&nbsp; &nbsp;General</option>
			
				<option value="20">&nbsp; &nbsp;3D</option>
			
				<option value="29">&nbsp; &nbsp;HTML5 y Javascript</option>
			
				<option value="30">&nbsp; &nbsp;Qt y pyqt</option>
			
				<option value="18">Otros</option>
			
				<option value="10">&nbsp; &nbsp;Fuera de tópico</option>
			
				<option value="11">&nbsp; &nbsp;Links interesantes</option>
			
			</select>
			<input type="submit" value="Ir" class="button2" />
		</fieldset>
	</form>


	<h3>¿Quién está conectado?</h3>
	<p>Usuarios navegando por este Foro: No hay usuarios registrados visitando el Foro y 1 invitado</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
				
			<li class="rightside"><a href="memberlist.php-mode=leaders.html">El Equipo</a> &bull; <a href="ucp.php-mode=delete_cookies.html">Borrar todas las cookies del Sitio</a> &bull; Todos los horarios son UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>



<div id="pie">

    <ul>
            <li class="contactenos"><a href="../comunidad/contactenos.html">Contáctenos</a></li>
                
                <li class="cc"><a href="http://creativecommons.org/licenses/by-sa/2.5/deed.es">Licencia de uso para el sitio</a></li>

                    <li class="foro"><a href="index.html">Foro de mensajes</a></li>

                        <li class="comunidad"><a href="../comunidad.html">Sobre el grupo ...</a></li>
                    </ul>
                </div>


</div> <!-- borde -->
</div>


<div class="copyright">
Este foro de mensajes funciona gracias al sistema <a href="http://www.phpbb.com/">phpBB</a>
<br/>
Tema visual personalizando por Hugo Ruscitti.
<br/>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	<img src="cron.php-cron_type=tidy_sessions.gif" width="1" height="1" alt="cron" />
</div>

</body>
</html>