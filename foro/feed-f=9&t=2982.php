<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="es">
<link rel="self" type="application/atom+xml" href="http://losersjuegos.com.ar/foro/feed.php?f=9&amp;t=2982" />

<title>LosersJuegos</title>
<subtitle>Desarrollando videojuegos libres</subtitle>
<link href="http://losersjuegos.com.ar/foro/index.php" />
<updated>2012-12-30T06:53:48+00:00</updated>

<author><name><![CDATA[LosersJuegos]]></name></author>
<id>http://losersjuegos.com.ar/foro/feed.php?f=9&amp;t=2982</id>
<entry>
<author><name><![CDATA[shackra]]></name></author>
<updated>2012-12-30T06:53:48+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9090#p9090</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9090#p9090"/>
<title type="html"><![CDATA[Re: bucle del juego falla cuando se cambian escenas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9090#p9090"><![CDATA[
Barajas, Barajas... Hombre ¿tú me creerías sí te digo que no tengo ninguna clase llamada HelloWorld en ninguna parte? ... Que vergonzoso son los dedasos xd. Yo tengo mis dos clases como Helloworld no como HelloWorld!!<br /><br />Python sí notificó sobre un error, que en la salida es virtualmente invisible, cuando use pdb para depurar mi programa de prueba, ahora las escenas sí se intercambian a la orden del teclado, que dicha! :'D<br /><br />gracias por la ayuda, un saludo xd<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2114">shackra</a> — Dom Dic 30, 2012 6:53 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[shackra]]></name></author>
<updated>2012-12-30T05:23:05+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9089#p9089</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9089#p9089"/>
<title type="html"><![CDATA[Re: bucle del juego falla cuando se cambian escenas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9089#p9089"><![CDATA[
<blockquote><div><cite>Barajas escribió:</cite><br />¿No debería existir un a coma después de &quot;no es &quot;  ?.<br /></div></blockquote><br /><br />No, para nada, en realidad si le pongo una coma, el truco no funciona:<br /><pre class="prettyprint">&gt;&gt;&gt; print &#40;&quot;hola &quot;<br />    &quot;mundo&quot;&#41;<br />hola mundo</pre><br /><br />El error no tiene mucho sentido por que al darle la primer escena (ver main.py) el error no salta, solamente cuando le doy otra escena dentro de la escena que le di primero, el error si salta <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2114">shackra</a> — Dom Dic 30, 2012 5:23 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Barajas]]></name></author>
<updated>2012-12-29T23:11:40+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9088#p9088</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9088#p9088"/>
<title type="html"><![CDATA[Re: bucle del juego falla cuando se cambian escenas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9088#p9088"><![CDATA[
Esta parte del código:<br /><br /><pre class="prettyprint">try:<br />                self.__actualscene.on_draw&#40;self.window&#41;<br />            except AttributeError:<br />                raise TAAttrIsNotScene, &#40;&quot;Objeto {0} no es &quot;<br />                                         &quot;instancia de SceneFactory&quot;.format&#40;<br />                                             type&#40;self.__actualscene&#41;&#41;&#41;</pre><br /><br />Y por lo que revelo el error...<br /><br /><pre class="prettyprint">Traceback &#40;most recent call last&#41;:<br />  File &quot;main.py&quot;, line 9, in &lt;module&gt;<br />    director.loop&#40;&#41;<br />  File &quot;/home/jorge/coders/desarrollo/thomas-aquinas-prueba/src/scenemanager.py&quot;, line 118, in loop<br />    type&#40;self.__actualscene&#41;&#41;&#41;<br />src.scenemanager.TAAttrIsNotScene: Objeto &lt;type &#39;instance&#39;&gt; no es instancia de SceneFactory</pre><br /><br />Lo cual es muy razonable.<br /><br />Intento ejecutar la linea:<br /><pre class="prettyprint">self.__actualscene.on_draw&#40;self.window&#41;</pre><br /><br />Pero como eso mandaba error, decidió ejecutar la siguiente linea.<br /><br /><pre class="prettyprint">raise TAAttrIsNotScene, &#40;&quot;Objeto {0} no es &quot; <br />                                     &quot;instancia de SceneFactory&quot;.format&#40;<br />                                            type&#40;self.__actualscene&#41;&#41;&#41;</pre><br />Que es la cual manda el error.<br />Solo dos cosas, ¿No debería existir un a coma después de &quot;no es &quot;  ?.<br /><br />Y lo que asumo que paso a <span style="font-weight: bold">self.__actualscene.on_draw(self.window)</span> pudo ejecutarle.<br /><br />Mi recomendación es que cambies esa linea del try-except solo por lo contenido dentro de try, y que el interprete te diga por que razón no puede ejecutar <span style="font-weight: bold">&quot;self.__actualscene.on_draw(self.window)&quot;</span><p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2345">Barajas</a> — Sab Dic 29, 2012 11:11 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[shackra]]></name></author>
<updated>2012-12-29T20:39:43+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9083#p9083</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9083#p9083"/>
<title type="html"><![CDATA[Re: bucle del juego falla cuando se cambian escenas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9083#p9083"><![CDATA[
<blockquote><div><cite>Barajas escribió:</cite><br />De cualquier manera, seria bueno ver el código del scenemanager para ver lo del problema.<br /></div></blockquote><br /><br />servido:<br /><br /><span style="font-weight: bold">scenemanager.py</span> de la rama <span style="font-weight: bold">task-4</span>:<br /><pre class="prettyprint"># coding: utf-8<br /># This file is part of Thomas Aquinas.<br />#    <br /># Thomas Aquinas is free software: you can redistribute it and/or modify<br /># it under the terms of the GNU General Public License as published by<br /># the Free Software Foundation, either version 3 of the License, or<br /># &#40;at your option&#41; any later version.<br />#<br /># Thomas Aquinas is distributed in the hope that it will be useful,<br /># but WITHOUT ANY WARRANTY; without even the implied warranty of<br /># MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the<br /># GNU General Public License for more details.<br />#<br /># You should have received a copy of the GNU General Public License<br /># along with Thomas Aquinas.  If not, see &lt;http://www.gnu.org/licenses/&gt;.<br />#<br />#                       veni, Sancte Spiritus.<br /><br />import logging<br />import common<br />import sfml<br />import media<br /><br />class TAGlobalVariableException&#40;Exception&#41;: pass<br />class TAAttrIsNotScene&#40;Exception&#41;: pass<br /><br />class Director:<br />    &quot;&quot;&quot;Objeto principal del juego.<br /><br />    Aquí es donde sucede toda la magia. Dibujamos, actualizamos<br />    y propagamos eventos entre clases derivadas de <br />    la clase AbstractScene.<br /><br />    El diseño de esta clase esta fuertemente basada en director.py<br />    del proyecto Asadetris desarrollado por Hugo de LosersJuegos&quot;&quot;&quot;<br /><br />    def __init__&#40;self, icon=None&#41;:<br />        self.window = sfml.RenderWindow&#40;sfml.VideoMode&#40;<br />            common.settings.getscreensize&#40;&#41;[0], <br />            common.settings.getscreensize&#40;&#41;[1]&#41;,<br />                                        common.settings.getscreentitle&#40;&#41;&#41;<br />        self.window.framerate_limit = 60<br />        if icon: <br />            self.window.icon = media.loadmedia&#40;icon&#41;.pixels<br /><br />        self.__actualscene = None<br />        self.__fullscreenmode = False<br />        self.__exitgame = False<br />        # revisar si hay Joysticks conectados al PC.<br />        self.__globalvariables = {}<br />        self.__camera = sfml.View&#40;&#41;<br />        # Reiniciamos la camara al tamaño de la pantalla.<br />        self.__camera.reset&#40;sfml.Rectangle&#40;&#40;0, 0&#41;, <br />                                           common.settings.getscreensize&#40;&#41;&#41;&#41;<br />        <br />        # Iniciamos algunas variables globales<br />        self.setglobalvariable&#40;&quot;game title&quot;,<br />                               common.settings.getscreentitle&#40;&#41;&#41;<br /><br />    def __getitem__&#40;self, item&#41;:<br />        return self.__globalvariables[str&#40;item&#41;]<br /><br />    def __iter__&#40;self&#41;:<br />        return self.__globalvariables.items&#40;&#41;<br /><br />    def movecamera&#40;self, playerx, playery&#41;:<br />        &quot;&quot;&quot; Mueve la cámara del juego.<br /><br />        Esta es la forma más sencilla de realizar la técnica del<br />        &#39;screen scrolling&#39;. Nos hemos basado en los cálculos realizados<br />        por CodingMadeEasy y en el uso de objetos sfml.View.<br /><br />        Para mover la cámara de acuerdo al movimiento del jugador<br />        este método debe ser llamado en algún momento dentro de una<br />        instancia de la clase AbstractScene con las coordenadas del<br />        sprite del jugador.<br />        &quot;&quot;&quot;<br />        screensizex, screensizey = common.settings.getscreensize&#40;&#41;<br />        camerax = -&#40;screensizex / 2&#41; + playerx<br />        cameray = -&#40;screensizey / 2&#41; + playery<br /><br />        if camerax &lt; 0: camerax = 0<br />        if cameray &lt; 0: cameray = 0<br /><br />        self.__camera.viewport = sfml.Rectangle&#40;&#40;camerax, cameray&#41;,<br />                                                &#40;camerax + screensizex,<br />                                                 cameray + screensizey&#41;&#41;<br /><br />    def loop&#40;self&#41;:<br />        &quot;¡El juego se pone en marcha!&quot;<br /><br />        timesleep = sfml.milliseconds&#40;10&#41;<br /><br />        while not self.__exitgame:<br />            # propagación de eventos<br />            for event in self.window.events:<br />                if type&#40;event&#41; is sfml.CloseEvent:<br />                    self.__exitgame = True<br />                    logging.info&#40;&quot;Cerrando el programa...&quot;&#41;<br />                    logging.info&#40;&quot;Salvando la configuracion...&quot;&#41;<br />                    common.settings.saveconf&#40;&#41;<br />                    logging.info&#40;&quot;Configuracion del juego salvada!&quot;&#41;<br />                    # logging.info&#40;&quot;Guardando las variables globales...&quot;&#41;<br />                    # pass<br />                    # logging.info&#40;&quot;Variables globales salvadas!&quot;&#41;<br />                    logging.info&#40;&quot;¡Gracias por jugar!&quot;&#41;<br />                elif type&#40;event&#41; is sfml.KeyEvent and event.pressed:<br />                    if event.code is sfml.Keyboard.F3:<br />                        # alternamos entre modo pantalla completa y modo ventana<br />                        self.alternatefullscreenmode&#40;&#41;<br /><br />                # Le pasamos el evento a la escena para que haga algo<br />                try:<br />                    self.__actualscene.on_event&#40;event&#41;<br />                except AttributeError:<br />                    raise TAAttrIsNotScene, &#40;&quot;Objeto {0} no tiene &quot;<br />                                             &quot;atributo on_event&quot;.format&#40;<br />                                             type&#40;self.__actualscene&#41;&#41;&#41;<br />                ## TODO:<br />                # Le pasamos el evento al dialogo para que haga algo<br />                #self.__widgetmanager.on_event&#40;event&#41;<br /><br />            # actualizamos la escena<br />            try:<br />                self.__actualscene.on_update&#40;&#41;<br />            except AttributeError:<br />                raise TAAttrIsNotScene, &#40;&quot;Objeto {0} no tiene &quot;<br />                                         &quot;atributo on_update&quot;.format&#40;<br />                                             type&#40;self.__actualscene&#41;&#41;&#41;<br />            <br />            # dibujamos la escena<br />            self.window.clear&#40;sfml.Color.BLACK&#41;<br />            try:<br />                self.__actualscene.on_draw&#40;self.window&#41;<br />            except AttributeError:<br />                raise TAAttrIsNotScene, &#40;&quot;Objeto {0} no es &quot;<br />                                         &quot;instancia de SceneFactory&quot;.format&#40;<br />                                             type&#40;self.__actualscene&#41;&#41;&#41;<br />            # TODO: crear un sistema de widgets personalisable<br />            #   con CSS.<br />            # TODO: Dibujamos los widgets<br />            # self.__widgetmanager.on_draw&#40;self.window&#41;<br />            self.window.view = self.__camera<br />            self.window.display&#40;&#41;<br /><br />            # dormimos la aplicación unos milisegundos<br />            sfml.sleep&#40;timesleep&#41;<br /><br />        ## GAME OVER!<br />        <br />        self.window.close&#40;&#41;<br /><br />    def changescene&#40;self, scene&#41;:<br />        &quot;Cambia la escena actual.&quot;<br />        if isinstance&#40;scene, SceneFactory&#41;:<br />            logging.info&#40;&quot;Cambiando de escena: {0}&quot;.format&#40;scene&#41;&#41;<br />            self.__actualscene = scene<br />        else:<br />            raise TAAttrIsNotScene, &#40;&quot;El objeto {0} no es instancia &quot;<br />                                     &quot;de SceneFactory&quot;.format&#40;type&#40;scene&#41;&#41;&#41;<br /><br />    def alternatefullscreenmode&#40;self&#41;:<br />        &quot;Alterna entre modo pantalla completa y modo ventana&quot;<br />        if not self.__fullscreenmode:<br />            self.window.recreate&#40;<br />                sfml.VideoMode&#40;self.window.width,<br />                               self.window.height&#41;, <br />                self.getglobalvariable&#40;&quot;game title&quot;&#41;,<br />                sfml.Style.FULLSCREEN&#41;<br />            self.__fullscreenmode = True<br />        else:<br />            self.window.recreate&#40;<br />                sfml.VideoMode&#40;self.window.width,<br />                               self.window.height&#41;, <br />                self.getglobalvariable&#40;&quot;game title&quot;&#41;&#41;<br />            self.__fullscreenmode = False<br /><br />    def setglobalvariable&#40;self, name, value&#41;:<br />        &quot;&quot;&quot; Crea una variable global a la cual cualquier escena puede acceder.<br /><br />        es algo difícil compartir datos entre escenas, por ello se usara la<br />        clase Director para almacenar variables que luego puedan ser usadas<br />        por otras escenas.<br />        &quot;&quot;&quot;<br />        self.__globalvariables[str&#40;name&#41;] = value<br /><br />    def getglobalvariable&#40;self, name&#41;:<br />        &quot;&quot;&quot; Retorna alguna el valor de alguna variable global.<br />        &quot;&quot;&quot;<br />        if self.__globalvariables.has_key&#40;str&#40;name&#41;&#41;:<br />            return self.__globalvariables[str&#40;name&#41;]<br />        else:<br />            raise TAGlobalVariableException, &quot;{0} variable no definida&quot;.format&#40;<br />                name&#41;<br /><br />    def delglobalvariable&#40;self, name&#41;:<br />        &quot;&quot;&quot; Borra una variable global previamente definida.<br />        &quot;&quot;&quot;<br />        if self.__globalvariables.has_key&#40;str&#40;name&#41;&#41;:<br />            self.__globalvariables.pop&#40;str&#40;name&#41;&#41;</pre><p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2114">shackra</a> — Sab Dic 29, 2012 8:39 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Barajas]]></name></author>
<updated>2012-12-29T19:30:09+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9081#p9081</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9081#p9081"/>
<title type="html"><![CDATA[Re: bucle del juego falla cuando se cambian escenas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9081#p9081"><![CDATA[
No veo nada malo con el código de las escenas. Pero como nos dice el interpetre de python, parece que el erroy existe pero en el archivo scenemanager.py, en el método loop l, en la linea 118.<br />    type(self.__actualscene)))<br />src.scenemanager.TAAttrIsNotScene: Objeto &lt;type 'instance'&gt; no es instancia de SceneFactory<br /><br />De cualquier manera, seria bueno ver el código del scenemanager para ver lo del problema.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2345">Barajas</a> — Sab Dic 29, 2012 7:30 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[shackra]]></name></author>
<updated>2012-12-29T06:45:58+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9079#p9079</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9079#p9079"/>
<title type="html"><![CDATA[bucle del juego falla cuando se cambian escenas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=2982&amp;p=9079#p9079"><![CDATA[
También publicado en el bugtrack del proyecto xd: <!-- m --><a class="postlink" href="https://bitbucket.org/shackra/thomas-aquinas/issue/6/bucle-del-juego-falla-cuando-se-cambian">https://bitbucket.org/shackra/thomas-aq ... se-cambian</a><!-- m --><br /><br />Muy buenas! <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />Trabajando en mi framework, thomas-aquinas, logre dibujar los tiles del escenario usando pytmx (sí quieres saber como se renderiza con SFML, revisa <a href="https://bitbucket.org/shackra/thomas-aquinas/src/28103c83225bdc942bd37c5b79069a389975abe8/src/scenefactory.py?at=task-4#cl-70" class="postlink">src/scenefactory.py de la rama task-4</a>) para procesar archivos hechos con Tiled.<br /><br />Sin embargo, tope con un enorme bache, cuando intento cambiar de una escena a otra el programa de prueba se rompe <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><br />La primer llamada al método changescene() (de la instancia de Director) funciona de lo más bien (como aparece en la salida del programa), sin embargo, cuando presiono la tecla flecha abajo para cambiar de escenas, el programa falla de forma repentina por una excepción AttributeError, antes de la excepción no aparece ningún mensaje que indique que la escena a cambiado, algo que me deja completamente confundido @_@.<br /><br />En fin, les dejo la salida de mi programa de prueba:<br /><br /><pre class="prettyprint">jorge [~/coders/desarrollo/thomas-aquinas-prueba] ~&gt; python2 main.py<br />INFO - #34 - __init__: Iniciando una instancia de la clase Conf<br />DEBUG - #35 - __init__: Cargando la configuración: None...<br />DEBUG - #180 - joinpaths: Se han de unir las siguientes carpetas &#40;&#39;/home/jorge&#39;, &#39;.{game}&#39;&#41;<br />DEBUG - #189 - joinpaths: Resultado hasta el momento: /home/jorge/<br />DEBUG - #193 - joinpaths: Retornando el resultado de la operación: /home/jorge/<br />DEBUG - #189 - joinpaths: Resultado hasta el momento: /home/jorge/.{game}<br />DEBUG - #193 - joinpaths: Retornando el resultado de la operación: /home/jorge/.{game}<br />/usr/lib/python2.7/site-packages/chardet/universaldetector.py:72: UnicodeWarning: Unicode equal comparison failed to convert both arguments to Unicode - interpreting them as being unequal<br />  elif aBuf[:4] == &#39;\xFF\xFE\x00\x00&#39;:<br />/usr/lib/python2.7/site-packages/chardet/universaldetector.py:75: UnicodeWarning: Unicode equal comparison failed to convert both arguments to Unicode - interpreting them as being unequal<br />  elif aBuf[:4] == &#39;\x00\x00\xFE\xFF&#39;:<br />/usr/lib/python2.7/site-packages/chardet/universaldetector.py:78: UnicodeWarning: Unicode equal comparison failed to convert both arguments to Unicode - interpreting them as being unequal<br />  elif aBuf[:4] == &#39;\xFE\xFF\x00\x00&#39;:<br />/usr/lib/python2.7/site-packages/chardet/universaldetector.py:81: UnicodeWarning: Unicode equal comparison failed to convert both arguments to Unicode - interpreting them as being unequal<br />  elif aBuf[:4] == &#39;\x00\x00\xFF\xFE&#39;:<br />/usr/lib/python2.7/site-packages/chardet/universaldetector.py:84: UnicodeWarning: Unicode equal comparison failed to convert both arguments to Unicode - interpreting them as being unequal<br />  elif aBuf[:2] == &#39;\xFF\xFE&#39;:<br />/usr/lib/python2.7/site-packages/chardet/universaldetector.py:87: UnicodeWarning: Unicode equal comparison failed to convert both arguments to Unicode - interpreting them as being unequal<br />  elif aBuf[:2] == &#39;\xFE\xFF&#39;:<br />DEBUG - #214 - __convertpath: Cadena /home/jorge/.{game} tiene codificación &#39;ascii&#39;<br />DEBUG - #221 - __convertpath: No hay nada que convertir, no estamos en Windows<br />DEBUG - #214 - __convertpath: Cadena /home/jorge/.thomas-aquinas-prueba tiene codificación &#39;ascii&#39;<br />DEBUG - #221 - __convertpath: No hay nada que convertir, no estamos en Windows<br />DEBUG - #180 - joinpaths: Se han de unir las siguientes carpetas &#40;u&#39;/home/jorge/.thomas-aquinas-prueba&#39;, &#39;gameconf.ini&#39;&#41;<br />DEBUG - #189 - joinpaths: Resultado hasta el momento: /home/jorge/.thomas-aquinas-prueba/<br />DEBUG - #193 - joinpaths: Retornando el resultado de la operación: /home/jorge/.thomas-aquinas-prueba/<br />DEBUG - #189 - joinpaths: Resultado hasta el momento: /home/jorge/.thomas-aquinas-prueba/gameconf.ini<br />DEBUG - #193 - joinpaths: Retornando el resultado de la operación: /home/jorge/.thomas-aquinas-prueba/gameconf.ini<br />DEBUG - #214 - __convertpath: Cadena /home/jorge/.thomas-aquinas-prueba/gameconf.ini tiene codificación &#39;ascii&#39;<br />DEBUG - #221 - __convertpath: No hay nada que convertir, no estamos en Windows<br />INFO - #67 - loadconf: Cargando configuración del juego...<br />DEBUG - #228 - __convertpath: Hemos recibido una lista<br />DEBUG - #230 - __convertpath: Iterando la lista...<br />DEBUG - #232 - __convertpath: Convirtiendo la cadena: /home/jorge/coders/desarrollo/thomas-aquinas-prueba/src/gameconf.ini...<br />DEBUG - #214 - __convertpath: Cadena /home/jorge/coders/desarrollo/thomas-aquinas-prueba/src/gameconf.ini tiene codificación &#39;ascii&#39;<br />DEBUG - #221 - __convertpath: No hay nada que convertir, no estamos en Windows<br />DEBUG - #234 - __convertpath: Convertido: /home/jorge/coders/desarrollo/thomas-aquinas-prueba/src/gameconf.ini<br />DEBUG - #232 - __convertpath: Convirtiendo la cadena: /home/jorge/.thomas-aquinas-prueba/gameconf.ini...<br />DEBUG - #214 - __convertpath: Cadena /home/jorge/.thomas-aquinas-prueba/gameconf.ini tiene codificación &#39;ascii&#39;<br />DEBUG - #221 - __convertpath: No hay nada que convertir, no estamos en Windows<br />DEBUG - #234 - __convertpath: Convertido: /home/jorge/.thomas-aquinas-prueba/gameconf.ini<br />INFO - #72 - loadconf: Configuración del juego cargada de forma exitosa!<br />INFO - #45 - loadmedia: Buscando por el audiovisual icon.png<br />DEBUG - #47 - loadmedia: Extensión del audiovisual: .png<br />DEBUG - #52 - loadmedia: El archivo icon.png es un archivo de imagen<br />DEBUG - #214 - __convertpath: Cadena /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/ tiene codificación &#39;ascii&#39;<br />DEBUG - #221 - __convertpath: No hay nada que convertir, no estamos en Windows<br />DEBUG - #180 - joinpaths: Se han de unir las siguientes carpetas &#40;u&#39;/home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/&#39;, &#39;icon.png&#39;&#41;<br />DEBUG - #189 - joinpaths: Resultado hasta el momento: /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data//<br />DEBUG - #193 - joinpaths: Retornando el resultado de la operación: /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/<br />DEBUG - #189 - joinpaths: Resultado hasta el momento: /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/icon.png<br />DEBUG - #193 - joinpaths: Retornando el resultado de la operación: /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/icon.png<br />DEBUG - #214 - __convertpath: Cadena /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/icon.png tiene codificación &#39;ascii&#39;<br />DEBUG - #221 - __convertpath: No hay nada que convertir, no estamos en Windows<br />INFO - #101 - loadimg: Cargado el archivo de imagen /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/icon.png<br />DEBUG - #214 - __convertpath: Cadena /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/ tiene codificación &#39;ascii&#39;<br />DEBUG - #221 - __convertpath: No hay nada que convertir, no estamos en Windows<br />DEBUG - #180 - joinpaths: Se han de unir las siguientes carpetas &#40;u&#39;/home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/&#39;, &#39;maps&#39;, &#39;tmx/mapa de prueba isometrico.tmx&#39;&#41;<br />DEBUG - #189 - joinpaths: Resultado hasta el momento: /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data//<br />DEBUG - #193 - joinpaths: Retornando el resultado de la operación: /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/<br />DEBUG - #189 - joinpaths: Resultado hasta el momento: /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/maps/<br />DEBUG - #193 - joinpaths: Retornando el resultado de la operación: /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/maps/<br />DEBUG - #189 - joinpaths: Resultado hasta el momento: /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/maps/tmx/mapa de prueba isometrico.tmx<br />DEBUG - #193 - joinpaths: Retornando el resultado de la operación: /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/maps/tmx/mapa de prueba isometrico.tmx<br />DEBUG - #214 - __convertpath: Cadena /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/maps/tmx/mapa de prueba isometrico.tmx tiene codificación &#39;ascii&#39;<br />DEBUG - #221 - __convertpath: No hay nada que convertir, no estamos en Windows<br />INFO - #70 - loadmap: Cargando las baldosas del escenario...<br />DEBUG - #214 - __convertpath: Cadena /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/ tiene codificación &#39;ascii&#39;<br />DEBUG - #221 - __convertpath: No hay nada que convertir, no estamos en Windows<br />DEBUG - #180 - joinpaths: Se han de unir las siguientes carpetas &#40;u&#39;/home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/&#39;, &#39;maps/tilesets/baldosas isometricas de prueba.png&#39;&#41;<br />DEBUG - #189 - joinpaths: Resultado hasta el momento: /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data//<br />DEBUG - #193 - joinpaths: Retornando el resultado de la operación: /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/<br />DEBUG - #189 - joinpaths: Resultado hasta el momento: /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/maps/tilesets/baldosas isometricas de prueba.png<br />DEBUG - #193 - joinpaths: Retornando el resultado de la operación: /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/maps/tilesets/baldosas isometricas de prueba.png<br />DEBUG - #214 - __convertpath: Cadena /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/maps/tilesets/baldosas isometricas de prueba.png tiene codificación &#39;ascii&#39;<br />DEBUG - #221 - __convertpath: No hay nada que convertir, no estamos en Windows<br />INFO - #101 - loadimg: Cargado el archivo de imagen /home/jorge/coders/desarrollo/thomas-aquinas-prueba/data/maps/tilesets/baldosas isometricas de prueba.png<br />DEBUG - #131 - loadmap: gid: 1, flag: 0<br />DEBUG - #131 - loadmap: gid: 4, flag: 0<br />DEBUG - #131 - loadmap: gid: 2, flag: 0<br />DEBUG - #131 - loadmap: gid: 3, flag: 0<br />DEBUG - #131 - loadmap: gid: 5, flag: 0<br />DEBUG - #131 - loadmap: gid: 6, flag: 0<br />INFO - #134 - loadmap: Carga de baldosas exitosa!<br />INFO - #155 - changescene: Cambiando de escena: &lt;Scene: HelloWorld, file: /home/jorge/coders/desarrollo/thomas-aquinas-prueba/src/scenes/escena_1.py&gt;<br />Traceback &#40;most recent call last&#41;:<br />  File &quot;main.py&quot;, line 9, in &lt;module&gt;<br />    director.loop&#40;&#41;<br />  File &quot;/home/jorge/coders/desarrollo/thomas-aquinas-prueba/src/scenemanager.py&quot;, line 118, in loop<br />    type&#40;self.__actualscene&#41;&#41;&#41;<br />src.scenemanager.TAAttrIsNotScene: Objeto &lt;type &#39;instance&#39;&gt; no es instancia de SceneFactory</pre><br /><br />Sé que mi programa de prueba no les va a correr, pero aquí le dejos el código fuente de susodicho programa:<br /><br />main.py:<br /><pre class="prettyprint"># encoding: utf-8<br />from src import common<br />from src import scenemanager<br />from src.scenes import escena_1<br /><br />director = scenemanager.Director&#40;&quot;icon.png&quot;&#41;<br />holamundo_1 = escena_1.Helloworld&#40;director&#41;<br />director.changescene&#40;holamundo_1&#41;<br />director.loop&#40;&#41;</pre><br /><br />escena_1.py:<br /><pre class="prettyprint"># encoding: utf-8<br />from src.scenefactory import AbstractScene<br />import sfml<br />from src import common<br />import escena_2<br /><br />class Helloworld&#40;AbstractScene&#41;:<br />    def __init__&#40;self, scenemanager&#41;:<br />        AbstractScene.__init__&#40;self, scenemanager&#41;<br />        self.__tipografia = sfml.Font.get_default_font&#40;&#41;<br />        self.texto = sfml.Text&#40;self.__str__&#40;&#41;&#41;<br />        self.texto.font = self.__tipografia<br />        self.texto.character_size = 10<br />        self.texto.style = sfml.Text.BOLD<br />        self.texto.color = sfml.Color.WHITE<br />        self.loadmap&#40;&quot;tmx/mapa de prueba isometrico.tmx&quot;&#41;<br /><br />    def on_event&#40;self, event&#41;:<br />        if type&#40;event&#41; is sfml.KeyEvent and event.pressed:<br />            if event.code == common.settings.getcontrollerbutton&#40;&quot;down_button&quot;&#41;:<br />                self.irescena2&#40;&#41;<br /><br />    def on_update&#40;self&#41;:<br />        pass<br /><br />    def on_draw&#40;self, window&#41;:<br />        self.drawmap&#40;&#41;<br />        window.draw&#40;self.texto&#41;<br /><br />    def irescena2&#40;self&#41;:<br />        escena = escena_2.HelloWorld&#40;self.scenemanager&#41;<br />        self.scenemanager.changescene&#40;escena&#41;<br /><br />    def __str__&#40;self&#41;:<br />        return &quot;&lt;Scene: HelloWorld, file: {0}&gt;&quot;.format&#40;__file__&#41;</pre><br /><br />escena_2.py:<br /><pre class="prettyprint"># encoding: utf-8<br />from src.scenefactory import AbstractScene<br />import sfml<br />from src import common<br />import escena_1<br /><br />class Helloworld&#40;AbstractScene&#41;:<br />    def __init__&#40;self, scenemanager&#41;:<br />        AbstractScene.__init__&#40;self, scenemanager&#41;<br />        self.__tipografia = sfml.Font.get_default_font&#40;&#41;<br />        self.texto = sfml.Text&#40;self.__str__&#40;&#41;&#41;<br />        self.texto.font = self.__tipografia<br />        self.texto.character_size = 10<br />        self.texto.style = sfml.Text.BOLD<br />        self.texto.color = sfml.Color.WHITE<br />        self.loadmap&#40;&quot;tmx/mapa prueba.tmx&quot;&#41;<br /><br />    def on_event&#40;self, event&#41;:<br />        if type&#40;event&#41; is sfml.KeyEvent and event.pressed:<br />            if event.code == common.settings.getcontrollerbutton&#40;&quot;up_button&quot;&#41;:<br />                self.irescena1&#40;&#41;<br /><br />    def on_update&#40;self&#41;:<br />        pass<br /><br />    def on_draw&#40;self, window&#41;:<br />        self.drawmap&#40;&#41;<br />        window.draw&#40;self.texto&#41;<br /><br />    def irescena1&#40;self&#41;:<br />        escena = escena_1.HelloWorld&#40;self.scenemanager&#41;<br />        self.scenemanager.changescene&#40;escena&#41;<br /><br />    def __str__&#40;self&#41;:<br />        return &quot;&lt;Scene: HelloWorld, file: {0}&gt;&quot;.format&#40;__file__&#41;</pre><br /><br />Para ver el modulo scenemanager y scenefactory sólo visiten el repositorio del proyecto, rama <span style="font-weight: bold">task-4</span>.<br /><br />Gracias por la posible ayuda y un saludo! <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_smile.gif" alt=":)" title="Smile" /><p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2114">shackra</a> — Sab Dic 29, 2012 6:45 am</p><hr />
]]></content>
</entry>
</feed>