<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="es" xml:lang="es">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="es" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="copyright" content="2000, 2002, 2005, 2007 phpBB Group" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

<title>LosersJuegos &bull; Ver Tema - Problema con dibujar mapa</title>

<link rel="alternate" type="application/atom+xml" title="Feed - LosersJuegos" href="feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Nuevos Temas" href="feed-mode=topics.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Foro - Sobre lenguajes de programación" href="feed-f=8.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Tema - Problema con dibujar mapa" href="feed-f=8&amp;t=519.php" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:

	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Introduzca el número de página al que desea saltar:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.losersjuegos.com.ar';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<script type="text/javascript" src="styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="styles/prosilver/template/forum_fn.js"></script>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.php-id=3&amp;lang=en&amp;sid=4ec7bd6b5b400f7171476bb35f8261c6.css" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />




<link href="styles/prosilver/theme/header.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/barrausuario.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/design.css" rel="stylesheet" type="text/css"/>

<link href="styles/prosilver/theme/src/prettify.css" type="text/css" rel="stylesheet" />
<script src="styles/prosilver/theme/src/prettify.js" type="text/javascript"></script>


</head>


<body onload="prettyPrint()" id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
<div id='borde'>

    <div id="cabecera">

        <a href='index.html'><img id='logo1' alt='' src="styles/prosilver/theme/ima_cabecera/logo_1.png" width="286" height="50" name="logo1" /></a>

        <div id="navi">
            <ul>
                <li><a href="../index.html">Web</a></li>
                <li id='actual'><a href="index.html">Foro</a></li>
            </ul>
        </div>

    </div>


<div class='barra_usuario'>
        <ul>
                <li class='regresar'><a href='../index.html'>Regresar a la web</a></li>
                <li class='buscar'><a href="search.php.html">Buscar</a></li>

                
                <li class='registrar'><a href="ucp.php-mode=register.html">Registrarse</a></li>

                <li class='registrar'><a href="ucp.php-mode=login.html">Identificarse</a>
                </li>
                

        </ul>
</div>




	<a name="start_here"></a>
	<div id="page-body">
		<ul style='font-size: 14px' class="linklist">
                    <li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
                    </ul>
<h2><a href="viewtopic.php-f=8&amp;t=519&amp;start=0.html">Problema con dibujar mapa</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Agrupa todas las consultas sobre los lenguajes de programacion como C, C++, Python, Java ...<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=8&amp;t=519.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="post" id="topic-search" action="search.php-t=519.html">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Buscar este tema…" onclick="if(this.value=='Buscar este tema…')this.value='';" onblur="if(this.value=='')this.value='Buscar este tema…';" />
				<input class="button2" type="submit" value="Buscar" />
				<input type="hidden" value="519" name="t" />
				<input type="hidden" value="msgonly" name="sf" />
			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			5 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p2334" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="#p2334">Problema con dibujar mapa</a></h3>
			<p class="author"><a href="viewtopic.php-p=2334.html#p2334"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Sab Mar 21, 2009 12:38 pm </p>

			

			<div class="content">Buenas.
<br />
<br />He creado una funcion para dibujar los obstaculos de terreno sobre un mapa (todo con tiles), pero esta me da un error de list index out of range exactamente en la sentencia marcada en l codigo:
<br />
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>&nbsp; &nbsp; def imprimir_obstaculos&#40;self,screen&#41;:<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; tile_origen_x=self.camara_x/64<br />&nbsp; &nbsp; &nbsp; &nbsp; tile_origen_y=self.camara_y/64<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; tile_destino_x=tile_origen_x + ANCHO/64 + 1<br />&nbsp; &nbsp; &nbsp; &nbsp; tile_destino_y = tile_origen_y + ALTO/64 + 1<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; filas=0<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; for fila in range&#40;tile_origen_y,tile_destino_y&#41;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; columna=0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for celda in range&#40;tile_origen_x,tile_destino_x&#41;:<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;***AQUI DA ERROR*** if self.obstaculos&#91;fila&#93;&#91;celda&#93; in self.Tiles_Obstaculo:<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; columnaT,filaT = self.Tiles_Obstaculo&#91;self.obstaculos&#91;fila&#93;&#91;celda&#93;&#93;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; screen.blit&#40;self.image,&#40;64*columna,64*filas&#41;,&#40;64*columnaT,64*filaT,64,64&#41;&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; columna+=1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; filas+=1<br /></code></dd></dl></div>

			

		</div>

		
			<dl class="postprofile" id="profile2334">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2337" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2337">Re: Problema con dibujar mapa</a></h3>
			<p class="author"><a href="viewtopic.php-p=2337.html#p2337"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a></strong> &raquo; Sab Mar 21, 2009 8:34 pm </p>

			

			<div class="content">Ya que no tengo todo el código para poderlo ejecutar, te pongo los prints que haría yo para intentar encontrar el error:
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>&nbsp; &nbsp; def imprimir_obstaculos&#40;self,screen&#41;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &#91;...&#93;<br />&nbsp; &nbsp; &nbsp; &nbsp; print &quot;matriz: &quot;, self.obstaculos #<br />&nbsp; &nbsp; &nbsp; &nbsp; print &quot;filas: &quot;, len&#40;self.obstaculos&#41; #<br />&nbsp; &nbsp; &nbsp; &nbsp; for i in range&#40;len&#40;self.obstaculos&#41;&#41;: #<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print &quot;columnas de fila &quot;, i, &quot;: &quot;, len&#40;self.obstaculos&#91;i&#93;&#41; #<br />&nbsp; &nbsp; &nbsp; &nbsp; for fila in range&#40;tile_origen_y,tile_destino_y&#41;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; columna=0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for celda in range&#40;tile_origen_x,tile_destino_x&#41;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; print fila, celda #<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;***AQUI DA ERROR*** if self.obstaculos&#91;fila&#93;&#91;celda&#93; in self.Tiles_Obstaculo:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#91;...&#93;<br /></code></dd></dl>
<br />
<br />Podría ser porque la cámara no está fuera del mapa.
<br />
<br />Saludos.</div>

			

		</div>

		
			<dl class="postprofile" id="profile2337">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html"><img src="download/1809-avatar=1809_1280195666.gif" width="70" height="70" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 283</dd><dd><strong>Registrado:</strong> Vie Ago 31, 2007 9:25 am</dd><dd><strong>Ubicación:</strong> Barcelona</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://twitter.com/endaramiz" title="WWW: http://twitter.com/endaramiz"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2339" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2339"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2339.html#p2339"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Dom Mar 22, 2009 12:48 am </p>

			

			<div class="content">gracias david. El problema estaba en ese +1 que tenia tile_destino_y, que creaba una fila mas de las que había en el array.
<br />
<br />He estado pensando, y quiero ver si habría algúna manera de hacer lo siguiente:
<br />
<br />el terreno del mapa lo he transformado en una superficie, siguiendo el ejemplo de RPG de hugo. He intentado hacer lo mismo con el fondo de obstaculos, pero el problema es que al blitear, superpone el de obstaculos al de terreno, quedando la mayoría de la pantalla negra. Podría hacer algo parecido a lo de colorkey con la superficie, para transparentar los pixels que no tuvieran objetos (es decir, los cuadrados negros)??</div>

			

		</div>

		
			<dl class="postprofile" id="profile2339">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2340" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2340"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2340.html#p2340"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a></strong> &raquo; Dom Mar 22, 2009 10:21 am </p>

			

			<div class="content"><blockquote><div><cite>Juanxo escribió:</cite>el terreno del mapa lo he transformado en una superficie, siguiendo el ejemplo de RPG de hugo. He intentado hacer lo mismo con el fondo de obstaculos, pero el problema es que al blitear, superpone el de obstaculos al de terreno, quedando la mayoría de la pantalla negra. Podría hacer algo parecido a lo de colorkey con la superficie, para transparentar los pixels que no tuvieran objetos (es decir, los cuadrados negros)??</div></blockquote>
<br />Como tú bien has dicho, se podría hacer con el colorkey sobre la Surface de los obstáculos. Ya sea en negro, que es con el color que se crea la Surface por defecto o poniendole un color raro (255,0,255) de fondo.
<br />De todas formas, dependiendo de como esté construido el programa, a lo mejor te interesa más blitear todos los obstáculos en la Surface terreno y trabajar con una sola imagen. Así ahorrarías unos pocos milisegundos por cuadro(si llega xD) porque no dibujarías el trozo de terreno que luego va a ser tapado por un obstáculo. Y quizás lo simplifique un poco. Pero, para decirlo con certeza, tendría que ver todo el código.
<br />
<br />Saludos.</div>

			

		</div>

		
			<dl class="postprofile" id="profile2340">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html"><img src="download/1809-avatar=1809_1280195666.gif" width="70" height="70" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 283</dd><dd><strong>Registrado:</strong> Vie Ago 31, 2007 9:25 am</dd><dd><strong>Ubicación:</strong> Barcelona</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://twitter.com/endaramiz" title="WWW: http://twitter.com/endaramiz"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2342" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2342"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2342.html#p2342"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Dom Mar 22, 2009 3:02 pm </p>

			

			<div class="content">Gracias de nuevo. Ya lo pense, pero no merecía la pena, ya que los obstaculos(rocas troncos, etc) no tienen la forma exacta del tile, por lo que quedarían huecos vacíos. Al final tambien he descartado la opción de crear una nueva superficie para los obstaculos, ya que estaría creando una superficie mayoritariamente vacía, por lo que mejor he decidido blitear directamente en la pantalla teniendo en cuenta el scroll y ya me funciona correctamente. El código completo es el siguiente:
<br />
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code><br /># -*- coding: cp1252 -*-<br /><br />import pygame,os,sys<br />from pygame.locals import *<br /># -*- coding: cp1252 -*-<br />DATOS='images'<br />#=========================================<br />#Prueba de mapa de tiles, con scrolling<br />#Ejemplos de apoyo:<br />#&nbsp; &nbsp;mini_rpg&#40;scrolling de camara&#41;<br />#&nbsp; &nbsp;mono&#40;Creacion de mapa como lectura de fichero&#41;<br />#&nbsp; &nbsp;http://www.wired-weasel.com/users/serhid/blog/?page_id=4&#40;creacion de tilemaps&#41;<br />#<br />#<br />#========================================<br /><br />ANCHO=640<br />ALTO=480<br /><br />def load_image&#40;name,colorkey=False, pos=10&#41;:<br />&nbsp; &nbsp; fullname=os.path.join&#40;DATOS,name&#41;<br /><br />&nbsp; &nbsp; try:<br />&nbsp; &nbsp; &nbsp; &nbsp; image=pygame.image.load&#40;fullname&#41;<br /><br />&nbsp; &nbsp; except pygame.error,message:<br />&nbsp; &nbsp; &nbsp; &nbsp; print 'No se puede cargar la imagen: ',fullname<br />&nbsp; &nbsp; &nbsp; &nbsp; raise SystemExit,message<br /><br />&nbsp; &nbsp; image=image.convert&#40;&#41;<br /><br />&nbsp; &nbsp; if &#40;colorkey&#41;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; colorkey=image.get_at&#40;&#40;pos,0&#41;&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; image.set_colorkey&#40;colorkey,RLEACCEL&#41;<br /><br /><br />&nbsp; &nbsp; return image , image.get_rect&#40;&#41;&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br /><br />class Escenario&#40;&#41;:<br /><br />&nbsp; &nbsp; def __init__&#40;self , nivel=1&#41;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; #creamos las matrices del mapa<br />&nbsp; &nbsp; &nbsp; self.mapa = self.cargar_nivel&#40;nivel&#41;<br />&nbsp; &nbsp; &nbsp; self.obstaculos=self.cargar_obstaculos&#40;nivel&#41;<br /><br />&nbsp; &nbsp; &nbsp; self.image , self.rect = load_image&#40;'fondos.bmp',True,760&#41;<br /><br />&nbsp; &nbsp; &nbsp; #diccionarios de la &#40;columna,fila&#41; de un tipo de tile dentro de la grilla<br />&nbsp; &nbsp; &nbsp; self.Tiles_Terreno=&#123; '1': &#40;3,13&#41;&#125;<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; self.Tiles_Obstaculo=&#123;'1': &#40;3,12&#41;,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; '2': &#40;0,12&#41; &#125;<br /><br /><br />&nbsp; &nbsp; &nbsp; # coordenada superior izquierda de la cámara.<br />&nbsp; &nbsp; &nbsp; # estas variables intentan alcanzar el valor de las variables<br />&nbsp; &nbsp; &nbsp; # 'destino_camara_x' y 'destino_camara_y'.&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; self.camara_x = 0<br />&nbsp; &nbsp; &nbsp; self.camara_y = 0<br />&nbsp; &nbsp; &nbsp; <br /><br />&nbsp; &nbsp; &nbsp; self.fondo= self.crear_fondo&#40;self.mapa&#41;<br /><br />&nbsp; &nbsp; &nbsp; #posicion a la que debe llegar la camara<br />&nbsp; &nbsp; &nbsp; self.destino_camara_x=0<br />&nbsp; &nbsp; &nbsp; self.destino_camara_y=0<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; self.dibujar_mapa&#40;&#41;<br /><br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; def imprimir&#40;self,screen&#41;:<br /><br />&nbsp; &nbsp; &nbsp; origen=&#40;self.camara_x,self.camara_y,ANCHO,ALTO&#41;<br />&nbsp; &nbsp; &nbsp; destino=&#40;0,0,ANCHO,ALTO&#41;<br />&nbsp; &nbsp; &nbsp; screen.blit&#40;self.fondo,destino,origen&#41;<br />&nbsp; &nbsp; &nbsp; <br /><br />&nbsp; &nbsp; def update&#40;self&#41;:<br />&nbsp; &nbsp; &nbsp; self.camara_x+=&#40;self.destino_camara_x-self.camara_x&#41;/8.0<br />&nbsp; &nbsp; &nbsp; self.camara_y+=&#40;self.destino_camara_y-self.camara_y&#41;/8.0<br /><br />&nbsp; &nbsp; def mirar_a&#40;self,rect&#41;:<br />&nbsp; &nbsp; &nbsp; self.destino_camara_x=rect.x-ANCHO/2<br />&nbsp; &nbsp; &nbsp; self.destino_camara_y=rect.y-ALTO/2<br />&nbsp; &nbsp; &nbsp; self._aplicar_limites&#40;&#41;<br /><br />&nbsp; &nbsp; def cargar_nivel&#40;self , nivel&#41;:<br />&nbsp; &nbsp; &nbsp; nombre_del_archivo='nivel_%d.txt'%nivel#empleamos el format string para poder asignar <br />&nbsp; &nbsp; &nbsp; archivo=open&#40;nombre_del_archivo,'rt'&#41;#el nombre del fichero<br />&nbsp; &nbsp; &nbsp; mapa=archivo.readlines&#40;&#41;#devuelve un String con el mapa<br />&nbsp; &nbsp; &nbsp; archivo.close&#40;&#41;<br />&nbsp; &nbsp; &nbsp; return mapa<br /><br />&nbsp; &nbsp; def cargar_obstaculos&#40;self,nivel&#41;:<br />&nbsp; &nbsp; &nbsp; nombre_del_archivo='obstaculos_nivel_%d.txt'%nivel<br />&nbsp; &nbsp; &nbsp; archivo=open&#40;nombre_del_archivo&#41;<br />&nbsp; &nbsp; &nbsp; obstaculos=archivo.readlines&#40;&#41;<br />&nbsp; &nbsp; &nbsp; return obstaculos<br /><br /><br />&nbsp; &nbsp; def crear_fondo&#40;self,array&#41;:<br /><br />&nbsp; &nbsp; &nbsp; filas=len&#40;array&#41;<br />&nbsp; &nbsp; &nbsp; columnas=len&#40;array&#91;0&#93;&#41;-1<br />&nbsp; &nbsp; &nbsp; ancho=columnas*64<br />&nbsp; &nbsp; &nbsp; alto=filas*64<br /><br />&nbsp; &nbsp; &nbsp; return pygame.Surface&#40;&#40;ancho,alto&#41;&#41;.convert&#40;&#41;<br /><br />&nbsp; &nbsp; <br />&nbsp; &nbsp; def _aplicar_limites&#40;self&#41;:<br />&nbsp; &nbsp; &nbsp; if self.destino_camara_x &lt; 0:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.destino_camara_x = 0<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; if self.destino_camara_y &lt; 0:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.destino_camara_y = 0<br /><br />&nbsp; &nbsp; &nbsp; if self.destino_camara_x + ANCHO &gt; self.fondo.get_width&#40;&#41;-64:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.destino_camara_x = self.fondo.get_width&#40;&#41; - ANCHO-64<br /><br />&nbsp; &nbsp; &nbsp; if self.destino_camara_y + ALTO &gt; self.fondo.get_height&#40;&#41;-64:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.destino_camara_y = self.fondo.get_height&#40;&#41; - ALTO-64<br /><br /><br /><br />&nbsp; &nbsp; def puede_pisar&#40;self,x,y&#41;:<br />&nbsp; &nbsp; &nbsp; fila=y/64<br />&nbsp; &nbsp; &nbsp; columna=x/64<br /><br />&nbsp; &nbsp; &nbsp; try:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; celda=self.obstaculos&#91;fila&#93;&#91;columna&#93;<br />&nbsp; &nbsp; &nbsp; except:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return False<br /><br />&nbsp; &nbsp; &nbsp; if celda in &#91;'0'&#93;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return True<br /><br />&nbsp; &nbsp; &nbsp; return False<br /><br />&nbsp; &nbsp; &nbsp; <br /><br />&nbsp; &nbsp; def dibujar_mapa&#40;self&#41;:<br /><br /><br /><br />&nbsp; &nbsp; &nbsp; filas=0<br />&nbsp; &nbsp; &nbsp; for fila in self.mapa:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; columna=0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for celda in fila:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if celda in self.Tiles_Terreno:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; columnaT , filaT = self.Tiles_Terreno&#91;celda&#93;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.fondo.blit&#40;self.image,&#40;64*columna,64*filas&#41;,&#40;64*columnaT,64*filaT,64,64&#41;&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; columna+=1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; filas+=1<br /><br />&nbsp; &nbsp; def imprimir_obstaculos&#40;self,screen&#41;:<br /><br />&nbsp; &nbsp; &nbsp; tile_origen_x=self.camara_x/64<br />&nbsp; &nbsp; &nbsp; tile_origen_y=self.camara_y/64<br /><br />&nbsp; &nbsp; &nbsp; tile_destino_x=tile_origen_x + ANCHO/64+1<br />&nbsp; &nbsp; &nbsp; tile_destino_y = tile_origen_y + ALTO/64 +2<br /><br />&nbsp; &nbsp; &nbsp; if tile_destino_x &gt;= len&#40;self.obstaculos&#91;0&#93;&#41;-1:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tile_destino_x = len&#40;self.obstaculos&#91;0&#93;&#41;-1<br /><br />&nbsp; &nbsp; &nbsp; if tile_destino_y&gt;=len&#40;self.obstaculos&#41;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; tile_destino_y=len&#40;self.obstaculos&#41;<br /><br />&nbsp; &nbsp; &nbsp; filas=0<br />&nbsp; &nbsp; &nbsp; for fila in range&#40;tile_origen_y,tile_destino_y&#41;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; columna=0<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for celda in range&#40;tile_origen_x,tile_destino_x&#41;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if self.obstaculos&#91;fila&#93;&#91;celda&#93; == '0':<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; columna+=1<br />&nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if self.obstaculos&#91;fila&#93;&#91;celda&#93; in self.Tiles_Obstaculo:<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; columnaT,filaT = self.Tiles_Obstaculo&#91;self.obstaculos&#91;fila&#93;&#91;celda&#93;&#93;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; screen.blit&#40;self.image,&#40;64*columna-self.camara_x%64,64*filas-self.camara_y%64&#41;,&#40;64*columnaT,64*filaT,64,64&#41;&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; columna+=1<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; filas+=1<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br /><br />class Conejo&#40;pygame.sprite.Sprite&#41;:<br /><br />&nbsp; &nbsp; def __init__&#40;self,escenario&#41;:<br />&nbsp; &nbsp; &nbsp; pygame.sprite.Sprite.__init__&#40;self&#41;<br />&nbsp; &nbsp; &nbsp; self.image,self.rect=load_image&#40;'conejo.bmp',True&#41;<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; self.rect.move_ip&#40;64,64&#41;#centrado en primer cuadrado<br /><br /><br />&nbsp; &nbsp; &nbsp; self.escenario=escenario<br /><br />&nbsp; &nbsp; def update&#40;self&#41;:<br /><br />&nbsp; &nbsp; &nbsp; teclas=pygame.key.get_pressed&#40;&#41;<br /><br />&nbsp; &nbsp; &nbsp; dx=0<br />&nbsp; &nbsp; &nbsp; dy=0<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; if teclas&#91;K_UP&#93;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dy=-2<br />&nbsp; &nbsp; &nbsp; elif teclas&#91;K_DOWN&#93;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dy=2<br /><br />&nbsp; &nbsp; &nbsp; if teclas&#91;K_RIGHT&#93;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dx=2<br />&nbsp; &nbsp; &nbsp; elif teclas&#91;K_LEFT&#93;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dx=-2<br /><br />&nbsp; &nbsp; &nbsp; if not self.escenario.puede_pisar&#40;self.rect.centerx+dx,self.rect.centery&#41;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dx=0<br /><br />&nbsp; &nbsp; &nbsp; if not self.escenario.puede_pisar&#40;self.rect.centerx,self.rect.centery+dy&#41;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dy=0<br /><br />&nbsp; &nbsp; &nbsp; if self.rect.x+self.rect.width-self.escenario.camara_x&gt;=ANCHO:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.rect.x=ANCHO-self.rect.width+self.escenario.camara_x<br /><br />&nbsp; &nbsp; &nbsp; if self.rect.y+self.rect.height/2&nbsp; &lt;= 0 :<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; self.rect.y =- self.rect.height/2&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; self.rect.move_ip&#40;dx,dy&#41;<br /><br />&nbsp; &nbsp; &nbsp; self.escenario.mirar_a&#40;self.rect&#41;<br /><br />&nbsp; &nbsp; def imprimir&#40;self,screen&#41;:<br />&nbsp; &nbsp; &nbsp; x=self.rect.x-self.escenario.camara_x<br />&nbsp; &nbsp; &nbsp; y=self.rect.y-self.escenario.camara_y<br /><br />&nbsp; &nbsp; &nbsp; screen.blit&#40;self.image,&#40;x,y&#41;&#41;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />def main&#40;&#41;:<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; pygame.init&#40;&#41;<br /><br /><br />&nbsp; &nbsp; escenario=Escenario&#40;&#41;<br />&nbsp; &nbsp; &quot;&quot;&quot;<br />************************************************************<br />&nbsp; &nbsp; Mi intención con estos tres try es conseguir:<br />&nbsp; &nbsp; &nbsp; 1-que la altura de la pantalla sea menor o igual que la altura total del mapa<br />&nbsp; &nbsp; &nbsp; 2- idem pero con el ancho<br />&nbsp; &nbsp; &nbsp; 3- que las dimensiones de las matrices sean iguales.<br /><br />&nbsp; &nbsp; Supongo que no estarán bien expresados, porque no controlo demasiado el tema de los<br />&nbsp; &nbsp; errores en pygame. Si alguno sabe como sería, Por favor me lo comunique<br />****************************************************************<br />&nbsp; &nbsp; try:<br />&nbsp; &nbsp; &nbsp; ALTO/64 &lt;= len&#40;escenario.mapa&#41;<br />&nbsp; &nbsp; except:<br />&nbsp; &nbsp; &nbsp; print 'El alto de la pantalla es mayor que la altura del mapa'<br />&nbsp; &nbsp; &nbsp; exit&#40;&#41;<br /><br />&nbsp; &nbsp; try:<br />&nbsp; &nbsp; &nbsp; ANCHO/64 &lt;= len&#40;escenario.mapa&#91;0&#93;&#41;<br />&nbsp; &nbsp; except:<br />&nbsp; &nbsp; &nbsp; print 'El ancho de la pantalla es mayor que el ancho del mapa'<br />&nbsp; &nbsp; &nbsp; exit&#40;&#41;<br /><br />&nbsp; &nbsp; try:<br />&nbsp; &nbsp; &nbsp; len&#40;self.mapa&#91;0&#93;&#41; = len&#40;self.obstaculos&#91;0&#93;&#41;<br />&nbsp; &nbsp; except:<br />&nbsp; &nbsp; &nbsp; print 'Las dimensiones de las matrices de los mapas y obstaculos no coinciden'<br />&nbsp; &nbsp; &nbsp; exit&#40;&#41;<br /><br /><br />&quot;&quot;&quot;<br /><br />&nbsp; &nbsp; screen=pygame.display.set_mode&#40;&#40;ANCHO,ALTO&#41;&#41;<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; clock=pygame.time.Clock&#40;&#41;<br />&nbsp; &nbsp; <br /><br /><br />&nbsp; &nbsp; conejo=Conejo&#40;escenario&#41;<br />&nbsp; &nbsp; <br /><br /><br /><br /><br />&nbsp; &nbsp; #main loop<br />&nbsp; &nbsp; while True:<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; clock.tick&#40;80&#41;<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; key=pygame.key.get_pressed&#40;&#41;<br />&nbsp; &nbsp; &nbsp; for e in pygame.event.get&#40;&#41;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if e.type==QUIT:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; sys.exit&#40;&#41;<br /><br /><br />&nbsp; &nbsp; &nbsp; conejo.update&#40;&#41;<br /><br />&nbsp; &nbsp; &nbsp; escenario.update&#40;&#41;<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; escenario.imprimir&#40;screen&#41;<br />&nbsp; &nbsp; &nbsp; escenario.imprimir_obstaculos&#40;screen&#41;<br /><br />&nbsp; &nbsp; &nbsp; conejo.imprimir&#40;screen&#41;<br />&nbsp; &nbsp; &nbsp; pygame.display.flip&#40;&#41;<br />&nbsp; &nbsp; &nbsp; pygame.time.wait&#40;10&#41;<br /><br /><br />if __name__=='__main__':<br />&nbsp; &nbsp; main&#40;&#41;<br /></code></dd></dl>
<br />
<br />
<br />Por cierto, se me ha estropeado la mayoria de las indentaciones. alguno sabe como arreglarlo??</div>

			

		</div>

		
			<dl class="postprofile" id="profile2342">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="viewtopic.php-f=8&amp;t=519&amp;start=0.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		
		<label>Mostrar mensajes previos: <select name="st" id="st"><option value="0" selected="selected">Todos los mensajes</option><option value="1">1 día</option><option value="7">7 días</option><option value="14">2 semanas</option><option value="30">1 mes</option><option value="90">3 meses</option><option value="180">6 meses</option><option value="365">1 año</option></select></label>
		<label>Ordenar por <select name="sk" id="sk"><option value="a">Autor</option><option value="t" selected="selected">Fecha publicación</option><option value="s">Asunto</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascendente</option><option value="d">Descendente</option></select> <input type="submit" name="sort" value="Ir" class="button2" /></label>
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=8&amp;t=519.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="pagination">
			5 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="viewforum.php-f=8.html" class="left-box left" accesskey="r">Volver a Sobre lenguajes de programación</a></p>

	<form method="post" id="jumpbox" action="viewforum.php.html" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Saltar a:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Seleccione un Foro</option>
			<option value="-1">------------------</option>
				<option value="15">Proyecto Losersjuegos</option>
			
				<option value="1">&nbsp; &nbsp;Planificación y eventos</option>
			
				<option value="14">&nbsp; &nbsp;Asadetris</option>
			
				<option value="22">Pilas Engine</option>
			
				<option value="23">&nbsp; &nbsp;Anuncios de los desarrolladores</option>
			
				<option value="24">&nbsp; &nbsp;Consultas, problemas o bugs.</option>
			
				<option value="25">&nbsp; &nbsp;Proyectos usando pilas</option>
			
				<option value="26">&nbsp; &nbsp;Sugerencias e ideas</option>
			
				<option value="28">&nbsp; &nbsp;General</option>
			
				<option value="16">Sugerencias, proyectos e ideas</option>
			
				<option value="2">&nbsp; &nbsp;Artículos, traducciones y documentación</option>
			
				<option value="3">&nbsp; &nbsp;Ejemplos</option>
			
				<option value="4">&nbsp; &nbsp;Videojuegos</option>
			
				<option value="12">&nbsp; &nbsp;Propuestas de desarrollo y concursos</option>
			
				<option value="13">&nbsp; &nbsp;Inspiración y otras ideas interesantes</option>
			
				<option value="5">&nbsp; &nbsp;Otros</option>
			
				<option value="17">Consultas</option>
			
				<option value="6">&nbsp; &nbsp;Sobre las bibliotecas multimedia</option>
			
				<option value="7">&nbsp; &nbsp;Instalación de bibliotecas y herramientas</option>
			
				<option value="8" selected="selected">&nbsp; &nbsp;Sobre lenguajes de programación</option>
			
				<option value="9">&nbsp; &nbsp;General</option>
			
				<option value="20">&nbsp; &nbsp;3D</option>
			
				<option value="29">&nbsp; &nbsp;HTML5 y Javascript</option>
			
				<option value="30">&nbsp; &nbsp;Qt y pyqt</option>
			
				<option value="18">Otros</option>
			
				<option value="10">&nbsp; &nbsp;Fuera de tópico</option>
			
				<option value="11">&nbsp; &nbsp;Links interesantes</option>
			
			</select>
			<input type="submit" value="Ir" class="button2" />
		</fieldset>
	</form>


	<h3>¿Quién está conectado?</h3>
	<p>Usuarios navegando por este Foro: No hay usuarios registrados visitando el Foro y 1 invitado</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
				
			<li class="rightside"><a href="memberlist.php-mode=leaders.html">El Equipo</a> &bull; <a href="ucp.php-mode=delete_cookies.html">Borrar todas las cookies del Sitio</a> &bull; Todos los horarios son UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>



<div id="pie">

    <ul>
            <li class="contactenos"><a href="../comunidad/contactenos.html">Contáctenos</a></li>
                
                <li class="cc"><a href="http://creativecommons.org/licenses/by-sa/2.5/deed.es">Licencia de uso para el sitio</a></li>

                    <li class="foro"><a href="index.html">Foro de mensajes</a></li>

                        <li class="comunidad"><a href="../comunidad.html">Sobre el grupo ...</a></li>
                    </ul>
                </div>


</div> <!-- borde -->
</div>


<div class="copyright">
Este foro de mensajes funciona gracias al sistema <a href="http://www.phpbb.com/">phpBB</a>
<br/>
Tema visual personalizando por Hugo Ruscitti.
<br/>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	<img src="cron.php-cron_type=tidy_sessions.gif" width="1" height="1" alt="cron" />
</div>

</body>
</html>