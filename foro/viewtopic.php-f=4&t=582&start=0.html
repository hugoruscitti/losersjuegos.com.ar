<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="es" xml:lang="es">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="es" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="copyright" content="2000, 2002, 2005, 2007 phpBB Group" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

<title>LosersJuegos &bull; Ver Tema - Pong C++/SDL</title>

<link rel="alternate" type="application/atom+xml" title="Feed - LosersJuegos" href="feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Nuevos Temas" href="feed-mode=topics.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Foro - Videojuegos" href="feed-f=4.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Tema - Pong C++/SDL" href="feed-f=4&amp;t=582.php" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:

	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Introduzca el número de página al que desea saltar:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.losersjuegos.com.ar';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<script type="text/javascript" src="styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="styles/prosilver/template/forum_fn.js"></script>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.php-id=3&amp;lang=en&amp;sid=4ec7bd6b5b400f7171476bb35f8261c6.css" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />




<link href="styles/prosilver/theme/header.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/barrausuario.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/design.css" rel="stylesheet" type="text/css"/>

<link href="styles/prosilver/theme/src/prettify.css" type="text/css" rel="stylesheet" />
<script src="styles/prosilver/theme/src/prettify.js" type="text/javascript"></script>


</head>


<body onload="prettyPrint()" id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
<div id='borde'>

    <div id="cabecera">

        <a href='index.html'><img id='logo1' alt='' src="styles/prosilver/theme/ima_cabecera/logo_1.png" width="286" height="50" name="logo1" /></a>

        <div id="navi">
            <ul>
                <li><a href="../index.html">Web</a></li>
                <li id='actual'><a href="index.html">Foro</a></li>
            </ul>
        </div>

    </div>


<div class='barra_usuario'>
        <ul>
                <li class='regresar'><a href='../index.html'>Regresar a la web</a></li>
                <li class='buscar'><a href="search.php.html">Buscar</a></li>

                
                <li class='registrar'><a href="ucp.php-mode=register.html">Registrarse</a></li>

                <li class='registrar'><a href="ucp.php-mode=login.html">Identificarse</a>
                </li>
                

        </ul>
</div>




	<a name="start_here"></a>
	<div id="page-body">
		<ul style='font-size: 14px' class="linklist">
                    <li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
                    </ul>
<h2><a href="viewtopic.php-f=4&amp;t=582&amp;start=0.html">Pong C++/SDL</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body -->

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=4&amp;t=582.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="post" id="topic-search" action="search.php-t=582.html">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Buscar este tema…" onclick="if(this.value=='Buscar este tema…')this.value='';" onblur="if(this.value=='')this.value='Buscar este tema…';" />
				<input class="button2" type="submit" value="Buscar" />
				<input type="hidden" value="582" name="t" />
				<input type="hidden" value="msgonly" name="sf" />
			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			13 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p2646" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="#p2646">Pong C++/SDL</a></h3>
			<p class="author"><a href="viewtopic.php-p=2646.html#p2646"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Jue Jun 25, 2009 11:38 pm </p>

			

			<div class="content">Buenas a todos:
<br />
<br />He hecho un pong en C++/ SDL para conocer un poco todo el tema de SDL en C++ y cosas así (yo hasta ahora solo conocía pygame), pero tengo un problemilla.
<br />Todo funciona más o menos, excepto las colisiones stick-ball ( definidas en Ball.h y Ball.cpp) en las que he empleado la función de la siguiente <a href="http://softwarelibre.uca.es/wikijuegos/Colisiones#Detecci.C3.B3n_de_colisiones_de_superficie_.C3.BAnica" class="postlink">página</a>
<br />
<br />Además, otro pequeño error es que cuando detecta una colisión con las paredes de la pantalla, he de modificar la posición de la bola un pixel, haciendo que deje de estar en contacto con la pared, porque si no se queda constantemente modificando la velocidad. Alguien sabe como subsanarlo.
<br />
<br />El archivo lo podéis descargar de <a href="http://www.megaupload.com/?d=25W45HQ5" class="postlink">aquí</a>
<br />
<br />Un saludo y gracias a todos</div>

			
				<div class="notice">Última edición por <a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a> el Mié Jul 01, 2009 3:42 am, editado 2 veces en total
					
				</div>
			

		</div>

		
			<dl class="postprofile" id="profile2646">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2649" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2649">Re: Pong C++/SDL</a></h3>
			<p class="author"><a href="viewtopic.php-p=2649.html#p2649"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a></strong> &raquo; Sab Jun 27, 2009 2:07 pm </p>

			

			<div class="content"><blockquote><div><cite>Juanxo escribió:</cite>Además, otro pequeño error es que cuando detecta una colisión con las paredes de la pantalla, he de modificar la posición de la bola un pixel, haciendo que deje de estar en contacto con la pared, porque si no se queda constantemente modificando la velocidad. Alguien sabe como subsanarlo.</div></blockquote>
<br />A ver si así te funciona:
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>if &#40;rect.y + vy &gt;= 0 and rect.y + rect.y + vy &lt; SCREEN_H&#41; rect.y += vy;<br />else vy = -vy;</code></dd></dl>
<br />De esta manera también se evita un efecto no deseado al hacer el blit, que modifica el rectángulo.
<br />Faltaría mirar si sale por la izquierda o por la derecha, pero como eso incrementa los puntos, ya es otra cosa.
<br />
<br />Saludos.</div>

			

		</div>

		
			<dl class="postprofile" id="profile2649">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html"><img src="download/1809-avatar=1809_1280195666.gif" width="70" height="70" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 283</dd><dd><strong>Registrado:</strong> Vie Ago 31, 2007 9:25 am</dd><dd><strong>Ubicación:</strong> Barcelona</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://twitter.com/endaramiz" title="WWW: http://twitter.com/endaramiz"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2653" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2653"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2653.html#p2653"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Sab Jun 27, 2009 3:27 pm </p>

			

			<div class="content"><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>rect.y + rect.y + vy</code></dd></dl>
<br />
<br />uno de estos es rect,w no? esque si no no entiendo porque lo haces
<br />
<br />Gracias de todas formas, lo voy a mirar</div>

			

		</div>

		
			<dl class="postprofile" id="profile2653">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2655" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2655"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2655.html#p2655"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a></strong> &raquo; Sab Jun 27, 2009 8:41 pm </p>

			

			<div class="content">Si si, exacto. Lo había escrito con un poco de prisa.</div>

			

		</div>

		
			<dl class="postprofile" id="profile2655">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html"><img src="download/1809-avatar=1809_1280195666.gif" width="70" height="70" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 283</dd><dd><strong>Registrado:</strong> Vie Ago 31, 2007 9:25 am</dd><dd><strong>Ubicación:</strong> Barcelona</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://twitter.com/endaramiz" title="WWW: http://twitter.com/endaramiz"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2663" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2663"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2663.html#p2663"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Mié Jul 01, 2009 3:52 pm </p>

			

			<div class="content">Buenas:
<br />
<br />Gracias endaramiz por las soluciones. Ya he conseguido que todo funcione.
<br />
<br />Ahora estoy tratando de hacer un marcador, pero me da error de segmentacion cuando intento hacer el render.
<br />
<br />La verdad es que he probado bastantes cosas para ver si funcionaba char, char [] const char*, con sprintf, pero me sigue dando el mismo error.
<br />
<br />Si me podéis guiar un poco os lo agradecería, porque he estado mirando ejemplos en internet, pero todos o casi todos son de texto, no de números
<br />
<br />El código de la función es:
<br />
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>void Score::RenderText&#40;&#41;<br />&#123;<br /><br />&nbsp; &nbsp; //Create the text<br />&nbsp; &nbsp; char msg&#91;1&#93;;<br />&nbsp; &nbsp; sprintf&#40;msg, &quot; %d&quot; , N1&#41;;<br /><br />&nbsp; &nbsp; //Render to surface<br />&nbsp; &nbsp; S1 = TTF_RenderText_Shaded&#40;Font,msg,TColor,BColor&#41;;<br />&nbsp; &nbsp; //Optimize the image, assigning the same format that the screen<br /><br />&nbsp; &nbsp; Rect1.w = S1 -&gt; w;<br />&nbsp; &nbsp; Rect1.h = S1 -&gt; h;<br /><br />&nbsp; &nbsp; //Apply colorkey<br />&nbsp; &nbsp; SDL_SetColorKey&#40;S1,SDL_SRCCOLORKEY|SDL_RLEACCEL, SDL_MapRGB&#40;S1-&gt;format,0,0,0&#41;&#41;;<br /><br />&#125;<br /></code></dd></dl>
<br />
<br />N1, S1, Font, TColor, BColor y Rect son miembros de la clase
<br />
<br />Gracias
<br />Juanxo</div>

			

		</div>

		
			<dl class="postprofile" id="profile2663">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2664" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2664"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2664.html#p2664"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=6.html">Geo</a></strong> &raquo; Mié Jul 01, 2009 5:10 pm </p>

			

			<div class="content">¿De qué tipo es N1? A primera vista, la variable msg no podrá contener lo que quieras copiarle con sprintf pues la has declarado de un solo caracter ¿?, por ejemplo, si N1 se trata de un entero, probablemente sea de 16 bits o, incluso de 32, eso definitivamente no cabrá en la variable msg, intenta darle más espacio:
<br />
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>char msg&#91; 16 &#93;;</code></dd></dl>
<br />Ten en cuenta el número de dígitos que puede tener tu variable N1 (contando el signo, si es el caso), además del espacio que utilizas en la llamada a sprintf, como mínimo deberías tener esos caracteres + uno para el caracter de fin de cadena.</div>

			<div id="sig2664" class="signature">La imaginación es el límite.<br />Visita <a href="http://hsblog.mexchip.com" class="postlink">mi blog</a> en inglés o <a href="http://hsblog.mexchip.com/es/" class="postlink">en español</a>.</div>

		</div>

		
			<dl class="postprofile" id="profile2664">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=6.html">Geo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 244</dd><dd><strong>Registrado:</strong> Jue Ago 10, 2006 3:51 am</dd><dd><strong>Ubicación:</strong> México</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://hsblog.mexchip.com" title="WWW: http://hsblog.mexchip.com"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2665" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2665"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2665.html#p2665"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Jue Jul 02, 2009 3:47 pm </p>

			

			<div class="content">Gracias Geo, he hecho lo que me has comentado( al final los he hecho de 32) y ahora si han funcionado.
<br />Lo único que esta manera me parece un poco rebuscada. Es la única o se puede hacer de una manera mejor?
<br />
<br />Por cierto, alguien que este con linux y me diga como hacer el profile de un proyecto SDL en el gcc. Me da error ya dice que no encuentra las funciones de SDL, pero yo lo he probado con el codeblocks(ahi es donde programo) y lo ejecuta sin ningún problema.</div>

			

		</div>

		
			<dl class="postprofile" id="profile2665">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2671" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2671"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2671.html#p2671"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=6.html">Geo</a></strong> &raquo; Vie Jul 03, 2009 3:39 am </p>

			

			<div class="content"><blockquote><div><cite>Juanxo escribió:</cite>Gracias Geo, he hecho lo que me has comentado( al final los he hecho de 32) y ahora si han funcionado.<br />Lo único que esta manera me parece un poco rebuscada. Es la única o se puede hacer de una manera mejor?</div></blockquote><br />¿Te refieres al tamaño con que declaras la variable? Claro, aprovecha que estás en C++ y usa la clase <span style="font-weight: bold">string</span> <img src="images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />. Otra forma, es hacer un estimado del número de dígitos que necesitarás de acuerdo al número de bytes de la variable. Un ejemplo muy malo:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>char msg&#91; sizeof&#40; int &#41; * 3 + 1 &#93;;</code></dd></dl><br />Con sizeof se obtiene el número de bytes del tipo int, se multiplica por 3 considerando que por cada byte haremos uso de tres dígitos, se suma 1 para garantizar que tenemos espacio para el caracter de fin de cadena, es una aproximación que puede servir:<br /><br />1 byte: 255 =&gt; 3 dígitos (se reservan 4 caracteres)<br />2 bytes: 65536 =&gt; 5 dígitos (7)<br />3 bytes: 16,777,216 =&gt; 8 dígitos (10)<br />4 bytes: 4,294,967,296 =&gt; 10 dígitos (13)<br /><br />Ahora, cuidado con el caso de 1 byte para cuando sean variables con signo, podría usar un dígito más y no alcanzar. Debe haber una forma más efectiva (&quot;elegante&quot;) de calcular cuántos dígitos se tienen para X bytes, pero ahorita no la recuerdo <img src="images/smilies/icon_razz.gif" alt=":P" title="Razz" />.<br /><br /><blockquote><div><cite>Juanxo escribió:</cite>Por cierto, alguien que este con linux y me diga como hacer el profile de un proyecto SDL en el gcc. Me da error ya dice que no encuentra las funciones de SDL, pero yo lo he probado con el codeblocks(ahi es donde programo) y lo ejecuta sin ningún problema.</div></blockquote>
<br />¿Profile? ¿a qué te refieres?</div>

			<div id="sig2671" class="signature">La imaginación es el límite.<br />Visita <a href="http://hsblog.mexchip.com" class="postlink">mi blog</a> en inglés o <a href="http://hsblog.mexchip.com/es/" class="postlink">en español</a>.</div>

		</div>

		
			<dl class="postprofile" id="profile2671">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=6.html">Geo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 244</dd><dd><strong>Registrado:</strong> Jue Ago 10, 2006 3:51 am</dd><dd><strong>Ubicación:</strong> México</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://hsblog.mexchip.com" title="WWW: http://hsblog.mexchip.com"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2672" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2672"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2672.html#p2672"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Vie Jul 03, 2009 11:29 am </p>

			

			<div class="content"><blockquote class="uncited"><div>¿Te refieres al tamaño con que declaras la variable? Claro, aprovecha que estás en C++ y usa la clase string</div></blockquote>
<br />
<br />Si, me refería al tamaño de posiciones del array. Para que cupiesen dos numeros (enteros de 16bits, necesito 2 enteros = 32 bits).
<br />
<br />En cuanto a lo de string, esque no sabía si funcionaría, porque el tipo que acepta SDL es const char* y no se si no habría problemas con los tipos.
<br />Probaré haber.
<br />
<br />En cuanto a lo de Profile, me refería a usar el profiler de gcc, que te muestra estadísticas del tiempo empleado en funciones y demás, para ver en que puntos puedo intentar atacar más la optimización
<br />
<br />Gracias por todo Geo.</div>

			

		</div>

		
			<dl class="postprofile" id="profile2672">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2676" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2676"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2676.html#p2676"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=6.html">Geo</a></strong> &raquo; Sab Jul 04, 2009 3:24 am </p>

			

			<div class="content"><blockquote><div><cite>Juanxo escribió:</cite><blockquote class="uncited"><div>¿Te refieres al tamaño con que declaras la variable? Claro, aprovecha que estás en C++ y usa la clase string</div></blockquote><br /><br />Si, me refería al tamaño de posiciones del array. Para que cupiesen dos numeros (enteros de 16bits, necesito 2 enteros = 32 bits).<br /><br />En cuanto a lo de string, esque no sabía si funcionaría, porque el tipo que acepta SDL es const char* y no se si no habría problemas con los tipos.<br />Probaré haber.<br /></div></blockquote><br />Recuerda que la clase string tiene el método c_string() que te devuelve un puntero a char para usar con funciones que esperan cadenas &quot;tipo C&quot;.<br /><br /><blockquote><div><cite>Juanxo escribió:</cite>En cuanto a lo de Profile, me refería a usar el profiler de gcc, que te muestra estadísticas del tiempo empleado en funciones y demás, para ver en que puntos puedo intentar atacar más la optimización<br /></div></blockquote><br />Aaah, ya entendí <img src="images/smilies/icon_razz.gif" alt=":P" title="Razz" />. No se, eso lo hago con Visual Studio <img src="images/smilies/icon_razz.gif" alt=":P" title="Razz" />. Espero que cuando le encuentres (o alguien más comente) lo compartas <img src="images/smilies/icon_smile.gif" alt=":)" title="Smile" />.<br /><br /><blockquote><div><cite>Juanxo escribió:</cite>Gracias por todo Geo.<br /></div></blockquote>
<br />Por nada, recuerda que estamos para compartir <img src="images/smilies/icon_smile.gif" alt=":)" title="Smile" />.
<br />Aaah, y otra cosa, la mejor manera de agradecer es compartiendo, y cuando sea el turno, te toca echar la mano <img src="images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />.</div>

			<div id="sig2676" class="signature">La imaginación es el límite.<br />Visita <a href="http://hsblog.mexchip.com" class="postlink">mi blog</a> en inglés o <a href="http://hsblog.mexchip.com/es/" class="postlink">en español</a>.</div>

		</div>

		
			<dl class="postprofile" id="profile2676">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=6.html">Geo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 244</dd><dd><strong>Registrado:</strong> Jue Ago 10, 2006 3:51 am</dd><dd><strong>Ubicación:</strong> México</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://hsblog.mexchip.com" title="WWW: http://hsblog.mexchip.com"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2680" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2680"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2680.html#p2680"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Sab Jul 04, 2009 5:10 pm </p>

			

			<div class="content">gracias por lo del String. Lo miraré haber que tal.
<br />
<br /><blockquote class="uncited"><div>Espero que cuando le encuentres (o alguien más comente) lo compartas</div></blockquote><br /><br />jajaja. Pues lo encontré. Haber, la manera de conseguir ejecutar el profiler en modo consola es el siguiente:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>juanxo@Juanxo:~/Pruebas/pruebas$ g++ -o main -pg main.cpp<br />juanxo@Juanxo:~/Pruebas/pruebas$ ./main<br />juanxo@Juanxo:~/Pruebas/pruebas$ gprof main<br /></code></dd></dl><br /><br />la primera linea genera la salida del programa en el archivo que va a continuación del parámetro -o. -pg indica al compilador que ejecute el profiler cuando compile y finalmente ponemos el nombre del archivo a compilar.<br /><br />en la segunda linea ejecutamos el archivo de salida y nos muestra la salida del programa.<br />y por último, ejecutamos el profiler en el archivo de salida y se nos mostrará las estadísticas.<br /><br />Problemas: A pesar de tenerlo linkado en el proyecto del codeblocks, al compilar en la consola me da un error como que no reconoce las funciones de SDL.<br /><br />Seguiré estudiandolo.<br /><br /><blockquote class="uncited"><div>Aaah, y otra cosa, la mejor manera de agradecer es compartiendo, y cuando sea el turno, te toca echar la mano Very Happy.</div></blockquote>
<br />
<br />Temer el día en que eso ocurra, porque para que yo os pueda ayudar en algo el mundo se tendría que haber vuelto loco xD (esperemos que no sea cierto)  <img src="images/smilies/icon_razz.gif" alt=":P" title="Razz" /></div>

			

		</div>

		
			<dl class="postprofile" id="profile2680">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2682" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2682"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2682.html#p2682"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a></strong> &raquo; Dom Jul 05, 2009 3:01 pm </p>

			

			<div class="content"><blockquote><div><cite>Juanxo escribió:</cite><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>juanxo@Juanxo:~/Pruebas/pruebas$ g++ -o main -pg main.cpp<br />juanxo@Juanxo:~/Pruebas/pruebas$ ./main<br />juanxo@Juanxo:~/Pruebas/pruebas$ gprof main<br /></code></dd></dl><br /><br />Problemas: A pesar de tenerlo linkado en el proyecto del codeblocks, al compilar en la consola me da un error como que no reconoce las funciones de SDL.</div></blockquote><br />Si el código que has puesto utiliza SDL, no te olvides de poner el -lSDL:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>g++ -o main -pg main.cpp -lSDL </code></dd></dl>
<br />
<br />Saludos.</div>

			

		</div>

		
			<dl class="postprofile" id="profile2682">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html"><img src="download/1809-avatar=1809_1280195666.gif" width="70" height="70" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 283</dd><dd><strong>Registrado:</strong> Vie Ago 31, 2007 9:25 am</dd><dd><strong>Ubicación:</strong> Barcelona</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://twitter.com/endaramiz" title="WWW: http://twitter.com/endaramiz"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2863" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2863">Re: Pong C++/SDL</a></h3>
			<p class="author"><a href="viewtopic.php-p=2863.html#p2863"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1935.html">yasser_001200</a></strong> &raquo; Jue Sep 03, 2009 6:16 pm </p>

			

			<div class="content"><blockquote><div><cite>endaramiz escribió:</cite><blockquote><div><cite>Juanxo escribió:</cite>Además, otro pequeño error es que cuando detecta una colisión con las paredes de la pantalla, he de modificar la posición de la bola un pixel, haciendo que deje de estar en contacto con la pared, porque si no se queda constantemente modificando la velocidad. Alguien sabe como subsanarlo.</div></blockquote><br />A ver si así te funciona:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>if &#40;rect.y + vy &gt;= 0 and rect.y + rect.y + vy &lt; SCREEN_H&#41; rect.y += vy;<br />else vy = -vy;</code></dd></dl><br />De esta manera también se evita un efecto no deseado al hacer el blit, que modifica el rectángulo.<br />Faltaría mirar si sale por la izquierda o por la derecha, pero como eso incrementa los puntos, ya es otra cosa.<br /><br />Saludos.</div></blockquote>
<br />
<br />
<br />NO sería mejor sumar la posición y con el alto y la posición x con el ancho, asi:
<br />rect.y+rect.h+vy&lt;SCREEN_H
<br />
<br />Si se tratase de colisión con las paredes sería:
<br />
<br />if rect.x&lt;=0 then
<br /> vy=vy*-1 
<br />Asi la velocidad sería negativa y la bola iría al lado contrario.
<br />En flash me sale así y me va bien. El problema es cuando aumenta la velocidad</div>

			<div id="sig2863" class="signature">Vienbeni2 a mi mundo....WAJAJAJAJAJA</div>

		</div>

		
			<dl class="postprofile" id="profile2863">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1935.html">yasser_001200</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 46</dd><dd><strong>Registrado:</strong> Lun May 19, 2008 3:28 pm</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="viewtopic.php-f=4&amp;t=582&amp;start=0.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		
		<label>Mostrar mensajes previos: <select name="st" id="st"><option value="0" selected="selected">Todos los mensajes</option><option value="1">1 día</option><option value="7">7 días</option><option value="14">2 semanas</option><option value="30">1 mes</option><option value="90">3 meses</option><option value="180">6 meses</option><option value="365">1 año</option></select></label>
		<label>Ordenar por <select name="sk" id="sk"><option value="a">Autor</option><option value="t" selected="selected">Fecha publicación</option><option value="s">Asunto</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascendente</option><option value="d">Descendente</option></select> <input type="submit" name="sort" value="Ir" class="button2" /></label>
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=4&amp;t=582.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="pagination">
			13 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="viewforum.php-f=4.html" class="left-box left" accesskey="r">Volver a Videojuegos</a></p>

	<form method="post" id="jumpbox" action="viewforum.php.html" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Saltar a:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Seleccione un Foro</option>
			<option value="-1">------------------</option>
				<option value="15">Proyecto Losersjuegos</option>
			
				<option value="1">&nbsp; &nbsp;Planificación y eventos</option>
			
				<option value="14">&nbsp; &nbsp;Asadetris</option>
			
				<option value="22">Pilas Engine</option>
			
				<option value="23">&nbsp; &nbsp;Anuncios de los desarrolladores</option>
			
				<option value="24">&nbsp; &nbsp;Consultas, problemas o bugs.</option>
			
				<option value="25">&nbsp; &nbsp;Proyectos usando pilas</option>
			
				<option value="26">&nbsp; &nbsp;Sugerencias e ideas</option>
			
				<option value="28">&nbsp; &nbsp;General</option>
			
				<option value="16">Sugerencias, proyectos e ideas</option>
			
				<option value="2">&nbsp; &nbsp;Artículos, traducciones y documentación</option>
			
				<option value="3">&nbsp; &nbsp;Ejemplos</option>
			
				<option value="4" selected="selected">&nbsp; &nbsp;Videojuegos</option>
			
				<option value="12">&nbsp; &nbsp;Propuestas de desarrollo y concursos</option>
			
				<option value="13">&nbsp; &nbsp;Inspiración y otras ideas interesantes</option>
			
				<option value="5">&nbsp; &nbsp;Otros</option>
			
				<option value="17">Consultas</option>
			
				<option value="6">&nbsp; &nbsp;Sobre las bibliotecas multimedia</option>
			
				<option value="7">&nbsp; &nbsp;Instalación de bibliotecas y herramientas</option>
			
				<option value="8">&nbsp; &nbsp;Sobre lenguajes de programación</option>
			
				<option value="9">&nbsp; &nbsp;General</option>
			
				<option value="20">&nbsp; &nbsp;3D</option>
			
				<option value="29">&nbsp; &nbsp;HTML5 y Javascript</option>
			
				<option value="30">&nbsp; &nbsp;Qt y pyqt</option>
			
				<option value="18">Otros</option>
			
				<option value="10">&nbsp; &nbsp;Fuera de tópico</option>
			
				<option value="11">&nbsp; &nbsp;Links interesantes</option>
			
			</select>
			<input type="submit" value="Ir" class="button2" />
		</fieldset>
	</form>


	<h3>¿Quién está conectado?</h3>
	<p>Usuarios navegando por este Foro: No hay usuarios registrados visitando el Foro y 1 invitado</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
				
			<li class="rightside"><a href="memberlist.php-mode=leaders.html">El Equipo</a> &bull; <a href="ucp.php-mode=delete_cookies.html">Borrar todas las cookies del Sitio</a> &bull; Todos los horarios son UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>



<div id="pie">

    <ul>
            <li class="contactenos"><a href="../comunidad/contactenos.html">Contáctenos</a></li>
                
                <li class="cc"><a href="http://creativecommons.org/licenses/by-sa/2.5/deed.es">Licencia de uso para el sitio</a></li>

                    <li class="foro"><a href="index.html">Foro de mensajes</a></li>

                        <li class="comunidad"><a href="../comunidad.html">Sobre el grupo ...</a></li>
                    </ul>
                </div>


</div> <!-- borde -->
</div>


<div class="copyright">
Este foro de mensajes funciona gracias al sistema <a href="http://www.phpbb.com/">phpBB</a>
<br/>
Tema visual personalizando por Hugo Ruscitti.
<br/>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	<img src="cron.php-cron_type=tidy_sessions.gif" width="1" height="1" alt="cron" />
</div>

</body>
</html>