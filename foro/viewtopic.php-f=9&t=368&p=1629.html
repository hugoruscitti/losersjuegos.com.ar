<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="es" xml:lang="es">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="es" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="copyright" content="2000, 2002, 2005, 2007 phpBB Group" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

<title>LosersJuegos &bull; Ver Tema - Duda con SDL: movimiento raro de imagen</title>

<link rel="alternate" type="application/atom+xml" title="Feed - LosersJuegos" href="feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Nuevos Temas" href="feed-mode=topics.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Foro - General" href="feed-f=9.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Tema - Duda con SDL: movimiento raro de imagen" href="feed-f=9&amp;t=368.php" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:

	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Introduzca el número de página al que desea saltar:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.losersjuegos.com.ar';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<script type="text/javascript" src="styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="styles/prosilver/template/forum_fn.js"></script>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.php-id=3&amp;lang=en&amp;sid=4ec7bd6b5b400f7171476bb35f8261c6.css" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />




<link href="styles/prosilver/theme/header.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/barrausuario.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/design.css" rel="stylesheet" type="text/css"/>

<link href="styles/prosilver/theme/src/prettify.css" type="text/css" rel="stylesheet" />
<script src="styles/prosilver/theme/src/prettify.js" type="text/javascript"></script>


</head>


<body onload="prettyPrint()" id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
<div id='borde'>

    <div id="cabecera">

        <a href='index.html'><img id='logo1' alt='' src="styles/prosilver/theme/ima_cabecera/logo_1.png" width="286" height="50" name="logo1" /></a>

        <div id="navi">
            <ul>
                <li><a href="../index.html">Web</a></li>
                <li id='actual'><a href="index.html">Foro</a></li>
            </ul>
        </div>

    </div>


<div class='barra_usuario'>
        <ul>
                <li class='regresar'><a href='../index.html'>Regresar a la web</a></li>
                <li class='buscar'><a href="search.php.html">Buscar</a></li>

                
                <li class='registrar'><a href="ucp.php-mode=register.html">Registrarse</a></li>

                <li class='registrar'><a href="ucp.php-mode=login.html">Identificarse</a>
                </li>
                

        </ul>
</div>




	<a name="start_here"></a>
	<div id="page-body">
		<ul style='font-size: 14px' class="linklist">
                    <li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
                    </ul>
<h2><a href="viewtopic.php-f=9&amp;t=368&amp;start=0.html">Duda con SDL: movimiento raro de imagen</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Consulte acerca de programas, técnicas, algoritmos etc.<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=9&amp;t=368.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="post" id="topic-search" action="search.php-t=368.html">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Buscar este tema…" onclick="if(this.value=='Buscar este tema…')this.value='';" onblur="if(this.value=='')this.value='Buscar este tema…';" />
				<input class="button2" type="submit" value="Buscar" />
				<input type="hidden" value="368" name="t" />
				<input type="hidden" value="msgonly" name="sf" />
			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			7 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p1619" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="#p1619">Duda con SDL: movimiento raro de imagen</a></h3>
			<p class="author"><a href="viewtopic.php-p=1619.html#p1619"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a></strong> &raquo; Vie Ago 29, 2008 4:52 pm </p>

			

			<div class="content">Hola llevo un tiempo leyendo cosas de c++ y SDL, tengo conocimientos de pygame y al estar basado en SDL me he sentido bastante cómodo. Pero al intentar hacer unas pruebas me han comenzado a surgir comportamientos inesperados:
<br />1. La prueba consiste en una imagen que se mueve con las teclas, pero por la izquierda y por arriba no se sale de la pantalla. Se supone que el rectángulo tiene las variables x e y con signo así que no comprendo por que me da este problema. ¿Puede ser que lo modifica el blit? por que se desplaza lo de ese ciclo pero no mas.
<br />2. Tenía problemas con los eventos pero ahora ya no me salen y creo que no he tocado nada de la parte esa  <img src="images/smilies/icon_confused.gif" alt=":?" title="Confused" />.
<br />
<br />Como no es muy largo el código lo pego a continuación:
<br />MakeFile<dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>CXX = g++<br />OBJS = main.o personaje.o<br />CXXFLAGS = -g -Wall<br />BIN = personaje<br /><br />all: $&#40;BIN&#41;<br /><br />$&#40;BIN&#41;: $&#40;OBJS&#41;<br />&nbsp; &nbsp;g++ -o personaje $&#40;OBJS&#41; -lSDL -ggdb3</code></dd></dl><br />main.cpp<dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>#include &lt;stdio.h&gt;<br />#include &quot;personaje.h&quot;<br /><br />int main &#40;void&#41;<br />&#123;<br />&nbsp; &nbsp;bool salir = false;<br />&nbsp; &nbsp;class personaje personaje;<br />&nbsp; &nbsp;SDL_Event event;<br />&nbsp; &nbsp;SDL_Surface *screen;<br />&nbsp; &nbsp;if &#40;SDL_Init&#40;SDL_INIT_VIDEO&#41; == -1&#41; <br />&nbsp; &nbsp;&#123;<br />&nbsp; &nbsp;&nbsp; &nbsp;printf&#40;&quot;Error al ejecutar SDL_Init: %s\n&quot;, SDL_GetError&#40;&#41;&#41;;<br />&nbsp; &nbsp;&nbsp; &nbsp;return 1;<br />&nbsp; &nbsp;&#125;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;screen = SDL_SetVideoMode&#40;320, 240, 16, SDL_DOUBLEBUF | SDL_HWSURFACE&#41;;<br /><br />&nbsp; &nbsp;if &#40; screen == NULL &#41;<br />&nbsp; &nbsp;&#123;<br />&nbsp; &nbsp;&nbsp; &nbsp;printf&#40;&quot;Error al ejecutar SDL_SetVideoMode: %s\n&quot;, \<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;SDL_GetError&#40;&#41;&#41;;<br />&nbsp; &nbsp;&nbsp; &nbsp;return 1;<br />&nbsp; &nbsp;&#125;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;SDL_WM_SetCaption&#40;&quot;Prueba sprite&quot;, NULL&#41;;<br />&nbsp; &nbsp;while &#40;salir == false&#41;<br />&nbsp; &nbsp;&#123;<br />/*&nbsp; &nbsp;&nbsp; &nbsp;while &#40;SDL_PollEvent&#40;&amp;event&#41;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;&#123;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;switch &#40;event.type&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;case SDL_QUIT:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;salir = true;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;break;<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;case SDL_KEYDOWN:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;switch &#40;event.key.keysym.sym&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#123;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;case SDLK_q:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;case SDLK_ESCAPE:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;salir = true;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;break;<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;default:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;break;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;<br /><br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;default:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;break;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&#125;<br />&nbsp; &nbsp;&nbsp; &nbsp;&#125; */<br />&nbsp; &nbsp;&nbsp; &nbsp;while &#40;SDL_PollEvent&#40;&amp;event&#41;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;&#123;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if&#40;event.type == SDL_QUIT&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;salir = true;<br />&nbsp; &nbsp;&nbsp; &nbsp;&#125;<br />&nbsp; &nbsp;&nbsp; &nbsp;SDL_FillRect&#40;screen, NULL, 0&#41;;<br />&nbsp; &nbsp;&nbsp; &nbsp;personaje.actualizar&#40;&#41;;<br />&nbsp; &nbsp;&nbsp; &nbsp;personaje.imprimir&#40;screen&#41;;<br />&nbsp; &nbsp;&nbsp; &nbsp;SDL_Flip&#40;screen&#41;;<br />&nbsp; &nbsp;&#125;<br />&nbsp; &nbsp;SDL_Quit&#40;&#41;;<br />&nbsp; &nbsp;return 0;<br />&#125;</code></dd></dl><br />personaje.cpp<dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>#include &quot;personaje.h&quot;<br /><br />personaje :: personaje &#40;&#41;<br />&#123;<br />&nbsp; &nbsp;image = SDL_LoadBMP&#40;&quot;ima/personaje.bmp&quot;&#41;;<br />&nbsp; &nbsp;if &#40;image == NULL&#41;<br />&nbsp; &nbsp;&#123;<br />&nbsp; &nbsp;&nbsp; &nbsp;printf&#40;&quot;Error al cargar la imágen: %s\n&quot;, SDL_GetError&#40;&#41;&#41;;<br />&nbsp; &nbsp;&#125;<br />&nbsp; &nbsp;rect.x = 50;<br />&nbsp; &nbsp;rect.y = 60;<br />&nbsp; &nbsp;rect.w = image-&gt;w;<br />&nbsp; &nbsp;rect.h = image-&gt;h;<br />&#125;<br /><br />personaje :: ~personaje &#40;&#41;<br />&#123;<br />&nbsp; &nbsp;if &#40;image == NULL&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;SDL_FreeSurface&#40;image&#41;;<br />&#125;<br /><br />void personaje :: actualizar &#40;void&#41;<br />&#123;<br />&nbsp; &nbsp;key = SDL_GetKeyState&#40;NULL&#41;;<br />&nbsp; &nbsp;if &#40;key&#91;SDLK_UP&#93;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;rect.y = rect.y - 10;<br />&nbsp; &nbsp;if &#40;key&#91;SDLK_DOWN&#93;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;rect.y = rect.y + 10;<br />&nbsp; &nbsp;if &#40;key&#91;SDLK_LEFT&#93;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;rect.x = rect.x - 10;<br />&nbsp; &nbsp;if &#40;key&#91;SDLK_RIGHT&#93;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;rect.x = rect.x + 10;<br />&#125;<br /><br />void personaje :: imprimir &#40;SDL_Surface *screen&#41;<br />&#123;<br />&nbsp; &nbsp;SDL_BlitSurface&#40;image, NULL, screen, &amp;rect&#41;;<br />&#125;</code></dd></dl><br />personaje.h<dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>#ifndef _JUGADOR<br />#define _JUGADOR<br /><br />#include &quot;SDL/SDL.h&quot;<br /><br />class personaje<br />&#123;<br />&nbsp; &nbsp;public:<br />&nbsp; &nbsp;&nbsp; &nbsp;personaje&#40;&#41;;<br />&nbsp; &nbsp;&nbsp; &nbsp;~personaje&#40;&#41;;<br />&nbsp; &nbsp;&nbsp; &nbsp;void actualizar &#40;void&#41;;<br />&nbsp; &nbsp;&nbsp; &nbsp;void imprimir &#40;SDL_Surface *screen&#41;;<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;private:<br />&nbsp; &nbsp;&nbsp; &nbsp;SDL_Surface *image;<br />&nbsp; &nbsp;&nbsp; &nbsp;SDL_Rect rect;<br />&nbsp; &nbsp;&nbsp; &nbsp;Uint8 *key;<br />&#125;;<br /><br /><br />#endif</code></dd></dl>
<br />
<br />¿Alguna idea de por que pasa esto? Si es un fallo bastante tonto acordaros que es mi primera prueba con SDL.
<br />
<br />Saludos y gracias de antemano.</div>

			

		</div>

		
			<dl class="postprofile" id="profile1619">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html"><img src="download/1809-avatar=1809_1280195666.gif" width="70" height="70" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 283</dd><dd><strong>Registrado:</strong> Vie Ago 31, 2007 9:25 am</dd><dd><strong>Ubicación:</strong> Barcelona</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://twitter.com/endaramiz" title="WWW: http://twitter.com/endaramiz"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1620" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p1620"></a></h3>
			<p class="author"><a href="viewtopic.php-p=1620.html#p1620"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1787.html">Juan Carlos</a></strong> &raquo; Vie Ago 29, 2008 8:26 pm </p>

			

			<div class="content">Hola,
<br />
<br />Fijate que en el destructor de la clase personaje (en el archivo personaje.cpp) el condicional &quot;if&quot; esta al revez.
<br />
<br />Deberia decir
<br />
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>if&#40;image!=NULL&#41;&#123; /* */ &#125;</code></dd></dl>
<br />
<br />Respecto al error de la imagen, ¿que sistema operativo estas usando?. Si no me falla la memoria, en mi Ubuntu, cuando yo intentaba hacer un blit en una posicion negativa (o sea que la imagen se desplaze por encima de la pantalla, o por la izquierda) se cerraba mi programa. 
<br />
<br />Saludos</div>

			

		</div>

		
			<dl class="postprofile" id="profile1620">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1787.html">Juan Carlos</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 97</dd><dd><strong>Registrado:</strong> Sab Jul 07, 2007 1:05 pm</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1621" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p1621">Re: Duda con SDL: movimiento raro de imagen</a></h3>
			<p class="author"><a href="viewtopic.php-p=1621.html#p1621"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=3.html" style="color: #AA0000;" class="username-coloured">hugoruscitti</a></strong> &raquo; Vie Ago 29, 2008 8:45 pm </p>

			

			<div class="content"><blockquote><div><cite>dvd escribió:</cite>... pero por la izquierda y por arriba no se sale de la pantalla. Se supone que el rectángulo tiene las variables x e y con signo así que no comprendo por que me da este problema. ¿Puede ser que lo modifica el blit? por que se desplaza lo de ese ciclo pero no mas.</div></blockquote>
<br />
<br />Sí, exactamente ahí se produce la anomalía. La función
<br />SDL_BlitSurface modifica el parámetro &quot;dstrect&quot; para informar
<br />al programador la region de pantalla que efectivamente se
<br />dibujó. La documentación oficial [1] de la función dice algo como:
<br />
<br />  &quot;The final blit rectangle is saved in  dstrect   after all clipping is performed (  srcrect   is not modified).&quot;
<br />
<br />Por lo tanto, una forma de solucionarlo es crear un rectángulo
<br />auxiliar antes de imprimir:
<br />
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>void personaje :: imprimir &#40;SDL_Surface *screen&#41;<br />&#123;<br />&nbsp; &nbsp; SDL_Rect dst = &#123;rect.x, rect.y, 0, 0&#125;;<br />&nbsp; &nbsp; SDL_BlitSurface&#40;image, NULL, screen, &amp;dst&#41;;<br />&#125;<br /></code></dd></dl>
<br />
<br />Notas:
<br />
<br />[1] - <!-- m --><a class="postlink" href="http://docs.mandragor.org/files/Common_libs_documentation/SDL/SDL_Documentation_project_en/sdlblitsurface.html">http://docs.mandragor.org/files/Common_ ... rface.html</a><!-- m --></div>

			<div id="sig1621" class="signature">Hugo Ruscitti
<br /><!-- w --><a class="postlink" href="http://www.losersjuegos.com.ar">www.losersjuegos.com.ar</a><!-- w --></div>

		</div>

		
			<dl class="postprofile" id="profile1621">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=3.html"><img src="download/3-avatar=3_1295438267.jpg" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=3.html" style="color: #AA0000;" class="username-coloured">hugoruscitti</a>
			</dt>

			<dd>Site Admin</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 1242</dd><dd><strong>Registrado:</strong> Dom Jul 30, 2006 3:57 am</dd><dd><strong>Ubicación:</strong> Buenos Aires, Argentina</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://www.losersjuegos.com.ar" title="WWW: http://www.losersjuegos.com.ar"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1622" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p1622"></a></h3>
			<p class="author"><a href="viewtopic.php-p=1622.html#p1622"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a></strong> &raquo; Dom Ago 31, 2008 10:19 pm </p>

			

			<div class="content"><blockquote><div><cite>Juan Carlos escribió:</cite>Fijate que en el destructor de la clase personaje (en el archivo personaje.cpp) el condicional &quot;if&quot; esta al revez.</div></blockquote>Gracias, aún no comprendo del todo el código, sólo hice un copy/paste de fragmentos de otros archivos y adaptándolos a mi gusto, deduciendo como funcionaba.<br /><br /><br /><blockquote><div><cite>Juan Carlos escribió:</cite>Respecto al error de la imagen, ¿que sistema operativo estas usando?. Si no me falla la memoria, en mi Ubuntu, cuando yo intentaba hacer un blit en una posicion negativa (o sea que la imagen se desplaze por encima de la pantalla, o por la izquierda) se cerraba mi programa.</div></blockquote>Yo también utilizo ubuntu, a lo mejor era por algún fallo del código o porque utilizamos versiones distintas  <img src="images/smilies/icon_confused.gif" alt=":?" title="Confused" /> Si te pasas por Ubuntu, siempre puedes probar si este código funciona...<br /><br /><blockquote><div><cite>hugoruscitti escribió:</cite>&quot;The final blit rectangle is saved in dstrect after all clipping is performed ( srcrect is not modified).&quot;<br /><br />Por lo tanto, una forma de solucionarlo es crear un rectángulo<br />auxiliar antes de imprimir</div></blockquote> Muchas gracias, había leído eso, pero entre que no acababa de entender la frase y que al intentar utilizar variables auxiliares me daba segmentantion fault... Creo que seremos buenos amigos ese error y yo... xD Espero que al empezar la facultad lo pierda de vista  <img src="images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" />
<br />Un comportamiento algo extraño lo de guardar el dstrect, supongo que para usos más avanzado será útil <img src="images/smilies/icon_confused.gif" alt=":?" title="Confused" /> Igualmente con lo que me has dicho va de perlas.
<br />
<br />Saludos y perdón por mi tardanza, he estado fuera unos días.</div>

			

		</div>

		
			<dl class="postprofile" id="profile1622">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html"><img src="download/1809-avatar=1809_1280195666.gif" width="70" height="70" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 283</dd><dd><strong>Registrado:</strong> Vie Ago 31, 2007 9:25 am</dd><dd><strong>Ubicación:</strong> Barcelona</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://twitter.com/endaramiz" title="WWW: http://twitter.com/endaramiz"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1623" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p1623"></a></h3>
			<p class="author"><a href="viewtopic.php-p=1623.html#p1623"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a></strong> &raquo; Mar Sep 02, 2008 1:20 pm </p>

			

			<div class="content">Hola, ¿el MakeFile está bien? lo digo porque me ha vuelto a pasar que se me arregla &quot;solo&quot; un fallo bastante raro: en el archivo personaje añadí unas variables de ángulos y esas cosas y se ponían a valores que no les decía. Después de buscar el error con printfs, decidí disminuir una variable de fps para leerlos mejor (solamente modifiqué eso). Al compilar, el error había desaparecido. Volví a colocar la variable fps a su estado anterior y seguía funcionando perfectamente <img src="images/smilies/icon_confused.gif" alt=":?" title="Confused" /> ¿A alguien más le ha pasado algún &quot;fenómeno paranormal&quot; de estos y sabe como solucionarlos?
<br />
<br />Creo que puede ser del MakeFile porque lo modifiqué sin tener mucha idea (porque tenía no se qué de generar documentación o algo así)(era el del ejemplo colmap, de la tortuga)
<br />
<br />Saludos.</div>

			

		</div>

		
			<dl class="postprofile" id="profile1623">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html"><img src="download/1809-avatar=1809_1280195666.gif" width="70" height="70" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 283</dd><dd><strong>Registrado:</strong> Vie Ago 31, 2007 9:25 am</dd><dd><strong>Ubicación:</strong> Barcelona</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://twitter.com/endaramiz" title="WWW: http://twitter.com/endaramiz"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1625" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p1625">Otra vez el error de antes</a></h3>
			<p class="author"><a href="viewtopic.php-p=1625.html#p1625"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a></strong> &raquo; Mar Sep 02, 2008 9:25 pm </p>

			

			<div class="content">Me ha vuelto a pasar lo mismo: al cambiar el archivo personaje.cpp y personaje.h, he visto que se comportaba muy raro el programa pero que el código parecía correcto (ya estoy acostumbrado a pygame). Entonces solamente he cambiado la variable fps de main.cpp y al compilar todo funcionaba correctamente, luego he podido dejar la variable como estaba sin ningún problema. La próxima vez que me pase, pruebo a compilar a mano. A ver si realmente es del MakeFile.
<br />
<br />Saludos.</div>

			

		</div>

		
			<dl class="postprofile" id="profile1625">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html"><img src="download/1809-avatar=1809_1280195666.gif" width="70" height="70" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 283</dd><dd><strong>Registrado:</strong> Vie Ago 31, 2007 9:25 am</dd><dd><strong>Ubicación:</strong> Barcelona</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://twitter.com/endaramiz" title="WWW: http://twitter.com/endaramiz"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1629" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p1629">Re: Otra vez el error de antes</a></h3>
			<p class="author"><a href="viewtopic.php-p=1629.html#p1629"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=3.html" style="color: #AA0000;" class="username-coloured">hugoruscitti</a></strong> &raquo; Mié Sep 03, 2008 2:16 pm </p>

			

			<div class="content"><blockquote><div><cite>dvd escribió:</cite>al cambiar el archivo personaje.cpp y personaje.h, he visto que se comportaba muy raro el programa pero que el código parecía correcto ...</div></blockquote>
<br />
<br />Saludos, muchas veces los problemas que presentan los programas
<br />escritos con C o C++ son difíciles de encontrar. Esto es así porque
<br />el programa generado por el compilador no hace controles
<br />sobre el estado inicial de las variables, el desborde de vectores e
<br />incluso muchas veces ignora si un acceso a memoria es válido
<br />o no.
<br />
<br />Posiblemente el problema del programa se deba a algo como eso, 
<br />por ejemplo una variable sin inicializar... por lo tanto una de las 
<br />mejores medidas que puedes tomar es usar un programa como
<br />valgrind:
<br />
<br />    <!-- m --><a class="postlink" href="http://valgrind.org/">http://valgrind.org/</a><!-- m -->
<br />
<br />para que este verifique con detalle si tu programa lee o escribe
<br />alguna variable de manera incorrecta.</div>

			<div id="sig1629" class="signature">Hugo Ruscitti
<br /><!-- w --><a class="postlink" href="http://www.losersjuegos.com.ar">www.losersjuegos.com.ar</a><!-- w --></div>

		</div>

		
			<dl class="postprofile" id="profile1629">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=3.html"><img src="download/3-avatar=3_1295438267.jpg" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=3.html" style="color: #AA0000;" class="username-coloured">hugoruscitti</a>
			</dt>

			<dd>Site Admin</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 1242</dd><dd><strong>Registrado:</strong> Dom Jul 30, 2006 3:57 am</dd><dd><strong>Ubicación:</strong> Buenos Aires, Argentina</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://www.losersjuegos.com.ar" title="WWW: http://www.losersjuegos.com.ar"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="viewtopic.php-f=9&amp;t=368&amp;start=0.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		
		<label>Mostrar mensajes previos: <select name="st" id="st"><option value="0" selected="selected">Todos los mensajes</option><option value="1">1 día</option><option value="7">7 días</option><option value="14">2 semanas</option><option value="30">1 mes</option><option value="90">3 meses</option><option value="180">6 meses</option><option value="365">1 año</option></select></label>
		<label>Ordenar por <select name="sk" id="sk"><option value="a">Autor</option><option value="t" selected="selected">Fecha publicación</option><option value="s">Asunto</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascendente</option><option value="d">Descendente</option></select> <input type="submit" name="sort" value="Ir" class="button2" /></label>
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=9&amp;t=368.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="pagination">
			7 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="viewforum.php-f=9.html" class="left-box left" accesskey="r">Volver a General</a></p>

	<form method="post" id="jumpbox" action="viewforum.php.html" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Saltar a:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Seleccione un Foro</option>
			<option value="-1">------------------</option>
				<option value="15">Proyecto Losersjuegos</option>
			
				<option value="1">&nbsp; &nbsp;Planificación y eventos</option>
			
				<option value="14">&nbsp; &nbsp;Asadetris</option>
			
				<option value="22">Pilas Engine</option>
			
				<option value="23">&nbsp; &nbsp;Anuncios de los desarrolladores</option>
			
				<option value="24">&nbsp; &nbsp;Consultas, problemas o bugs.</option>
			
				<option value="25">&nbsp; &nbsp;Proyectos usando pilas</option>
			
				<option value="26">&nbsp; &nbsp;Sugerencias e ideas</option>
			
				<option value="28">&nbsp; &nbsp;General</option>
			
				<option value="16">Sugerencias, proyectos e ideas</option>
			
				<option value="2">&nbsp; &nbsp;Artículos, traducciones y documentación</option>
			
				<option value="3">&nbsp; &nbsp;Ejemplos</option>
			
				<option value="4">&nbsp; &nbsp;Videojuegos</option>
			
				<option value="12">&nbsp; &nbsp;Propuestas de desarrollo y concursos</option>
			
				<option value="13">&nbsp; &nbsp;Inspiración y otras ideas interesantes</option>
			
				<option value="5">&nbsp; &nbsp;Otros</option>
			
				<option value="17">Consultas</option>
			
				<option value="6">&nbsp; &nbsp;Sobre las bibliotecas multimedia</option>
			
				<option value="7">&nbsp; &nbsp;Instalación de bibliotecas y herramientas</option>
			
				<option value="8">&nbsp; &nbsp;Sobre lenguajes de programación</option>
			
				<option value="9" selected="selected">&nbsp; &nbsp;General</option>
			
				<option value="20">&nbsp; &nbsp;3D</option>
			
				<option value="29">&nbsp; &nbsp;HTML5 y Javascript</option>
			
				<option value="30">&nbsp; &nbsp;Qt y pyqt</option>
			
				<option value="18">Otros</option>
			
				<option value="10">&nbsp; &nbsp;Fuera de tópico</option>
			
				<option value="11">&nbsp; &nbsp;Links interesantes</option>
			
			</select>
			<input type="submit" value="Ir" class="button2" />
		</fieldset>
	</form>


	<h3>¿Quién está conectado?</h3>
	<p>Usuarios navegando por este Foro: No hay usuarios registrados visitando el Foro y 1 invitado</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
				
			<li class="rightside"><a href="memberlist.php-mode=leaders.html">El Equipo</a> &bull; <a href="ucp.php-mode=delete_cookies.html">Borrar todas las cookies del Sitio</a> &bull; Todos los horarios son UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>



<div id="pie">

    <ul>
            <li class="contactenos"><a href="../comunidad/contactenos.html">Contáctenos</a></li>
                
                <li class="cc"><a href="http://creativecommons.org/licenses/by-sa/2.5/deed.es">Licencia de uso para el sitio</a></li>

                    <li class="foro"><a href="index.html">Foro de mensajes</a></li>

                        <li class="comunidad"><a href="../comunidad.html">Sobre el grupo ...</a></li>
                    </ul>
                </div>


</div> <!-- borde -->
</div>


<div class="copyright">
Este foro de mensajes funciona gracias al sistema <a href="http://www.phpbb.com/">phpBB</a>
<br/>
Tema visual personalizando por Hugo Ruscitti.
<br/>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	<img src="cron.php-cron_type=tidy_cache.gif" width="1" height="1" alt="cron" />
</div>

</body>
</html>