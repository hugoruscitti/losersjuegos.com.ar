<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="es">
<link rel="self" type="application/atom+xml" href="http://losersjuegos.com.ar/foro/feed.php?f=9&amp;t=579" />

<title>LosersJuegos</title>
<subtitle>Desarrollando videojuegos libres</subtitle>
<link href="http://losersjuegos.com.ar/foro/index.php" />
<updated>2009-06-29T15:48:53+00:00</updated>

<author><name><![CDATA[LosersJuegos]]></name></author>
<id>http://losersjuegos.com.ar/foro/feed.php?f=9&amp;t=579</id>
<entry>
<author><name><![CDATA[Juanxo]]></name></author>
<updated>2009-06-29T15:48:53+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2662#p2662</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2662#p2662"/>
<title type="html"><![CDATA[Presentación y dudas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2662#p2662"><![CDATA[
buenas:<br />he estado trasteando un poco tu código, y he conseguido que funcione lo de las teclas.<br /><br />He hecho estos cambios:<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>for event in pygame.event.get&#40;&#41;:<br />                        if event.type == QUIT:<br />                                running = 0<br /><br />                teclas = pygame.key.get_pressed&#40;&#41;<br /><br />                if teclas&#91;K_a&#93;:<br />                        player.velocity&#91;'x'&#93; = -4<br />                        player.direction = 7<br />                elif teclas&#91;K_d&#93;:<br />                        player.velocity&#91;'x'&#93; = 4<br />                        player.direction = 3<br />                if teclas&#91;K_w&#93;:<br />                        player.velocity&#91;'y'&#93; = -4<br />                        player.direction = 1<br />                elif teclas&#91;K_s&#93;:<br />                        player.velocity&#91;'y'&#93; = 4<br />                        player.direction = 5</code></dd></dl><br /><br />al final de la funcion update añade esto:<br /><dl class="codebox"><dt>Code: </dt><dd><code>                self.velocity&#91;'x'&#93; = 0<br />                self.velocity&#91;'y'&#93; = 0<br /></code></dd></dl><br /><br />con esto a mi me funciona<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2057">Juanxo</a> — Lun Jun 29, 2009 3:48 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Facon]]></name></author>
<updated>2009-06-29T13:40:44+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2661#p2661</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2661#p2661"/>
<title type="html"><![CDATA[Presentación y dudas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2661#p2661"><![CDATA[
<a href="http://www.mediafire.com/?sharekey=98dde2ed254e8480111096d429abd360e04e75f6e8ebb871" class="postlink">http://www.mediafire.com/?sharekey=98dde2ed254e8480111096d429abd360e04e75f6e8ebb871</a><br /><br />Ahí tenéis lo que llevo que se ejecuta bien de momento.<br /><blockquote><div><cite>Juanxo escribió:</cite><br />Un par de cosillas que a lo mejor no has visto:<br />- fijate que siempre utilizas el parámetro self.rect, con lo que lo vas pisando hasta que llegas a la ultima carga.<br />Solución: fijate en una de las ultimas lineas de la función de cargar imagenes es rect = image.get_rect<br />Puedes hacer que la funcion solo devuelva la imagen o hacer lo de obtener solo el primer parámetro que te explique, y calcular el rect en el update con lo de self.rect = self.image.get_rect()<br /></div></blockquote>Tienes razón. He puesto de esta forma:<br /><dl class="codebox"><dt>Code: </dt><dd><code>                self.image11, self.rect=load_image&#40;'player11.bmp', -1&#41;<br />                self.image12=load_image&#40;'player12.bmp', -1&#41;&#91;0&#93;<br />                self.image31=load_image&#40;'player31.bmp', -1&#41;&#91;0&#93;<br />                self.image32=load_image&#40;'player32.bmp', -1&#41;&#91;0&#93;<br />                self.image51=load_image&#40;'player51.bmp', -1&#41;&#91;0&#93;<br />                self.image52=load_image&#40;'player52.bmp', -1&#41;&#91;0&#93;<br />                self.image71=load_image&#40;'player71.bmp', -1&#41;&#91;0&#93;<br />                self.image72=load_image&#40;'player72.bmp', -1&#41;&#91;0&#93;</code></dd></dl><br />Y se ejecuta de la misma forma que la que he subido.<br /><br />En cuanto a lo de la lista, es buena idea, pero de momento quiero basarme en el prototipo. Se que probablemente me dirías que hiciera algo como:<dl class="codebox"><dt>Code: </dt><dd><code>self.image&#91;0&#93;, self.rect = load_image&#40;&quot;player11.bmp&quot;, -1&#41;<br />self.append&#40;load_image&#40;&quot;player12.bmp&quot;, -1&#41; &#91;0&#93;&#41;<br />self.append&#40;load_image&#40;&quot;player31.bmp&quot;, -1&#41; &#91;0&#93;&#41;<br />#Etc...</code></dd></dl>Seria algo así si declare bien la lista.<br /><blockquote><div><cite>Juanxo escribió:</cite><br />Además, podrías crear una lista con las imagenes en vez de tener tanta variable.<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>self.rect.move_ip&#40;self.velocity&#91;'x'&#93;, self.velocity&#91;'y'&#93;&#41; <br /></code></dd></dl><br /></div></blockquote><br />El prototipo en el que me baso lo declara separado, más concretamente de esta forma, al haber implementado colisiones:<br /><dl class="codebox"><dt>Code: </dt><dd><code>        #move horiz<br />        self.rect.move_ip&#40;&#40;self.x_velocity, 0&#41;&#41;<br />        if self.rect.collidelist&#40;blocked_tile_list&#41; != -1:<br />            self.rect.move_ip&#40;&#40;-self.x_velocity,0&#41;&#41;<br /><br />        #move vert<br />        self.rect.move_ip&#40;&#40;0, self.y_velocity&#41;&#41;<br />        if self.rect.collidelist&#40;blocked_tile_list&#41; != -1:<br />            self.rect.move_ip&#40;&#40;0, -self.y_velocity&#41;&#41;</code></dd></dl><br />Yo simplemente he hecho un copy &amp; paste, y cuando implemente colisiones quedaría igual.<br /><br />Lo siguiente que menciones es seguramente porque no cabía el código.<br /><br />Y de lo siguiente, si me falta mucho código, pues solo he puesto un boceto.<br /><br />Lo que quiero hacer es que compare la clase y en teoría al menos creo que es así.<br /><br />Y lo último, no se porque pero he puesto algo similar a lo que pones abajo pero no me funciona, no se porque...<br /><br />Muchas gracias por todo.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2116">Facon</a> — Lun Jun 29, 2009 1:40 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Juanxo]]></name></author>
<updated>2009-06-29T02:21:39+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2659#p2659</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2659#p2659"/>
<title type="html"><![CDATA[Presentación y dudas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2659#p2659"><![CDATA[
Buenas Facon:<br /><br />Un par de cosillas que a lo mejor no has visto:<br />- fijate que siempre utilizas el parametro self.rect, con lo que lo vas pisando hasta que llegas a la ultima carga.<br />Solución: fijate en una de las ultimas lineas de la función de cargar imagenes es rect = image.get_rect<br />Puedes hacer que la funcion solo devuelva la imagen o hacer lo de obtener solo el primer parametro que te explique, y calcular el rect en el update con lo de self.rect = self.image.get_rect()<br />Además, podrías crear una lista con las imagenes en vez de tener tanta variable.<br /><dl class="codebox"><dt>Code: </dt><dd><code>                self.rect.move_ip&#40;self.velocity&#91;'x'&#93;, self.velocity&#91;'y'&#93;&#41;<br /> </code></dd></dl><br />lo juntas todo en una linea<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>if self.velocity&#91;'x'&#93; == 0  and self.velocity&#91;'y'&#93; &lt;0&gt; 0 and self.velocity&#91;'y'&#93; == 0: </code></dd></dl><br /><br />aquí te falta algo de código??<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>                if self.inventory&#91;0&#93; == Sword: </code></dd></dl><br />esto no se si te lo compara con la variable sword (con lo que sería falso, python es sensible a Mayusculas) o lo compara con la clase Sword() directamente. A lo mejor me equivoco aquí.<br /><br /><br /><br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>for event in pygame.event.get&#40;&#41;:<br />                        if event.type == QUIT:<br />                                running = 0<br />                        elif event.type == KEYDOWN:<br />                                if event.key == K_a:<br />                                        player.velocity&#91;'x'&#93; = -4<br />                                        player.direction = 7<br />                                if event.key == K_d:<br />                                        player.velocity&#91;'x'&#93; = 4<br />                                        player.direction = 3<br />                                if event.key == K_w:<br />                                        player.velocity&#91;'y'&#93; = -4<br />                                        player.direction = 1                                   <br />                                if event.key == K_s:<br />                                        player.velocity &#91;'y'&#93; = 4<br />                                        player.direction = 5<br />                                if event.key == K_ESCAPE:<br />                                        pygame.event.post&#40;pygame.event.Event&#40;pygame.QUIT&#41;&#41;<br />                                       <br />                        elif event.type == KEYUP:<br />                                if event.key == K_a:<br />                                        player.velocity&#91;'x'&#93; = 0<br />                                elif event.key == K_d:<br />                                        player.velocity&#91;'x'&#93; = 0<br />                                elif event.key == K_w:<br />                                        player.velocity&#91;'y'&#93; = 0<br />                                elif event.key == K_s:<br />                                        player.velocity&#91;'y'&#93; = 0 </code></dd></dl><br /><br />Esto lo cambiaría por:<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>                    teclas = pygame.key.get_pressed&#40;&#41;<br />                    for event in pygame.event.get&#40;&#41;:<br />                        if event.type == QUIT:<br />                                running = 0<br />                    if teclas&#91;K_UP&#93;:<br />                        player.velocity&#91;'y'&#93; = -4<br />                       ..............................................<br /></code></dd></dl><br /><br />Lo de la animación no lo entiendo muy bien. Si tuvieras un ejemplo que se pudiera ver (ejecutar) a lo mejor te podría ayudar,<br /><br />En cuanto a lo del time.delay no te valdría, porque pararía la ejecución de manera temporal, mientras que con el flag, el codigo sigue ejecutandose pero solo ves los cambios de posición o de animación cada cierto tiempo<br /><br />Un saludo y espero haberte ayudado un poco.<br />Perdón por tanta corrección, pero no lo hago para mal.<br />[/code]<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2057">Juanxo</a> — Lun Jun 29, 2009 2:21 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Facon]]></name></author>
<updated>2009-06-28T20:54:29+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2658#p2658</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2658#p2658"/>
<title type="html"><![CDATA[Presentación y dudas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2658#p2658"><![CDATA[
Bueno al final lo que he hecho es mirar el prototipo en el que me baso y adaptarlo a mi proyecto, que para algo hay que reutilizar el software libre. Ya he solucionado todo lo de arriba y he entendido mejor la estructura de los Sprites, al crear objetos como el personaje y los enemigos que eran ciertos métodos como Update().<br /><br />Bueno os dejo lo que llevo de código:<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>#!/usr/bin/env python<br /><br />#Import Modules<br />import random<br />import string<br />import sys<br />import os<br />import pygame<br />from pygame import *<br />from pygame.sprite import Sprite<br /><br />def load_image&#40;name, colorkey = None&#41;:<br />        ruta = os.path.join&#40;'imgs', name&#41;<br />        try:<br />            image = pygame.image.load&#40;ruta&#41;<br />        except:<br />            print &quot;Error al cargar la imagen:&quot;, ruta<br />            raise SystemExit, message<br /><br />        if colorkey is not None:<br />            image = image.convert&#40;&#41;<br />            if colorkey == -1:<br />                colorkey = image.get_at&#40;&#40;0,0&#41;&#41;<br />            image.set_colorkey&#40;colorkey, RLEACCEL&#41;<br />        else:<br />            if image.get_alpha&#40;&#41; is None:<br />                image = image.convert&#40;&#41;<br />            else:<br />                image = image.convert_alpha&#40;&#41;<br />        return image, image.get_rect&#40;&#41;<br /><br />class Player&#40;Sprite&#41;: # This class is YOU<br />        def __init__&#40;self&#41;:<br />                Sprite.__init__&#40;self&#41;<br />                # Player Animations<br />                self.image11, self.rect=load_image&#40;'player11.bmp', -1&#41;<br />                self.image12, self.rect=load_image&#40;'player12.bmp', -1&#41;<br />                self.image31, self.rect=load_image&#40;'player31.bmp', -1&#41;<br />                self.image32, self.rect=load_image&#40;'player32.bmp', -1&#41;<br />                self.image51, self.rect=load_image&#40;'player51.bmp', -1&#41;<br />                self.image52, self.rect=load_image&#40;'player52.bmp', -1&#41;<br />                self.image71, self.rect=load_image&#40;'player71.bmp', -1&#41;<br />                self.image72, self.rect=load_image&#40;'player72.bmp', -1&#41;<br />                self.image=self.image11<br />                self.rect.center = &#40;30, 30&#41;<br />                self.velocity = &#123;'x':0, 'y':0&#125;<br />                self.direction = 1<br />                self.flag = 1<br />                self.max_health = 3.0<br />                self.health = 3.0<br />                sword = Sword&#40;&#41;<br />                self.inventory = &#91;sword&#93;<br />                <br />        def attack_sword&#40;self&#41;:<br />                if self.inventory&#91;0&#93; == Sword:<br />                        pass<br />                print &quot;Ataque simple!&quot;<br />                                <br />        def update&#40;self&#41;:<br />                # Movement + Collides<br />                self.rect.move_ip&#40;self.velocity&#91;'x'&#93;, 0&#41;<br />                self.rect.move_ip&#40;0, self.velocity&#91;'y'&#93;&#41;<br />                <br />                # Functions for switch map<br />                <br />                # Current Animation<br />                if self.velocity&#91;'x'&#93; == 0  and self.velocity&#91;'y'&#93; &lt;0&gt; 0 and self.velocity&#91;'y'&#93; == 0:<br />                        self.direction = 3<br />                elif self.velocity&#91;'x'&#93; == 0 and self.velocity&#91;'y'&#93; &gt; 0:<br />                        self.direction = 5<br />                elif self.velocity&#91;'x'&#93; &lt; 0 and self.velocity&#91;'y'&#93; == 0:<br />                        self.direction = 7<br />                elif self.velocity&#91;'x'&#93; == 0 and self.velocity&#91;'y'&#93; == 0:<br />                        #self.direction = 0<br />                        pass<br /><br />                if self.direction == 1:<br />                        if self.flag % 6 == 3:<br />                                self.image = self.image11<br />                        elif self.flag % 6 ==0:<br />                                self.image = self.image12<br />                elif self.direction == 3:<br />                        if self.flag % 6 == 3:<br />                                self.image = self.image31<br />                        elif self.flag % 6 ==0:<br />                                self.image = self.image32<br />                elif self.direction == 5:<br />                        if self.flag % 6 == 3:<br />                                self.image = self.image51<br />                        elif self.flag % 6 ==0:<br />                                self.image = self.image52<br />                elif self.direction == 7:<br />                        if self.flag % 6 == 3:<br />                                self.image = self.image71<br />                        elif self.flag % 6 ==0:<br />                                self.image = self.image72<br /><br />                if self.velocity&#91;'x'&#93; != 0 or self.velocity&#91;'y'&#93; != 0:<br />                        self.flag = self.flag + 1<br />                <br />class Item&#40;Sprite&#41;:<br />        def __init__&#40;self&#41;:<br />                pass<br />        <br />        def update&#40;self&#41;:<br />                pass<br /><br />class Sword&#40;Item&#41;:<br />        def __init__&#40;self&#41;:<br />                self.power = 2<br />        <br />        def update&#40;self&#41;:<br />                pass<br /><br />class Monster&#40;Sprite&#41;: # Enemies<br />        def __init__&#40;self&#41;:<br />                Sprite.__init__&#40;self&#41;<br />                self.image, self.rect=load_image&#40;&quot;chara05.png&quot;, -1&#41;<br />                self.posx=70<br />                self.posy=70<br />                        <br />def main&#40;&#41;:<br />        random.seed&#40;&#41;<br />        pygame.init&#40;&#41;<br /><br />        # Prepare stage<br />        screen = pygame.display.set_mode&#40;&#40;640, 480&#41;&#41;<br />        pygame.display.set_caption&#40;'Ventana'&#41;<br />        screen = pygame.display.get_surface&#40;&#41;<br />        background = load_image&#40;'mapa.JPG', None&#41;&#91;0&#93;<br />        screen.blit&#40;background,&#40;0,0&#41;&#41;<br /><br />        player = Player&#40;&#41; # Instance of Player<br />        player_sprite = pygame.sprite.RenderClear&#40;player&#41;<br />        m1 = Monster&#40;&#41;<br />        <br />        screen.blit&#40;player.image, &#40;0, 0&#41;&#41;<br />                <br />        #music = pygame.mixer.Sound&#40;'contradanza.mp3'&#41;<br />        #music.play&#40;-1, 0&#41;<br />        <br />        running = True<br />        <br />        while running:<br />                pygame.time.delay&#40;10&#41;<br />                screen.blit&#40;background, &#40;0,0&#41;&#41;<br />                player_sprite.update&#40;&#41;<br />                screen.blit&#40;m1.image, &#40;m1.posx, m1.posy&#41;, &#40;219, 169, 17, 22&#41;&#41; # Imagen 1 de varias<br />                <br />                # Keyboard Events<br />                <br />                for event in pygame.event.get&#40;&#41;:<br />                        if event.type == QUIT:<br />                                running = 0<br />                        elif event.type == KEYDOWN:<br />                                if event.key == K_a:<br />                                        player.velocity&#91;'x'&#93; = -4<br />                                        player.direction = 7<br />                                if event.key == K_d:<br />                                        player.velocity&#91;'x'&#93; = 4<br />                                        player.direction = 3<br />                                if event.key == K_w:<br />                                        player.velocity&#91;'y'&#93; = -4<br />                                        player.direction = 1                                    <br />                                if event.key == K_s:<br />                                        player.velocity &#91;'y'&#93; = 4<br />                                        player.direction = 5<br />                                if event.key == K_ESCAPE:<br />                                        pygame.event.post&#40;pygame.event.Event&#40;pygame.QUIT&#41;&#41;<br />                                        <br />                        elif event.type == KEYUP:<br />                                if event.key == K_a:<br />                                        player.velocity&#91;'x'&#93; = 0<br />                                elif event.key == K_d:<br />                                        player.velocity&#91;'x'&#93; = 0<br />                                elif event.key == K_w:<br />                                        player.velocity&#91;'y'&#93; = 0<br />                                elif event.key == K_s:<br />                                        player.velocity&#91;'y'&#93; = 0<br />                <br />                # Clear Everything<br />                player_sprite.clear&#40;screen, background&#41;<br />                 <br />                # Draw Everything<br />                player_sprite.draw&#40;screen&#41;<br />                 <br />                pygame.display.flip&#40;&#41;<br />                        <br /><br />if __name__ == '__main__': main&#40;&#41;</code></dd></dl><br /><br />Ahora me falta mirar haber como hago una animación con la espada, al más puro estilo Zelda, cada vez que ataca en función de la posición hace hace un giro de 90º en sentido anti-horario, en el que podría destacar que hay al menos 3 animaciones. la de cuando aparece la espada, la diagonal con la espada en movimiento y la tangente a la primera con &quot;rastros&quot; de movimiento.<br /><br />El algoritmo se me ocurre para animarlo es si las coordenadas se cogen desde el centro de la imagen. seria algo así como 1/2 distancia del personaje + 1/2 de la distancia de la espada, siguiendo esto, tendría:<br /><br />1º Imagen, coger la posición del personaje dado por self.direction y elegir si coger las coordenadas x o las coordenadas y, una vez hecho esto, muestro la imagen y le añado algo de retraso, basándome el prototipo que mire, que hacia con flags y %.<br /><br />2º Imagen, lo mismo que lo de antes pero le sumo ademas la otra coordenada que no puse, quedándome así en diagonal y se le añade también un poco de retraso.<br /><br />3º Imagen cojo las coordenada que no use al principio y hago como antes.<br /><br />Espero que se entienda, y además me surgió la duda con los flags y %, que supongo que podría sustituirlo por pygame.time.delay().<br /><br />Haber que opinan...<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2116">Facon</a> — Dom Jun 28, 2009 8:54 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Juanxo]]></name></author>
<updated>2009-06-27T15:35:30+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2654#p2654</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2654#p2654"/>
<title type="html"><![CDATA[Presentación y dudas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2654#p2654"><![CDATA[
Menos mal que hay gente que se nota que sabe en este foro. Acabo de mirar el código del cofre y está bastante bien como introduccion al de plataformas que comente antes.<br />Lo de plataformas lo dije porque la clase animacion que hizo hugo me parecía una forma muy efectiva de tratarlas.<br /><br />Por cierto, si no entiendes algo del código te recomiendo que te lo reescribas, pensando lo que hace cada linea, pero no copiandolo directamente, sino entendiendo que hace la función e intentar reproducirlo con tus nombres de variables y tus comentarios de explicacion.<br /><br />Cuando un código es bueno, se puede aprender mucho reescribiendolo o simplemente leyendotelo un par de veces<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2057">Juanxo</a> — Sab Jun 27, 2009 3:35 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[endaramiz]]></name></author>
<updated>2009-06-27T15:13:19+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2652#p2652</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2652#p2652"/>
<title type="html"><![CDATA[Presentación y dudas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2652#p2652"><![CDATA[
<blockquote><div><cite>Juanxo escribió:</cite><br />Para el tema de estados, movimiento y demás te recomiendo que te bajes el ejemplo  de Hugo de la seccion de ejemplos( de donde ibas a bajar un ejemplo si no.....jajajaja) de un ejemplo de juego de plataformas.<br /></div></blockquote>También te puede interesar el ejemplo del cofre si quieres aprender sobre los estados. A mí me parece muy bueno porque está exclusivamente centrado en el tema (bueno, y su respectiva animación...). Y una vez entendido, puedes mirar el de las plataformas que ya es más amplio (movimientos, colisiones...).<br /><br />Saludos.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=1809">endaramiz</a> — Sab Jun 27, 2009 3:13 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Juanxo]]></name></author>
<updated>2009-06-27T12:39:56+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2648#p2648</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2648#p2648"/>
<title type="html"><![CDATA[Presentación y dudas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2648#p2648"><![CDATA[
En esto le doy la razon a la cabra, ya que de algun modo tienes que pasar la tecla pulsada a la función, o un parametro direccion o algo.<br /><br />Para el tema de estados, movimiento y demás te recomiendo que te bajes el ejemplo  de Hugo de la seccion de ejemplos( de donde ibas a bajar un ejemplo si no.....jajajaja) de un ejemplo de juego de plataformas.<br /><br />Yo estoy haciendo un juego de plataformas en base a todo ese desarrollo y la verdad es que es un ejemplo cojo....... Si no entiendes algo de lo que hace ese código puedes preguntarlo aquí, que ya has visto que te ayudan hasta los que no programan en ese lenguaje<br /><br />Suerte y a trabajar.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2057">Juanxo</a> — Sab Jun 27, 2009 12:39 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[lacabra25]]></name></author>
<updated>2009-06-27T01:18:21+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2647#p2647</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2647#p2647"/>
<title type="html"><![CDATA[Presentación y dudas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2647#p2647"><![CDATA[
Supongo que con un pequeño boceto te refieres a algo de codigo de ejemplo de como usarlo, yo de python se poco, programo mas en C, y de pygame menos aun, por ello no puedo ponerte lineas y lineas de codigo con la deteccion de la tecla pulsada, el cambio de estado, etc, etc. Pero si quieres que el personaje se mueva a la izquierda y a la derecha no son suficientes esos tres estados; me explico, (voy a suponer que la maquina de estados es una nueva clase de la que defines un objeto, el personaje, por como python es orientado a objetos) tambien seran necesarias algunas variable mas para poder saber si al moverse debe moverse hacia la izquierda o hacia la derecha, si atacar hacia un lado o hacia el otro, etc, etc. Supongo que con una sola propiedad has echo lo de los estados, pues necesitarias otra propiedad para saber hacia que lado esta mirando, cuando una tecla sea pulsada deberas de tener las lineas de codigo necesarias para capturar el evento y poder saber que tecla ha sido pulsada, segun la tecla que sea pulsada cambias el valor de el estado o el lado hacia el que mira, con eso ya tendrias tratados los eventos, despues solo tendrias que actualizar la posicion del personaje en funcion de su estado y demas propiedades, si por ejemplo esta quieto, ya habrias acabado esta parte, si esta en movimiento y mira hacia la derecha lo mueves un poco a la derecha, despues de esto solo tendrias que dibujar todo en pantalla y volver a empezar el bucle del juego volviendo a comprobar los eventos, etc, etc.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=1912">lacabra25</a> — Sab Jun 27, 2009 1:18 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Facon]]></name></author>
<updated>2009-06-25T18:45:01+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2645#p2645</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2645#p2645"/>
<title type="html"><![CDATA[Presentación y dudas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2645#p2645"><![CDATA[
Bueno ya he diseñado el prototipo de lo que va a ser AFD, de la máquina de estados que comentáis arriba.<br /><br />Básicamente el personaje tiene 3 estados: QUIETO, MOVER, ATACAR.<br /><br />- QUIETO: El personaje esta quieto mientras no se toque nada,<br />- MOVER: El personaje se mueve en función de los parametros que pasen a la función move, que determinara la dirección y sentido.<br />- ATACAR: El personaje blande una espada, aparece una secuencia de tres imágenes, que forman 1/4 de circulo, depende de la posición del personaje y es en sentido anti-horario.<br /><br />Lo que no se es como implementarlo me podríais poner un pequeño boceto?<br /><br />PD: En cuanto a los apuntes que pedís, en cuanto de el curso intentare subirlos <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_wink.gif" alt=";)" title="Wink" /> .<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2116">Facon</a> — Jue Jun 25, 2009 6:45 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Juanxo]]></name></author>
<updated>2009-06-25T10:54:33+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2644#p2644</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2644#p2644"/>
<title type="html"><![CDATA[Presentación y dudas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2644#p2644"><![CDATA[
Buenasss::<br /><br />Haber, lo primero de todo, me alegro de que se hayan corregido errores.<br /><br />Segundo, la función de la imagen que te pase es recomendable que la llames de la siguiente forma: <br /><dl class="codebox"><dt>Code: </dt><dd><code>self.imagen, self.rect = load_image&#40;&quot;imagenX&quot;,-1&#41;</code></dd></dl><br />para tener un parámetro rect que si todas las imagenes son iguales no hace falta que cambies y un parámetro imagen, lo cual te permite trabajar mas comodamente.<br />Otra cosa curiosa de Python es que, si solo quieres cargar las imagenes puedes hacer lo siguiente: <br /><dl class="codebox"><dt>Code: </dt><dd><code>self.image = load_image&#40;&quot;imagenX&quot;, -1&#41;&#91;0&#93;</code></dd></dl><br />lo cual te devolvería unicamente el primer parámetro de la función.<br /><br />En cuanto a lo del error, podrías decir cual es exactamente ( que linea te dice, tipo de error, etc)<br /><br /><blockquote class="uncited"><div><br />pero depende de si las bibliotecas que estas usando en python soportan los png<br /></div></blockquote><br /><br />pygame soporta png, que tienen su propio canal_alpha, y además soportan el alpha_blending( creo que se dice así)<br /><br />Nada más por ahora XD, y como ha dicho sabiamente lacabra, QUE RULEN ESOS APUNTESSSS!!!!!!!!!!!! jajajajaja<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2057">Juanxo</a> — Jue Jun 25, 2009 10:54 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[lacabra25]]></name></author>
<updated>2009-06-24T23:14:12+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2641#p2641</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2641#p2641"/>
<title type="html"><![CDATA[Presentación y dudas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2641#p2641"><![CDATA[
En cuanto a lo primero efectivamente es mas eficiente el calcular donde esta cada personaje en la imagen partiendo de el pixel (0, 0) y el ancho y alto de cada personaje, pero mas eficiente que calcularlas es que abras la calculadora un momento y cambies cualquier calculo que tengas por el resultado directamente si siempre vas a usar el mismo personaje o todos los personajes se van a ajustar a la misma rejilla, aunque sea interpretado es mas rapido, por ejemplo &quot;.... 55 ....&quot; que &quot;.... 11*5 ....&quot;. En cuanto a lo de la musica, no hace falta que te compliques la vida enviando los archivos para que te los conviertan, esperar que te los vuelvan a enviar y todo eso, con programas como audacity puedes tu mismo convertirlos, o con ogg convert que te conbierte muchos formatos privativos a formatos libres como de MP3 pasar a OggVorbis. Sobre la transparencia, ya te han comentado lo del color key, aun con eso yo te recomendaria que en lugar de usar bmp uses png, en principio son mas ligeras, pero ademas de so, si no quieres solo que un color sea transparente y el resto opaco, sino que con png tambien podrias tener partes del personaje semitransparentes y cosas asi, pero depende de si las bibliotecas que estas usando en python soportan los png, de todos modos puedes probar a cargar una imagen png y si no da error y la carga bien, pues la soporta. Por ultimo, si no te funciona la solucion que ya te han dado lo que podrias hacer es convertir a tu personaje en una maquina de estados, cuando se pulse la tecla que pase de &quot;parado&quot; a &quot;movimiento_derecha&quot; o &quot;movimiento_izquierda&quot; esto puedes implementarlo con numeros o letras siendo cada uno un estado determinado, y actuar de una determinada forma en funcion de el estado en lugar de las teclas, solo tendrias que encargarte de recojer la pulsacion de la tecla o cuando esta deja de ser presionada para cambiar el estado.<br /><br /><blockquote><div><cite>Facon escribió:</cite><br />...voy a aprender algo de Shaders sobre OpenGL en un cursillo...<br /></div></blockquote><br /><br />Si tomas apuntes y te animas a escanearlos o pasarlos a un PDF y subirlos a algun servidor de internet te saldrias. No se si sera mucho o poco lo que deis en el cursillo, pero siempre se puede aprender algo nuevo.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=1912">lacabra25</a> — Mié Jun 24, 2009 11:14 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Facon]]></name></author>
<updated>2009-06-24T18:30:06+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2639#p2639</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2639#p2639"/>
<title type="html"><![CDATA[Presentación y dudas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2639#p2639"><![CDATA[
Primero y antes de nada muchas gracias por echarme una mano en este mundillo, ya que me habéis solucionado la mayoría de las cosas.<br /><br />1º Según lo puesto por Geo, prefiero poner manualmente las coordenadas y no meterlo en la función porque te lías un huevo, poniendo una a una cada frame a pesar de llevar tiempo es sin duda la forma más eficiente. Aunque como las animaciones esta todas juntas pues hago una suma o multiplicación respecto a la imagen base que ha tiempo de interpretación se convierte en constante.<br /><br />2º Si sera seguramente por lo que dices porque no es una especificación abierta tendré que usar ogg. Ya le diré a mi amigo compositor que me pase a este formato.<br /><br />3º Estoy usando la función de Juanxo, me es muy útil, <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_wink.gif" alt=";)" title="Wink" /> aunque no sabia que se podía devolver de esa forma dos parámetros.<br /><br />4º Aquí me da problemas <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_sad.gif" alt=":(" title="Sad" /> , lo he puesto usando la función que mencionáis pero no funciona... de hecho se me bloquea.<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>while running:<br />                pygame.time.delay&#40;10&#41;<br />                pygame.display.flip&#40;&#41;<br />                screen.blit&#40;background&#91;0&#93;,&#40;0,0&#41;&#41;<br />                screen.blit&#40;player.image, &#40;player.posx, player.posy&#41;&#41;<br />                screen.blit&#40;m1.image, &#40;m1.posx, m1.posy&#41;, &#40;219, 169, 17, 22&#41;&#41; #Imagen 1 de varias<br />                teclas = pygame.key.get_pressed&#40;&#41;              <br />                if teclas&#91;K_RIGHT&#93;:<br />                        player.move&#40;'right'&#41;<br />                if teclas&#91;K_a&#93;:<br />                        player.move&#40;'left'&#41;<br />                if teclas&#91;K_w&#93;:<br />                        player.move&#40;'up'&#41;<br />                if teclas&#91;K_s&#93;:<br />                        player.move&#40;'down'&#41;<br />                if teclas&#91;K_q&#93;:<br />                        running == False</code></dd></dl><br /><br /><blockquote><div><cite>Juanxo escribió:</cite><br />Por cierto, recomendarte que si acabas de empezar, te olvides del 3D por un rato, que hay que dominar la programación de juegos para centrarse en los aspectos d diseño, lógica, mates y cosas de ese estilo<br /></div></blockquote><br /><br />Lo se por eso empiezo de la forma que veis, de todas formas este mes próximo de Julio, voy a aprender algo de Shaders sobre OpenGL en un cursillo, porque solo piden el requisito de saber C++ y algo de matemáticas.<br /><br />Por todo lo demás, repito muchas gracias, me habéis ayudado bastante <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_wink.gif" alt=";)" title="Wink" /> .<br /><br />Un Saludo.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2116">Facon</a> — Mié Jun 24, 2009 6:30 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Juanxo]]></name></author>
<updated>2009-06-23T22:20:21+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2633#p2633</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2633#p2633"/>
<title type="html"><![CDATA[Presentación y dudas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2633#p2633"><![CDATA[
Buenas :<br /><br />1- Para conseguir lo que tu quieres puedes hacer varias cosas:<br />La primera, seria ir recortando los muñequitos uno a uno: Para ello, te puedes crear una función como la siguiente:<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>def imagen_a_tiles&#40;self, image, rect, fila, columna&#41;:<br /><br />        ancho_t = rect.width / columna<br /><br />        alto_t = rect.height / fila<br /><br />        tiles = &#91;&#93;<br />      <br /><br />        for f in range&#40;fila&#41;:<br /><br />            for c in range&#40;columna&#41;:<br /><br />                rect = c*ancho_t, f*alto_t, ancho_t, alto_t<br /><br />                tiles.append&#40;image.subsurface&#40;rect&#41;.copy&#40;&#41;&#41;<br /><br />        return tiles<br /></code></dd></dl><br /><br />Esta función lo que hace es crearte una lista en la cual va añadiendo una imagen del tamaño y en la posicion que le indica rect<br />No es demasiado eficiente quizás, pero te quita de calcular la imagen cada vez.<br /><br />Otra manera sería utilizar el tercer parametro del blit(imagen, posicion, area a imprimir), con el cual le dices que parte de la imagen quieres imprimir.<br /><br />2- Si no estoy equivocado, creo que pygame no reproduce archivos .mp3, es algo parecido a lo que ocurre con SDL y SDL_mixer en C/C++<br /><br />3- Te recomiendo crearte una función para la carga de imagenes, e ir poniendo a cada uno el colorkey ahi, porque de la manera en la que tu lo tienes, el color transparente siempre va a ser el mismo, el que se establece en la imagen11.<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>    def cargar_imagen&#40;self, nombre, colorkey = None&#41;:<br /><br />        ruta = os.path.join&#40;'datos', nombre&#41;<br /><br />        try:<br /><br />            image = pygame.image.load&#40;ruta&#41;<br /><br />        except:<br /><br />            print &quot;Error al cargar la imagen:&quot;, ruta<br /><br />            raise SystemExit, message<br /><br /><br />        if colorkey is not None:<br /><br />            image = image.convert&#40;&#41;<br /><br /><br />            if colorkey == -1:<br /><br />                colorkey = image.get_at&#40;&#40;0,0&#41;&#41;<br /><br />            image.set_colorkey&#40;colorkey, RLEACCEL&#41;<br /><br />        else:<br /><br />            if image.get_alpha&#40;&#41; is None:<br /><br />                image = image.convert&#40;&#41;<br /><br />            else:<br /><br />                image = image.convert_alpha&#40;&#41;<br /><br />        return image, image.get_rect&#40;&#41;<br /></code></dd></dl><br /><br />4- El problema, si te fijas radica en que tu solo ejecutas el movimiento cuando el evento es de tipo KEYDOWN, vamos, solo la primera vez que pulsas. En vez de usar eso te recomiendo lo siguiente:<br /><br />teclado = pygame.key.get_pressed()<br /><br />if teclado[K_UP]:<br />   mover arriba<br />if teclado[K_DOWN]:<br />   mover abajo<br />if teclado[K_i]:<br />mostrar inventario<br /><br />cosas asi...<br /><br />Bueno espero no liarte demasiado, y darte la bienvenida a este sitio.<br /><br />Por cierto, recomendarte que si acabas de empezar, te olvides del 3D por un rato, que hay que dominar la programación de juegos para centrarse en los aspectos d diseño, lógica, mates y cosas de ese estilo<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2057">Juanxo</a> — Mar Jun 23, 2009 10:20 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Geo]]></name></author>
<updated>2009-06-23T22:09:08+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2632#p2632</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2632#p2632"/>
<title type="html"><![CDATA[Presentación y dudas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2632#p2632"><![CDATA[
Yo utilizo C/C++/SDL y no python/pygame, pero espero pueda ayudarte un poco <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_wink.gif" alt=";)" title="Wink" />.<br /><br />1.<br />No entendí si quieres crear muchas imágenes pequeñas o de una sola cargar todas las animaciones. Para lo primero, en cualquier programa de edición gráfica separas cada imagen, en el caso que muestras son de 24x32 pixeles. En cuanto a lo segundo, cargas la imagen completa, y luego copias o dibujas el cuadro que desees. Por ejemplo, si quieres dibujar la segunda animación de la primera línea usarías algo como:<br /><dl class="codebox"><dt>Code: </dt><dd><code>screen.blit&#40; chars, &#40;player.posx, player.posy &#41;, &#40; 24, 0, 24, 32 &#41; &#41;</code></dd></dl><br />En el código sería un poco engorroso estar usando números para cambiar los cuadros, en su lugar, puedes crear los cuadros de animación para tu personaje al inicio de manera similar.<br /><br />3.<br />La imagen tiene un atributo llamado colorkey que indica el color transparente, puedes hacer que el color blanco sea el transparente indicando a cada imagen su colorkey o, ya que en tu método <span style="font-weight: bold">move</span> tienes el código para la transparencia, cambia esto:<br /><dl class="codebox"><dt>Code: </dt><dd><code>self.image.set_colorkey&#40;-1, RLEACCEL&#41;</code></dd></dl><br />por esto:<br /><dl class="codebox"><dt>Code: </dt><dd><code>self.image.set_colorkey&#40;pygame.Color&#40;255,255,255&#41;, RLEACCEL&#41;</code></dd></dl><br /><br />4.<br />Estás moviendo el personaje cada que ocurre un evento de tipo KEYDOWN, el cual solo se lanza en el momento que se presionó la tecla, pero después ya no. En su lugar, utiliza el estado de las teclas que obtuviste con pygame.key.getpressed():<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>                teclas = pygame.key.get_pressed&#40;&#41;<br />                # cambio para que se mueva siempre que esté presionada la tecla<br />                if teclas&#91; K_d &#93;:<br />                        player.move&#40; 'right' &#41;<br />                elif  teclas&#91; K_a &#93;:<br />                        player.move&#40; 'left' &#41;<br /><br /></code></dd></dl><br /><br />Por último, una recomendación, date una vuelta por los ejemplos de la web, encontrarás varios muy útiles:<br /><!-- m --><a class="postlink" href="http://www.losersjuegos.com.ar/referencia/ejemplos">http://www.losersjuegos.com.ar/referencia/ejemplos</a><!-- m --><p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=6">Geo</a> — Mar Jun 23, 2009 10:09 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Facon]]></name></author>
<updated>2009-06-23T16:32:25+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2631#p2631</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2631#p2631"/>
<title type="html"><![CDATA[Presentación y dudas]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=579&amp;p=2631#p2631"><![CDATA[
Buenas a todos, vine aquí con la intención de aprender a hacer un videojuego en 3D y medianamente complejo, con un aspecto similar al de la imagen, añadiendo algo de historia e interactivo.<br /><br /><img src="http://www.panda3d.org/randomscreens/ssg-colossus/colossus6.jpg" alt="Imagen" /><br /><br />Pero como bien se, para llegar hasta algo similar a eso uno tiene que recorrer un largo camino, el mio de hecho es aún más largo pues empiezo de 0, solo sabiendo programación.<br /><br />Para empezar lo mejor es crearte un prototipo en 2D de lo que vas a hacer en 3D, para ello sigo la recomendación que hacéis de Python + PyGame, que permite un desarrollo rápido.<br /><br />Bueno he conseguido hacer algunas cosillas:<br /><br /><a href="http://www.mediafire.com/?sharekey=443477709d349618af924764f9977b1de04e75f6e8ebb871" class="postlink">http://www.mediafire.com/?sharekey=443477709d349618af924764f9977b1de04e75f6e8ebb871</a><br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>#!/usr/bin/env python<br /><br />#Import Modules<br />import random<br />import string<br />import sys<br />import os, os.path<br />import pygame<br />from pygame import *<br />from pygame.sprite import Sprite<br /><br />class Player&#40;Sprite&#41;: # This class is YOU<br />        def __init__&#40;self&#41;:<br />                Sprite.__init__&#40;self&#41;<br />                self.image11=pygame.image.load&#40;'player11.bmp'&#41;.convert&#40;&#41;<br />                self.image12=pygame.image.load&#40;'player12.bmp'&#41;.convert&#40;&#41;<br />                self.image31=pygame.image.load&#40;'player31.bmp'&#41;.convert&#40;&#41;<br />                self.image32=pygame.image.load&#40;'player32.bmp'&#41;.convert&#40;&#41;<br />                self.image51=pygame.image.load&#40;'player51.bmp'&#41;.convert&#40;&#41;<br />                self.image52=pygame.image.load&#40;'player52.bmp'&#41;.convert&#40;&#41;<br />                self.image71=pygame.image.load&#40;'player71.bmp'&#41;.convert&#40;&#41;<br />                self.image72=pygame.image.load&#40;'player72.bmp'&#41;.convert&#40;&#41;<br />                self.image=self.image11<br />                self.image.get_at&#40;&#40;0,0&#41;&#41;<br />                self.image.set_colorkey&#40;-1, RLEACCEL&#41;<br />                self.rect=self.image.get_rect&#40;&#41;<br />                self.posx = 0<br />                self.posy = 0<br /><br />        def move&#40;self, dir&#41;: # Movement<br />                if dir == &quot;left&quot; and self.posx &gt; 0:<br />                        self.posx -= 5<br />                        if self.image == self.image71:<br />                                self.image = self.image72<br />                        else:<br />                                self.image = self.image71<br />                elif dir == &quot;right&quot; and self.posx &lt;60&gt; 0:<br />                        self.posy -= 10<br />                        if self.image == self.image11:<br />                                self.image = self.image12<br />                        else:<br />                                self.image = self.image11<br />                elif dir == &quot;down&quot; and self.posy &lt; 60:<br />                        self.posy += 10<br />                        if self.image == self.image51:<br />                                self.image = self.image52<br />                        else:<br />                                self.image = self.image51<br />                                <br />                self.image.get_at&#40;&#40;0,0&#41;&#41;<br />                self.image.set_colorkey&#40;-1, RLEACCEL&#41;<br />                        <br />def main&#40;&#41;:<br />        random.seed&#40;&#41;<br />        pygame.init&#40;&#41;<br /><br />        # Prepare stage<br />        screen = pygame.display.set_mode&#40;&#40;200, 200&#41;&#41;<br />        pygame.display.set_caption&#40;'Ventana'&#41;<br />        screen = pygame.display.get_surface&#40;&#41;<br />        background = pygame.image.load&#40;'mapa.JPG'&#41;.convert&#40;&#41;<br /><br />        screen.blit&#40;background,&#40;0,0&#41;&#41;<br /><br />        player = Player&#40;&#41; # Instance of Player<br /><br />        screen.blit&#40;player.image, &#40;0,0&#41;&#41;<br />        <br />        music = pygame.mixer.Sound&#40;'contradanza.mp3'&#41;<br />        music.play&#40;-1, 0&#41;<br />        <br />        running = True<br />        <br />        while running:<br />                pygame.time.delay&#40;10&#41;<br />                pygame.display.flip&#40;&#41;<br />                screen.blit&#40;background,&#40;0,0&#41;&#41;<br />                screen.blit&#40;player.image, &#40;player.posx, player.posy&#41;&#41;<br />                teclas = pygame.key.get_pressed&#40;&#41;<br />                for event in pygame.event.get&#40;&#41;:<br />                        if event.type == pygame.QUIT:<br />                                running = False                <br />                        elif event.type == KEYDOWN:<br />                                if event.key == K_d:<br />                                        player.move&#40;'right'&#41;<br />                                elif event.key == K_a:<br />                                        player.move&#40;'left'&#41;<br />                                elif event.key == K_w:<br />                                        player.move&#40;'up'&#41;<br />                                elif event.key == K_s:<br />                                        player.move&#40;'down'&#41;<br />                                elif event.key == K_q:<br />                                        running == False<br /><br />if __name__ == '__main__': main&#40;&#41;</code></dd></dl><br /><br />Ahora bien tengo varias dudas:<br /><br />1º Como puedo a partir de la imagen &quot;Chara05.png&quot;, que adjunto en el archivo obtener resultados similares a los de &quot;player11.bmp&quot;, &quot;player12.bmp&quot;, etc...<br /><br />2º Porque la música que adjunto &quot;contradanza.mp3&quot;, no funciona mientras que la &quot;magic.wav&quot; si.<br /><br />3º Como hago trasparencia a los &quot;playerXX.bmp&quot; que tienen fondo blanco.<br /><br />4º Como puedo hacer que al mantener pulsado un botón de movimiento el personaje vaya en la dirección que le indica dicho botón, hasta que lo suelte.<br /><br />Gracias por leeros este post, he intentar hecharme una mano <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_wink.gif" alt=";)" title="Wink" /> .<br /><br />Un Saludo.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2116">Facon</a> — Mar Jun 23, 2009 4:32 pm</p><hr />
]]></content>
</entry>
</feed>