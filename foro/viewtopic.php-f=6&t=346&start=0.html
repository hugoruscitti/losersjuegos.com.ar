<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="es" xml:lang="es">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="es" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="copyright" content="2000, 2002, 2005, 2007 phpBB Group" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

<title>LosersJuegos &bull; Ver Tema - Problemas cargando musica con SDL_mixer</title>

<link rel="alternate" type="application/atom+xml" title="Feed - LosersJuegos" href="feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Nuevos Temas" href="feed-mode=topics.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Foro - Sobre las bibliotecas multimedia" href="feed-f=6.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Tema - Problemas cargando musica con SDL_mixer" href="feed-f=6&amp;t=346.php" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:

	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Introduzca el número de página al que desea saltar:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.losersjuegos.com.ar';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<script type="text/javascript" src="styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="styles/prosilver/template/forum_fn.js"></script>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.php-id=3&amp;lang=en&amp;sid=4ec7bd6b5b400f7171476bb35f8261c6.css" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />




<link href="styles/prosilver/theme/header.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/barrausuario.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/design.css" rel="stylesheet" type="text/css"/>

<link href="styles/prosilver/theme/src/prettify.css" type="text/css" rel="stylesheet" />
<script src="styles/prosilver/theme/src/prettify.js" type="text/javascript"></script>


</head>


<body onload="prettyPrint()" id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
<div id='borde'>

    <div id="cabecera">

        <a href='index.html'><img id='logo1' alt='' src="styles/prosilver/theme/ima_cabecera/logo_1.png" width="286" height="50" name="logo1" /></a>

        <div id="navi">
            <ul>
                <li><a href="../index.html">Web</a></li>
                <li id='actual'><a href="index.html">Foro</a></li>
            </ul>
        </div>

    </div>


<div class='barra_usuario'>
        <ul>
                <li class='regresar'><a href='../index.html'>Regresar a la web</a></li>
                <li class='buscar'><a href="search.php.html">Buscar</a></li>

                
                <li class='registrar'><a href="ucp.php-mode=register.html">Registrarse</a></li>

                <li class='registrar'><a href="ucp.php-mode=login.html">Identificarse</a>
                </li>
                

        </ul>
</div>




	<a name="start_here"></a>
	<div id="page-body">
		<ul style='font-size: 14px' class="linklist">
                    <li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
                    </ul>
<h2><a href="viewtopic.php-f=6&amp;t=346&amp;start=0.html">Problemas cargando musica con SDL_mixer</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Tratamos sobre el manejo de APIs frecuentemente utilizadas en el desarrollo de videojuegos, como SDL, pygame o SFML.<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=6&amp;t=346.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="post" id="topic-search" action="search.php-t=346.html">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Buscar este tema…" onclick="if(this.value=='Buscar este tema…')this.value='';" onblur="if(this.value=='')this.value='Buscar este tema…';" />
				<input class="button2" type="submit" value="Buscar" />
				<input type="hidden" value="346" name="t" />
				<input type="hidden" value="msgonly" name="sf" />
			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			1 mensaje
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p1537" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="#p1537">Problemas cargando musica con SDL_mixer</a></h3>
			<p class="author"><a href="viewtopic.php-p=1537.html#p1537"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1912.html">lacabra25</a></strong> &raquo; Lun Jul 07, 2008 7:12 pm </p>

			

			<div class="content">Hola, tengo un pequeño problemilla intentando cargar un archivo de musica que no llega ni a un mega, el resto del programa esta bien, pues si quito la parte de cargar la musica el resto del programa va bien pero si no no responde al llegar a esa parte:
<br />
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>#include &lt;stdlib.h&gt;<br />#include &lt;stdio.h&gt;<br />#include &lt;math.h&gt;<br />#include &lt;time.h&gt;<br />#include &lt;SDL/SDL.h&gt;<br />#include &lt;SDL/SDL_image.h&gt;<br />#include &lt;SDL/SDL_mixer.h&gt;<br /><br />/*Definicion de constantes*/<br />/*Titulo de la ventana y texto del icono*/<br />#define TV &quot;Tanks Wars&quot;<br />#define TI &quot;Tanks Wars&quot;<br />/*Maximo de caracteres para el nombre de los drivers*/<br />#define MAXIMO_NOMBRES_DRIVERS 20<br />/*Cantidad de rojo, verde y azul para color que se utilizara como transparente en las imagenes*/<br />#define RT 255<br />#define VT 0<br />#define AT 255<br />/* Fin de la definicion de constantes*/<br /><br />/*Declaracion de funciones*/<br />/*Repite fondomenu en toda pantalla*/<br />int dibujar_fondo_menu&#40;SDL_Surface *fondomenu, SDL_Surface *pantalla&#41;;<br />/*Carga una imagen, comprueba que ha sido cargada, define el color que se usara como transparente y devuelve el puntero a la imagen cargada convertida al tipo de pixel de la pantalla*/<br />SDL_Surface * cargar_img&#40;const char *a, SDL_Surface *p&#41;;<br />/*Borra la superficie que se le pase dibujando un rectangulo negro en toda la superficie &#40;por ejemplo borra la pantalla&#41;*/<br />int borrar_superficie&#40;SDL_Surface *s&#41;;<br />/* Fin de la declaracion de funciones*/<br /><br />int main&#40;int argc, char *argv&#91;&#93;&#41;<br />&#123;<br />&nbsp; &nbsp; /*Declaraciones de variables y punteros*/<br />&nbsp; &nbsp; /* Declaracion de variables y punteros para el video*/<br />&nbsp; &nbsp; SDL_Surface *pantalla, *fondomenu, *bmenua, *bmenue, *bcargando;<br />&nbsp; &nbsp; SDL_Rect destino;<br />&nbsp; &nbsp; char n_driver_video&#91;MAXIMO_NOMBRES_DRIVERS&#93;;<br />&nbsp; &nbsp; /*&nbsp; Fin*/<br />&nbsp; &nbsp; /* Declaracion de variables y punteros para los eventos*/<br />&nbsp; &nbsp; SDL_Event evento;<br />&nbsp; &nbsp; /*&nbsp; Fin*/<br />&nbsp; &nbsp; /* Declaracion de variables y punteros para el control de la ejecucion*/<br />&nbsp; &nbsp; register int e=1;<br />&nbsp; &nbsp; register unsigned long int xd=0, yd=0;<br />&nbsp; &nbsp; Uint32 tiempo;<br />&nbsp; &nbsp; /*&nbsp; Fin*/<br />&nbsp; &nbsp; /* Declaracion de variables y punteros para la reproduccion y control de el audio*/<br />&nbsp; &nbsp; unsigned int inicializadoaudio=0, musica=0;<br />&nbsp; &nbsp; Mix_Music *musicamenu1;<br />&nbsp; &nbsp; /*&nbsp; Fin*/<br />&nbsp; &nbsp; /* Fin*/<br />&nbsp; &nbsp; /*Iniciando SDL*/<br />&nbsp; &nbsp; if &#40;SDL_Init&#40;SDL_INIT_VIDEO|SDL_INIT_AUDIO&#41; &lt; 0&#41;<br />&nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; printf&#40;&quot;No se pudo iniciar SDL: %s\n&quot;,SDL_GetError&#40;&#41;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; exit&#40;1&#41;;<br />&nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; atexit&#40;SDL_Quit&#41;;<br />&nbsp; &nbsp; /* Fin del inicio de SDL*/<br />&nbsp; &nbsp; /*Iniciar modo de video*/<br />&nbsp; &nbsp; pantalla = SDL_SetVideoMode&#40;1280,1024,24,SDL_SWSURFACE| SDL_DOUBLEBUF| SDL_NOFRAME| SDL_FULLSCREEN&#41;;<br />&nbsp; &nbsp; if &#40;pantalla == NULL&#41;<br />&nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; printf&#40;&quot;No se pudo iniciar el modo gráfico: %s\n&quot;, SDL_GetError&#40;&#41;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; exit&#40;1&#41;;<br />&nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; /* Fin del inicio del modo de video*/<br />&nbsp; &nbsp; /*&nbsp; &nbsp;Dejando la pantalla en negro*/<br />&nbsp; &nbsp; borrar_superficie&#40;pantalla&#41;;<br />&nbsp; &nbsp; /*&nbsp; &nbsp;Fin de dejando la pantalla en negro*/<br />&nbsp; &nbsp; /*&nbsp; &nbsp;Ocultando cursor hasta mostrar el menu despues de haber cargado las imagenes*/<br />&nbsp; &nbsp; SDL_ShowCursor &#40;SDL_DISABLE&#41;;<br />&nbsp; &nbsp; /*&nbsp; &nbsp;Fin del ocultamiento del cursor*/<br />&nbsp; &nbsp; /*Iniciar audio*/<br />&nbsp; &nbsp; if &#40;Mix_OpenAudio&#40;44100, AUDIO_S16, 2, 4096&#41; != 0&#41;<br />&nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; inicializadoaudio= 1;<br />&nbsp; &nbsp; &nbsp; &nbsp; printf&#40;&quot;No se pudo inicializar el audio: %s\n&quot;, SDL_GetError&#40;&#41;&#41;;<br />&nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; else<br />&nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; atexit&#40;Mix_CloseAudio&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; Mix_VolumeMusic&#40;128&#41;;<br />&nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; /* Fin del inicio de audio*/<br />&nbsp; &nbsp; /*&nbsp; &nbsp;Cambiando titulo a ventana*/<br />&nbsp; &nbsp; SDL_WM_SetCaption&#40;TV,TI&#41;;<br />&nbsp; &nbsp; /*&nbsp; &nbsp;Fin de cambiando titulo a ventana*/<br />&nbsp; &nbsp; /*&nbsp; &nbsp;Escribiendo propiedades del modo de video admitido y usado para la correccion de errores*/<br />&nbsp; &nbsp; printf&#40;&quot;Modo grafico: %uX%u\n&quot;, pantalla-&gt;w, pantalla-&gt;h&#41;;<br />&nbsp; &nbsp; /*&nbsp; &nbsp; Fin*/<br />&nbsp; &nbsp; /*Obtencion del nombre del driver de video utilizado*/<br />&nbsp; &nbsp; SDL_VideoDriverName&#40;&amp;n_driver_video&#91;0&#93;, MAXIMO_NOMBRES_DRIVERS&#41;;<br />&nbsp; &nbsp; /*&nbsp; Escribiendo nomre del driver para correccion de errores*/<br />&nbsp; &nbsp; if &#40;&amp;n_driver_video&#91;0&#93; != NULL&#41;<br />&nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; printf&#40;&quot;Driver de video: %s\n&quot;, n_driver_video&#41;;<br />&nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; /*&nbsp; &nbsp; Fin*/<br />&nbsp; &nbsp; /* Fin de la obtencion del driver de video*/<br />&nbsp; &nbsp; /*Dibujando primer menu para indicar la carga*/<br />&nbsp; &nbsp; fondomenu= cargar_img&#40;&quot;Imagenes/fondo_menup.jpg&quot;, pantalla&#41;;<br />&nbsp; &nbsp; dibujar_fondo_menu&#40;fondomenu, pantalla&#41;;<br />&nbsp; &nbsp; bmenua= cargar_img&#40;&quot;Imagenes/boton_menup_apagado.png&quot;, pantalla&#41;;<br />&nbsp; &nbsp; destino.w= bmenua-&gt;w;<br />&nbsp; &nbsp; destino.h= bmenua-&gt;h;<br />&nbsp; &nbsp; destino.x= &#40;&#40;pantalla-&gt;w / 2&#41; - &#40;bmenua-&gt;w / 2&#41;&#41;;<br />&nbsp; &nbsp; destino.y= &#40;&#40;pantalla-&gt;h / 2&#41; - &#40;bmenua-&gt;h / 2&#41;&#41;;<br />&nbsp; &nbsp; SDL_BlitSurface&#40;bmenua, NULL, pantalla, &amp;destino&#41;;<br />&nbsp; &nbsp; SDL_Flip&#40;pantalla&#41;;<br />&nbsp; &nbsp; SDL_Delay&#40;1000&#41;;<br />&nbsp; &nbsp; bmenue= cargar_img&#40;&quot;Imagenes/boton_menup_encendido.png&quot;, pantalla&#41;;<br />&nbsp; &nbsp; SDL_BlitSurface&#40;bmenue, NULL, pantalla, &amp;destino&#41;;<br />&nbsp; &nbsp; SDL_Flip&#40;pantalla&#41;;<br />&nbsp; &nbsp; SDL_Delay&#40;500&#41;;<br />&nbsp; &nbsp; bcargando= cargar_img&#40;&quot;Imagenes/boton_menup_cargando.png&quot;, pantalla&#41;;<br />&nbsp; &nbsp; SDL_BlitSurface&#40;bcargando, NULL, pantalla, &amp;destino&#41;;<br />&nbsp; &nbsp; SDL_Flip&#40;pantalla&#41;;<br />&nbsp; &nbsp; /* Fin*/<br />&nbsp; &nbsp; /*Creacion de las superficies para todas las imagenes del juego y carga de las imagenes*/<br />&nbsp; &nbsp; SDL_Surface *suelo, *bsalir, *bjugar, *bred, *bacercade, *bopciones, *cseleccion, *ecolor, *objetos;<br />&nbsp; &nbsp; SDL_Surface *tamarillo, *trojo, *tazul, *tverde, *trosado, *tnegro;<br />&nbsp; &nbsp; suelo= cargar_img&#40;&quot;Imagenes/suelo.jpg&quot;, pantalla&#41;;<br />&nbsp; &nbsp; bsalir= cargar_img&#40;&quot;Imagenes/boton_menup_salir.png&quot;, pantalla&#41;;<br />&nbsp; &nbsp; bjugar= cargar_img&#40;&quot;Imagenes/boton_menup_jugar.png&quot;, pantalla&#41;;<br />&nbsp; &nbsp; bred= cargar_img&#40;&quot;Imagenes/boton_menup_red.png&quot;, pantalla&#41;;<br />&nbsp; &nbsp; bacercade= cargar_img&#40;&quot;Imagenes/boton_menup_acercade.png&quot;, pantalla&#41;;<br />&nbsp; &nbsp; bopciones= cargar_img&#40;&quot;Imagenes/boton_menup_opciones.png&quot;, pantalla&#41;;<br />&nbsp; &nbsp; cseleccion= cargar_img&#40;&quot;Imagenes/controles_seleccion.png&quot;, pantalla&#41;;<br />&nbsp; &nbsp; ecolor= cargar_img&#40;&quot;Imagenes/elige_color.png&quot;, pantalla&#41;;<br />&nbsp; &nbsp; objetos= cargar_img&#40;&quot;Imagenes/objetos_escenario.png&quot;, pantalla&#41;;<br />&nbsp; &nbsp; tamarillo= cargar_img&#40;&quot;Imagenes/tanque_ligero_amarillo.png&quot;, pantalla&#41;;<br />&nbsp; &nbsp; trojo= cargar_img&#40;&quot;Imagenes/tanque_ligero_rojo.png&quot;, pantalla&#41;;<br />&nbsp; &nbsp; tazul= cargar_img&#40;&quot;Imagenes/tanque_ligero_azul.png&quot;, pantalla&#41;;<br />&nbsp; &nbsp; tverde= cargar_img&#40;&quot;Imagenes/tanque_ligero_verde.png&quot;, pantalla&#41;;<br />&nbsp; &nbsp; trosado= cargar_img&#40;&quot;Imagenes/tanque_ligero_rosa.png&quot;, pantalla&#41;;<br />&nbsp; &nbsp; tnegro= cargar_img&#40;&quot;Imagenes/tanque_ligero_negro.png&quot;, pantalla&#41;;<br />&nbsp; &nbsp; /* Fin*/<br />&nbsp; &nbsp; printf&#40;&quot;Imagenes cargadas\n&quot;&#41;;<br />&nbsp; &nbsp; /*Cargando audio*/<br />&nbsp; &nbsp; if &#40;inicializadoaudio == 0&#41;<br />&nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; musicamenu1= Mix_LoadMUS&#40;&quot;Sonido/musica_menu_1.mp3&quot;&#41;;<br />&nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; /* Fin*/<br />&nbsp; &nbsp; printf&#40;&quot;Sonidos y musica cargados\n&quot;&#41;;<br />&nbsp; &nbsp; /*&nbsp; Mostrando el cursor*/<br />&nbsp; &nbsp; SDL_ShowCursor &#40;SDL_ENABLE&#41;;<br />&nbsp; &nbsp; /*&nbsp; Fin de mostrando el cursor*/<br />&nbsp; &nbsp; /*Bucle de ejecucion*/<br />&nbsp; &nbsp; while &#40;e &gt; 0&#41;<br />&nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; /*Iniciando musica si hace falta*/<br />&nbsp; &nbsp; &nbsp; &nbsp; if &#40;inicializadoaudio == 0 &amp;&amp; musicamenu1 != NULL &amp;&amp; musica == 0 &amp;&amp; Mix_PlayingMusic&#40;&#41; == 0&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Mix_FadeInMusic&#40;musicamenu1, 0, 2000&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; /* Fin*/<br />&nbsp; &nbsp; &nbsp; &nbsp; /*Preparando variable destino para el dibujado del menu*/<br />&nbsp; &nbsp; &nbsp; &nbsp; destino.w= bmenua-&gt;w;<br />&nbsp; &nbsp; &nbsp; &nbsp; destino.h= bmenua-&gt;h;<br />&nbsp; &nbsp; &nbsp; &nbsp; destino.x= &#40;&#40;pantalla-&gt;w / 2&#41; - &#40;bmenua-&gt;w / 2&#41;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; /*Dibujando menu principal del juego si es necesario &#40;con animacion sencilla&#41; e=1*/<br />&nbsp; &nbsp; &nbsp; &nbsp; if &#40;e == 1&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dibujar_fondo_menu&#40;fondomenu, pantalla&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; xd= 1;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for &#40;destino.y=10; destino.y &lt; pantalla-&gt;h &amp;&amp; xd &lt;= 5; destino.y+= &#40;bmenua-&gt;h + 10&#41;&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_BlitSurface&#40;bmenua, NULL, pantalla, &amp;destino&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; xd++;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_Flip&#40;pantalla&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_Delay&#40;1000&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; xd= 1;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for &#40;destino.y=10; destino.y &lt; pantalla-&gt;h &amp;&amp; xd &lt;= 5; destino.y+= &#40;bmenua-&gt;h + 10&#41;&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_BlitSurface&#40;bmenue, NULL, pantalla, &amp;destino&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_Flip&#40;pantalla&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if &#40;xd &gt; 1&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_Delay&#40;100&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; xd++;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_Delay&#40;400&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destino.y= 10;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_BlitSurface&#40;bjugar, NULL, pantalla, &amp;destino&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destino.y+=&#40;bmenua-&gt;h + 10&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_BlitSurface&#40;bred, NULL, pantalla, &amp;destino&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destino.y+=&#40;bmenua-&gt;h + 10&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_BlitSurface&#40;bopciones, NULL, pantalla, &amp;destino&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destino.y+=&#40;bmenua-&gt;h + 10&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_BlitSurface&#40;bacercade, NULL, pantalla, &amp;destino&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destino.y+=&#40;bmenua-&gt;h + 10&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_BlitSurface&#40;bsalir, NULL, pantalla, &amp;destino&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_Flip&#40;pantalla&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; /* Fin*/<br />&nbsp; &nbsp; &nbsp; &nbsp; /*Dibujando menu principal del juego si es necesario &#40;sin animacion&#41; e=2*/<br />&nbsp; &nbsp; &nbsp; &nbsp; if &#40;e == 2&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; dibujar_fondo_menu&#40;fondomenu, pantalla&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destino.y= 10;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_BlitSurface&#40;bjugar, NULL, pantalla, &amp;destino&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destino.y+=&#40;bmenua-&gt;h + 10&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_BlitSurface&#40;bred, NULL, pantalla, &amp;destino&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destino.y+=&#40;bmenua-&gt;h + 10&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_BlitSurface&#40;bopciones, NULL, pantalla, &amp;destino&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destino.y+=&#40;bmenua-&gt;h + 10&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_BlitSurface&#40;bacercade, NULL, pantalla, &amp;destino&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destino.y+=&#40;bmenua-&gt;h + 10&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_BlitSurface&#40;bsalir, NULL, pantalla, &amp;destino&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_Flip&#40;pantalla&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; /* Fin*/<br />&nbsp; &nbsp; &nbsp; &nbsp; /*&nbsp; e=3 para no volver a dibujar el menu en cada ejecucion del bucle mientras no sea necesario*/<br />&nbsp; &nbsp; &nbsp; &nbsp; e= 3;<br />&nbsp; &nbsp; &nbsp; &nbsp; /*&nbsp; Fin*/<br />&nbsp; &nbsp; &nbsp; &nbsp; /*Lectura de eventos*/<br />&nbsp; &nbsp; &nbsp; &nbsp; while &#40; SDL_PollEvent&#40;&amp;evento&#41;&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /*Comprobando la pulsacion de teclas*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if &#40;evento.type == SDL_KEYDOWN&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; switch &#40;evento.key.keysym.sym&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case SDLK_j:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf&#40;&quot;Eleccion de jugar\n&quot;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case SDLK_r:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf&#40;&quot;Eleccion de jugar en red\n&quot;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case SDLK_o:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf&#40;&quot;Eleccion de opciones\n&quot;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case SDLK_a:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf&#40;&quot;Eleccion de acerca de tanks wars\n&quot;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case SDLK_s:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e= 0;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e= 3;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Fin de la comprobacion de pulsacion de teclas*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /*Comprobando los clicks del raton*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if &#40;evento.type == SDL_MOUSEBUTTONDOWN &amp;&amp; evento.button.button == SDL_BUTTON_LEFT&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Preparacion de destino para comparacion con coordenadas del raton*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destino.x= &#40;&#40;pantalla-&gt;w / 2&#41; - &#40;bmenua-&gt;w / 2&#41;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destino.y= 10;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destino.w= &#40;&#40;pantalla-&gt;w / 2&#41; + &#40;bmenua-&gt;w / 2&#41;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destino.h= 10 + bmenua-&gt;h;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; for &#40;xd= 1; xd &lt;= 5; xd++&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if &#40;evento.button.y &gt; destino.y &amp;&amp; evento.button.x &gt; destino.x &amp;&amp; evento.button.x &lt; destino.w &amp;&amp; evento.button.y &lt; destino.h&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; switch &#40;xd&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 1:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf&#40;&quot;Eleccion de jugar\n&quot;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 2:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf&#40;&quot;Eleccion de jugar en red\n&quot;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 3:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf&#40;&quot;Eleccion de opciones\n&quot;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 4:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; printf&#40;&quot;Eleccion de acerca de tanks wars\n&quot;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case 5:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e= 0;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; default:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e=3;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destino.y+= 10 + bmenua-&gt;h;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; destino.h= destino.y + bmenua-&gt;h;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Fin de la comprobacion del raton*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /*Comprobando si la aplicacion debe ser redibujada por peticion del sistema operativo o refresco de pantalla*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if &#40;evento.type == SDL_VIDEOEXPOSE&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e= 2;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Fin de la comprobacion de refresco*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /*Comprobando si el sistema operativo intenta cerrar la aplicacion*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if &#40;evento.type == SDL_QUIT&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Cuando este preparado los eventos del menu quitar la pulsacion de tecla de esta condicion */<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; e= 0;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; /* Fin de la comprobacion de intento de cerrar la aplicacion por parte del sistema operativo*/<br />&nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; /* Fin de la lectura de eventos*/<br />&nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; /* Fin del bucle de ejecucion*/<br />&nbsp; &nbsp; /*Parando la musica*/<br />&nbsp; &nbsp; Mix_FadeOutMusic&#40;2000&#41;;<br />&nbsp; &nbsp; /* Fin*/<br />&nbsp; &nbsp; /*Finalizando la aplicacion*/<br />&nbsp; &nbsp; /*&nbsp; Ocultando el cursor*/<br />&nbsp; &nbsp; SDL_ShowCursor &#40;SDL_DISABLE&#41;;<br />&nbsp; &nbsp; /*&nbsp; Fin de ocultando el cursor*/<br />&nbsp; &nbsp; /*Dejando la pantalla en negro*/<br />&nbsp; &nbsp; borrar_superficie&#40;pantalla&#41;;<br />&nbsp; &nbsp; /* Fin de dejando la pantalla en negro*/<br />&nbsp; &nbsp; /*Liberando superficies antes de finalizar la aplicacion*/<br />&nbsp; &nbsp; SDL_FreeSurface&#40;tamarillo&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;trojo&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;tazul&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;tverde&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;trosado&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;tnegro&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;suelo&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;bsalir&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;bjugar&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;bred&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;bacercade&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;bopciones&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;cseleccion&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;ecolor&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;objetos&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;bcargando&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;bmenue&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;bmenua&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;fondomenu&#41;;<br />&nbsp; &nbsp; SDL_FreeSurface&#40;pantalla&#41;;<br />&nbsp; &nbsp; /* Fin*/<br />&nbsp; &nbsp; /*Liberando audio antes de finalizar la aplicacion*/<br />&nbsp; &nbsp; if &#40;musicamenu1 != NULL&#41;<br />&nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; Mix_FreeMusic&#40;musicamenu1&#41;;<br />&nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; /* Fin*/<br />&nbsp; &nbsp; /* Mostrando cursor antes de slir por completo*/<br />&nbsp; &nbsp; SDL_ShowCursor&#40;SDL_ENABLE&#41;;<br />&nbsp; &nbsp; /*&nbsp; Fin de mostrar el cursor*/<br />&nbsp; &nbsp; /*Finalizando SDL antes de salir*/<br />&nbsp; &nbsp; Mix_CloseAudio&#40;&#41;;<br />&nbsp; &nbsp; SDL_Quit&#40;&#41;;<br />&nbsp; &nbsp; /* Fin de la finalizacion de SDL*/<br />&nbsp; &nbsp; return 0;<br />&#125;<br /><br />int borrar_superficie&#40;SDL_Surface *s&#41;<br />&#123;<br />&nbsp; &nbsp; SDL_Rect rb;<br />&nbsp; &nbsp; rb.x = 0;<br />&nbsp; &nbsp; rb.y = 0;<br />&nbsp; &nbsp; rb.w = s-&gt;w;<br />&nbsp; &nbsp; rb.h = s-&gt;h;<br />&nbsp; &nbsp; SDL_FillRect&#40;s,&amp;rb,SDL_MapRGB&#40;s-&gt;format,0,0,0&#41;&#41;;<br />&nbsp; &nbsp; SDL_Flip&#40;s&#41;;<br />&nbsp; &nbsp; return 0;<br />&#125;<br /><br />SDL_Surface * cargar_img&#40;const char *a, SDL_Surface *p&#41;<br />&#123;<br />&nbsp; &nbsp; SDL_Surface *img;<br />&nbsp; &nbsp; SDL_Surface *imgc;<br />&nbsp; &nbsp; img= IMG_Load&#40;a&#41;;<br />&nbsp; &nbsp; if &#40;img == NULL&#41;<br />&nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; printf&#40;&quot;No se ha podido cargar correctamente la imagen: %s\n&quot;, SDL_GetError&#40;&#41;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; exit&#40;1&#41;;<br />&nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; else<br />&nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; printf&#40;&quot;Cargada la imagen %s\n&quot;, a&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; if &#40;p == NULL&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_SetColorKey&#40;img,SDL_SRCCOLORKEY|SDL_RLEACCEL,SDL_MapRGB&#40;img-&gt;format,RT,VT,AT&#41;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return img;<br />&nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; else<br />&nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; imgc= SDL_ConvertSurface&#40;img, p-&gt;format,SDL_HWSURFACE|SDL_SRCCOLORKEY|SDL_SRCALPHA&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_FreeSurface&#40;img&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_SetColorKey&#40;imgc,SDL_SRCCOLORKEY|SDL_RLEACCEL,SDL_MapRGB&#40;imgc-&gt;format,RT,VT,AT&#41;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; return imgc;<br />&nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &#125;<br />&#125;<br /><br />int dibujar_fondo_menu&#40;SDL_Surface *fondomenu, SDL_Surface *pantalla&#41;<br />&#123;<br />&nbsp; &nbsp; SDL_Rect destino;<br />&nbsp; &nbsp; destino.w= fondomenu-&gt;w;<br />&nbsp; &nbsp; destino.h= fondomenu-&gt;h;<br />&nbsp; &nbsp; for &#40;destino.x=0; destino.x &lt; pantalla-&gt;w; destino.x+= &#40;fondomenu-&gt;w&#41;&#41;<br />&nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; for &#40;destino.y=0; destino.y &lt; pantalla-&gt;h; destino.y+= &#40;fondomenu-&gt;h&#41;&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SDL_BlitSurface&#40;fondomenu, NULL, pantalla, &amp;destino&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; return 0;<br />&#125;<br /></code></dd></dl>
<br />
<br />¿cual puede ser el error?
<br />
<br />EDITO (hugoruscitti): Coloco identación ANSI en el código
<br />fuente para que sea legible.
<br />
<br />EDITO (lacabra25): Se me olvido mencionarlo con las prisas de buscar respuesta a este problema al que no le encuentro sentido, este error me ha surgido en el sistema Windows XP, lo he compilado con DevC++, el archivo de audio pesa 786 Kb y cuando quite la parte de cargar el archivo de musica todo funciono bien pero con el codigo de cargar el audio no llega ha realizar la carga de la ultima imagen, se para en la penultima y en la ventana que sale en windows al pulsar Ctrl., Alt. y Supr. pone directamente que el programa no responde.
<br />
<br />Gracias hugoruscitti por editar el codigo del programa, con las prisas porque tenia que salir lo pegue directamente.
<br />
<br />EDITO (lacabra25): Creo que he encontrado una solucion pero parcial, resulta que leyendo el foro volvi a ver una pregunta similar pero sobre MP3, yo ya habia echo anteriormente otro programa usando musica que funcionaba bien con MP3 por lo que no pense que tuviera relacion, y resulta que si cambio el tipo de la musica a wav o ogg funciona bien, pero no entiendo por que no funciona con MP3 si SDL_mixer soporta MP3 y yo ya he hecho anteriormente un programa en el que funcionaba la musica en MP3, ¿a que se debe que no funcione si el archivo es MP3?</div>

			<div id="sig1537" class="signature">Esta cuenta ahora a pasado a la cuenta jhg</div>

		</div>

		
			<dl class="postprofile" id="profile1537">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1912.html"><img src="download/1912-avatar=1912.png" width="75" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1912.html">lacabra25</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 222</dd><dd><strong>Registrado:</strong> Mié Abr 02, 2008 9:45 pm</dd><dd><strong>Ubicación:</strong> Tenerife (España)</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://www.snl.ya.st" title="WWW: http://www.snl.ya.st"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=6&amp;t=346.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="pagination">
			1 mensaje
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="viewforum.php-f=6.html" class="left-box left" accesskey="r">Volver a Sobre las bibliotecas multimedia</a></p>

	<form method="post" id="jumpbox" action="viewforum.php.html" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Saltar a:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Seleccione un Foro</option>
			<option value="-1">------------------</option>
				<option value="15">Proyecto Losersjuegos</option>
			
				<option value="1">&nbsp; &nbsp;Planificación y eventos</option>
			
				<option value="14">&nbsp; &nbsp;Asadetris</option>
			
				<option value="22">Pilas Engine</option>
			
				<option value="23">&nbsp; &nbsp;Anuncios de los desarrolladores</option>
			
				<option value="24">&nbsp; &nbsp;Consultas, problemas o bugs.</option>
			
				<option value="25">&nbsp; &nbsp;Proyectos usando pilas</option>
			
				<option value="26">&nbsp; &nbsp;Sugerencias e ideas</option>
			
				<option value="28">&nbsp; &nbsp;General</option>
			
				<option value="16">Sugerencias, proyectos e ideas</option>
			
				<option value="2">&nbsp; &nbsp;Artículos, traducciones y documentación</option>
			
				<option value="3">&nbsp; &nbsp;Ejemplos</option>
			
				<option value="4">&nbsp; &nbsp;Videojuegos</option>
			
				<option value="12">&nbsp; &nbsp;Propuestas de desarrollo y concursos</option>
			
				<option value="13">&nbsp; &nbsp;Inspiración y otras ideas interesantes</option>
			
				<option value="5">&nbsp; &nbsp;Otros</option>
			
				<option value="17">Consultas</option>
			
				<option value="6" selected="selected">&nbsp; &nbsp;Sobre las bibliotecas multimedia</option>
			
				<option value="7">&nbsp; &nbsp;Instalación de bibliotecas y herramientas</option>
			
				<option value="8">&nbsp; &nbsp;Sobre lenguajes de programación</option>
			
				<option value="9">&nbsp; &nbsp;General</option>
			
				<option value="20">&nbsp; &nbsp;3D</option>
			
				<option value="29">&nbsp; &nbsp;HTML5 y Javascript</option>
			
				<option value="30">&nbsp; &nbsp;Qt y pyqt</option>
			
				<option value="18">Otros</option>
			
				<option value="10">&nbsp; &nbsp;Fuera de tópico</option>
			
				<option value="11">&nbsp; &nbsp;Links interesantes</option>
			
			</select>
			<input type="submit" value="Ir" class="button2" />
		</fieldset>
	</form>


	<h3>¿Quién está conectado?</h3>
	<p>Usuarios navegando por este Foro: No hay usuarios registrados visitando el Foro y 1 invitado</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
				
			<li class="rightside"><a href="memberlist.php-mode=leaders.html">El Equipo</a> &bull; <a href="ucp.php-mode=delete_cookies.html">Borrar todas las cookies del Sitio</a> &bull; Todos los horarios son UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>



<div id="pie">

    <ul>
            <li class="contactenos"><a href="../comunidad/contactenos.html">Contáctenos</a></li>
                
                <li class="cc"><a href="http://creativecommons.org/licenses/by-sa/2.5/deed.es">Licencia de uso para el sitio</a></li>

                    <li class="foro"><a href="index.html">Foro de mensajes</a></li>

                        <li class="comunidad"><a href="../comunidad.html">Sobre el grupo ...</a></li>
                    </ul>
                </div>


</div> <!-- borde -->
</div>


<div class="copyright">
Este foro de mensajes funciona gracias al sistema <a href="http://www.phpbb.com/">phpBB</a>
<br/>
Tema visual personalizando por Hugo Ruscitti.
<br/>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	<img src="cron.php-cron_type=tidy_cache.gif" width="1" height="1" alt="cron" />
</div>

</body>
</html>