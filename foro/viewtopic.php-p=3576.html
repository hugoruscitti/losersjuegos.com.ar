<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="es" xml:lang="es">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="es" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="copyright" content="2000, 2002, 2005, 2007 phpBB Group" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

<title>LosersJuegos &bull; Ver Tema - Algoritmo persecución?</title>

<link rel="alternate" type="application/atom+xml" title="Feed - LosersJuegos" href="feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Nuevos Temas" href="feed-mode=topics.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Foro - General" href="feed-f=9.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Tema - Algoritmo persecución?" href="feed-f=9&amp;t=802.php" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:

	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Introduzca el número de página al que desea saltar:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.losersjuegos.com.ar';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<script type="text/javascript" src="styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="styles/prosilver/template/forum_fn.js"></script>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.php-id=3&amp;lang=en&amp;sid=4ec7bd6b5b400f7171476bb35f8261c6.css" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />




<link href="styles/prosilver/theme/header.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/barrausuario.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/design.css" rel="stylesheet" type="text/css"/>

<link href="styles/prosilver/theme/src/prettify.css" type="text/css" rel="stylesheet" />
<script src="styles/prosilver/theme/src/prettify.js" type="text/javascript"></script>


</head>


<body onload="prettyPrint()" id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
<div id='borde'>

    <div id="cabecera">

        <a href='index.html'><img id='logo1' alt='' src="styles/prosilver/theme/ima_cabecera/logo_1.png" width="286" height="50" name="logo1" /></a>

        <div id="navi">
            <ul>
                <li><a href="../index.html">Web</a></li>
                <li id='actual'><a href="index.html">Foro</a></li>
            </ul>
        </div>

    </div>


<div class='barra_usuario'>
        <ul>
                <li class='regresar'><a href='../index.html'>Regresar a la web</a></li>
                <li class='buscar'><a href="search.php.html">Buscar</a></li>

                
                <li class='registrar'><a href="ucp.php-mode=register.html">Registrarse</a></li>

                <li class='registrar'><a href="ucp.php-mode=login.html">Identificarse</a>
                </li>
                

        </ul>
</div>




	<a name="start_here"></a>
	<div id="page-body">
		<ul style='font-size: 14px' class="linklist">
                    <li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
                    </ul>
<h2><a href="viewtopic.php-f=9&amp;t=802&amp;start=0.html">Algoritmo persecución?</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Consulte acerca de programas, técnicas, algoritmos etc.<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=9&amp;t=802.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="post" id="topic-search" action="search.php-t=802.html">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Buscar este tema…" onclick="if(this.value=='Buscar este tema…')this.value='';" onblur="if(this.value=='')this.value='Buscar este tema…';" />
				<input class="button2" type="submit" value="Buscar" />
				<input type="hidden" value="802" name="t" />
				<input type="hidden" value="msgonly" name="sf" />
			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			8 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p3565" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="#p3565">Algoritmo persecución?</a></h3>
			<p class="author"><a href="viewtopic.php-p=3565.html#p3565"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2061.html">Nathaniel</a></strong> &raquo; Mié Jul 28, 2010 11:05 am </p>

			

			<div class="content">Estoy realizando un juego de coches con el engine de Hugo y no acabo de dar con la forma de hacer que un coche persiga a otro. En una dimension es muy sencillo, el problema me sale al aplicar las dos dimensiones y los angulos.<br /><br />Aquí el código importante, si alguien lo quiere entero y con las imágenes que lo diga:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>class Car2(pygame.sprite.Sprite):<br />&nbsp; &nbsp;def __init__(self):<br />&nbsp; &nbsp;&nbsp; &nbsp;pygame.sprite.Sprite.__init__(self)<br />&nbsp; &nbsp;&nbsp; &nbsp;self.original_image = pygame.image.load(&quot;ima/Car2.png&quot;)<br />&nbsp; &nbsp;&nbsp; &nbsp;self.rect = self.original_image.get_rect()<br />&nbsp; &nbsp;&nbsp; &nbsp;self.x,self.y = 692,345<br />&nbsp; &nbsp;&nbsp; &nbsp;self.angle = 180<br />&nbsp; &nbsp;&nbsp; &nbsp;self.velocity = 0<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;def update(self):<br />&nbsp; &nbsp;&nbsp; &nbsp;if Coche.rect.x &gt; self.rect.x:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;self.mov(-1)<br />&nbsp; &nbsp;&nbsp; &nbsp;elif Coche.rect.x &lt; self.rect.x:&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;self.mov(1)<br />&nbsp; &nbsp;&nbsp; &nbsp;#Aquí faltaría la otra parte del codigo&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;angle = radians(self.angle)<br />&nbsp; &nbsp;&nbsp; &nbsp;self.dx = cos(angle) * self.velocity<br />&nbsp; &nbsp;&nbsp; &nbsp;self.dy = sin(angle) * self.velocity<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;self.update_image()<br />&nbsp; &nbsp;&nbsp; &nbsp;self.update_position()<br />&nbsp; &nbsp;&nbsp; &nbsp;self.check_limits()<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;def mov(self,sentido):<br />&nbsp; &nbsp;&nbsp; &nbsp;self.velocity += ACCEL * sentido<br />&nbsp; &nbsp;&nbsp; &nbsp;if self.velocity &gt; MAX_SPEED:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;self.velocity = MAX_SPEED<br />&nbsp; &nbsp;&nbsp; &nbsp;elif self.velocity &lt; -MAX_SPEED:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;self.velocity = -MAX_SPEED<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;def update_image(self):<br />&nbsp; &nbsp;&nbsp; &nbsp;self.image = pygame.transform.rotate(self.original_image, -self.angle)<br />&nbsp; &nbsp;&nbsp; &nbsp;self.rect.w = self.image.get_width()<br />&nbsp; &nbsp;&nbsp; &nbsp;self.rect.h = self.image.get_height()<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;def update_position(self):<br />&nbsp; &nbsp;&nbsp; &nbsp;self.rect.x = int(self.x) - self.rect.w / 2<br />&nbsp; &nbsp;&nbsp; &nbsp;self.rect.y = int(self.y) - self.rect.h / 2<br />&nbsp; &nbsp;&nbsp; &nbsp;self.x += self.dx<br />&nbsp; &nbsp;&nbsp; &nbsp;self.y += self.dy<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;screen.blit(self.image,self.rect)</code></dd></dl><br /><br />Este es el coche persecusor, el otro está en otra clase inicializada por la variable Coche (Coche.rect.x por ejemplo) y la estructura es muy parecida a este asi que no hace falta que lo añada. Si a alguien se le ocurre algo..<br />Gracias <img src="images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>

			

		</div>

		
			<dl class="postprofile" id="profile3565">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2061.html">Nathaniel</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 8</dd><dd><strong>Registrado:</strong> Sab Feb 14, 2009 8:00 pm</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p3566" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p3566">Re: Algoritmo persecución?</a></h3>
			<p class="author"><a href="viewtopic.php-p=3566.html#p3566"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a></strong> &raquo; Mié Jul 28, 2010 11:42 am </p>

			

			<div class="content">El coche básico gira a la izquierda cuando pulsas la tecla izquierda y lo mismo para la derecha. En el nuevo coche solo tienes que modificar la condición para moverse. Un algoritmo muy sencillo (con resultados no muy buenos) es girar a la izquierda si el coche a perseguir está a la izquierda y a la derecha en caso contrario. Donde, a la derecha, me refiero a la derecha de la trayectoria (a partir del vector velocidad y la posición).<br />Para hacer este cálculo, solamente tienes que hacer el determinante del vector (posición del perseguido - posición del perseguidor) y del vector velocidad del perseguidor. Si el coche perseguido está a la izquierda este determinante dará positivo, si está a la derecha, negativo y si está ya en su trayectoria, 0.<br /><br />Lo hago de cabeza, espero no haberme equivocado en algo.<br /><br />Saludos.</div>

			

		</div>

		
			<dl class="postprofile" id="profile3566">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html"><img src="download/1809-avatar=1809_1280195666.gif" width="70" height="70" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 283</dd><dd><strong>Registrado:</strong> Vie Ago 31, 2007 9:25 am</dd><dd><strong>Ubicación:</strong> Barcelona</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://twitter.com/endaramiz" title="WWW: http://twitter.com/endaramiz"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p3568" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p3568">Re: Algoritmo persecución?</a></h3>
			<p class="author"><a href="viewtopic.php-p=3568.html#p3568"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a></strong> &raquo; Mié Jul 28, 2010 11:12 pm </p>

			

			<div class="content">Hola, se me ocurre algo pero no se si es lo que estes buscando, pues la solucion es muy simple, tal ves como nosotros buscamos algo.<br />Pues solo es calcular el angulo que hay entre los dos coches y le aplicas un vector velocidad con el angulo que obtuviste eso producira que se hacerque el coche el linea recta, si calculas ese vector en cada bucle del juego, el vector se actualizará y generará un movimientos curvo, pues cada vez el angulo va cambiando, y te aseguras que siempre lo siga a donde tu lo muevas. <br /><br /><blockquote><div><cite>endaramiz escribió:</cite>Para hacer este cálculo, solamente tienes que hacer el determinante del vector (posición del perseguido - posición del perseguidor) </div></blockquote><br /><br />No se si te referias al determinate de las matematicas, pero yo solo conosco uno, y solo se puede aplicar a matrizes que sean cuadradas.Solo lo aclaro, no es que me haga al sabiondo jaja, pero lo mensiono para no tener informacion incorrecta aun que no nos afecte en mucho</div>

			<div id="sig3568" class="signature">El conocimiento de unos es conocimiento de todos.</div>

		</div>

		
			<dl class="postprofile" id="profile3568">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html"><img src="download/2124-avatar=2124_1283282608.jpg" width="70" height="53" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 249</dd><dd><strong>Registrado:</strong> Mar Jul 14, 2009 4:13 am</dd><dd><strong>Ubicación:</strong> mexico</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p3570" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p3570">Re: Algoritmo persecución?</a></h3>
			<p class="author"><a href="viewtopic.php-p=3570.html#p3570"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a></strong> &raquo; Mié Jul 28, 2010 11:53 pm </p>

			

			<div class="content"><blockquote><div><cite>carlostex escribió:</cite>Hola, se me ocurre algo pero no se si es lo que estes buscando, pues la solucion es muy simple, tal ves como nosotros buscamos algo.<br />Pues solo es calcular el angulo que hay entre los dos coches y le aplicas un vector velocidad con el angulo que obtuviste eso producira que se hacerque el coche el linea recta, si calculas ese vector en cada bucle del juego, el vector se actualizará y generará un movimientos curvo, pues cada vez el angulo va cambiando, y te aseguras que siempre lo siga a donde tu lo muevas. </div></blockquote> Esto provoca un comportamiento irreal en el coche. Con lo que comentas, un coche podría llegar a girar 180º en un solo frame. Aunque si en vez de un coche, fuese una nave espacial o algo de eso, pues se podría hacer cualquier cosas sin que quede demasiado irreal.<br /><br /><blockquote><div><cite>carlostex escribió:</cite><blockquote><div><cite>endaramiz escribió:</cite>Para hacer este cálculo, solamente tienes que hacer el determinante del vector (posición del perseguido - posición del perseguidor) </div></blockquote><br /><br />No se si te referias al determinate de las matematicas, pero yo solo conosco uno, y solo se puede aplicar a matrizes que sean cuadradas.Solo lo aclaro, no es que me haga al sabiondo jaja, pero lo mensiono para no tener informacion incorrecta aun que no nos afecte en mucho</div></blockquote> Has dejado media frase sin citar. Quizás me he expresado mal, aunque pensé que se entendería ya que, como dices, los determinantes se hacen en matrices cuadradas. La matriz se forma a partir de los dos vectores: <br />- (posición del perseguido - posición del perseguidor) <br />- vector velocidad del perseguidor<br />Como estamos en 2D, los vectores tienen 2 valores (x e y). Así que queda una matriz 2x2, cuadrada, y se puede hacer el determinante sin problemas.<br /><br />Saludos.</div>

			

		</div>

		
			<dl class="postprofile" id="profile3570">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html"><img src="download/1809-avatar=1809_1280195666.gif" width="70" height="70" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 283</dd><dd><strong>Registrado:</strong> Vie Ago 31, 2007 9:25 am</dd><dd><strong>Ubicación:</strong> Barcelona</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://twitter.com/endaramiz" title="WWW: http://twitter.com/endaramiz"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p3573" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p3573">Re: Algoritmo persecución?</a></h3>
			<p class="author"><a href="viewtopic.php-p=3573.html#p3573"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a></strong> &raquo; Jue Jul 29, 2010 3:53 am </p>

			

			<div class="content">ha claro, esque entendi mal, pense que el signo &quot;-&quot; era de resta, pero veo que es de guión.<br />Eso que puse tampoco lo he provado, siento que si funcionaria, lo que comentas solo pasaria cuando empieza el juego, pues el coche perseguidor empezara en un angulo cualquiera, y se ajustara al angulo para llegar al otro coche, si embargo, mientras el otro coche se este moviendo, el perseguidor se ira ajustando poco a poco. Pero mejor lo pruebo para saber si de verdad funciona, y subo un video.</div>

			<div id="sig3573" class="signature">El conocimiento de unos es conocimiento de todos.</div>

		</div>

		
			<dl class="postprofile" id="profile3573">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html"><img src="download/2124-avatar=2124_1283282608.jpg" width="70" height="53" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 249</dd><dd><strong>Registrado:</strong> Mar Jul 14, 2009 4:13 am</dd><dd><strong>Ubicación:</strong> mexico</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p3576" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p3576">Re: Algoritmo persecución?</a></h3>
			<p class="author"><a href="#p3576"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2061.html">Nathaniel</a></strong> &raquo; Jue Jul 29, 2010 2:11 pm </p>

			

			<div class="content">Gracias por las ideas, las pruebo y os cuento!</div>

			

		</div>

		
			<dl class="postprofile" id="profile3576">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2061.html">Nathaniel</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 8</dd><dd><strong>Registrado:</strong> Sab Feb 14, 2009 8:00 pm</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p3584" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p3584">Re: Algoritmo persecución?</a></h3>
			<p class="author"><a href="viewtopic.php-p=3584.html#p3584"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a></strong> &raquo; Vie Jul 30, 2010 2:03 am </p>

			

			<div class="content">Hola, pues te traigo lo prometido, Segui la idea que havia propuesto, creo que quedo bien,  no se si querias un movimiento asi.Pero te dejo el video para que lo veas, <a href="http://www.youtube.com/watch?v=2LDH0p1XURg" class="postlink">http://www.youtube.com/watch?v=2LDH0p1XURg</a>, esta en baja la calidad por que el archivo en alta es demaciado grande.<br /><br />pues hay va como lo hice. primero el codigo:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>#include&lt;game.h&gt;<br />#include&lt;math.h&gt;<br /><br />bool nearmodul(float a, float b, float range)<br />{<br />&nbsp; &nbsp; if(a&lt;b)<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; return ((b-a)&lt;a+(range-b));<br />&nbsp; &nbsp;<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; else<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; return ((a-b)&gt;(b+(range-a)));<br /><br />&nbsp; &nbsp; }<br /><br /> }<br /><br />int main()<br />{<br /><br />&nbsp; &nbsp; game g;<br />&nbsp; &nbsp; g.init_video(800,600,32);<br /><br />g.scene.set_world(&quot;../images/terreno/path&quot;);<br />g.scene.add_sprite(&quot;../images/E-P8.854.png&quot;,1);<br /><br /><br /><br />g.scene.add_actor(0,true,true);<br />g.scene.add_actor(0,true,true);<br />g.scene.set_posicion_actor(0,punto(300,200));<br />g.scene.set_posicion_actor(1,punto(200,350));<br /><br />g.scene.set_actor_p_refer(0,punto(20,20));<br />g.scene.set_actor_p_refer(1,punto(20,20));<br />g.scene.entity_manager.actores&#91;0&#93;-&gt;object.add_punto(punto(7,3));<br />g.scene.entity_manager.actores&#91;0&#93;-&gt;object.add_punto(punto(29,2));<br />g.scene.entity_manager.actores&#91;0&#93;-&gt;object.add_punto(punto(29,12));<br />g.scene.entity_manager.actores&#91;0&#93;-&gt;object.add_punto(punto(37,13));<br />g.scene.entity_manager.actores&#91;0&#93;-&gt;object.add_punto(punto(37,27));<br />g.scene.entity_manager.actores&#91;0&#93;-&gt;object.add_punto(punto(30,28));<br />g.scene.entity_manager.actores&#91;0&#93;-&gt;object.add_punto(punto(29,37));<br />g.scene.entity_manager.actores&#91;0&#93;-&gt;object.add_punto(punto(7,37));<br />g.scene.entity_manager.actores&#91;0&#93;-&gt;object.add_punto(punto(7,3));<br />g.scene.entity_manager.actores&#91;1&#93;-&gt;object=g.scene.entity_manager.actores&#91;0&#93;-&gt;object;<br />bool done = true;<br />evento ev;<br />g.fps1=40;<br />int vel=0, ang=0,vel_p=0;<br />int cont=0;<br />punto scroll(0,0);<br />float angulo_p=0,retardo=0, angulo_parado=0;<br /><br /><br />while (done) {<br /><br />&nbsp; &nbsp; ev.poll();<br />&nbsp; &nbsp; ev.get_states_key();<br /><br />&nbsp; &nbsp; if(cont%3==0)<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; angulo_p=360-angulo_2point(g.scene.entity_manager.actores&#91;0&#93;-&gt;get_posicion().neg(),g.scene.entity_manager.actores&#91;1&#93;-&gt;get_posicion().neg());<br />&nbsp; &nbsp; &nbsp; &nbsp; if(vel_p==30)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(abs(retardo-angulo_p)&gt;1.5){<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(nearmodul(retardo,angulo_p,360))<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; retardo+=3;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(retardo&gt;360)retardo=0;<br /><br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }else<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; retardo-=3;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(retardo&lt;0)retardo=360;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp;<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; if (ev.test_state(SDLK_q)==true) done=false;<br />&nbsp; &nbsp; if (ev.test_state(SDLK_UP)==true) vel=60;<br />&nbsp; &nbsp; if (ev.test_state(SDLK_DOWN)==true) vel=-60;<br /><br />&nbsp; &nbsp; if (ev.test_state(SDLK_w)==true)scroll.y-=1;<br />&nbsp; &nbsp; if (ev.test_state(SDLK_s)==true)scroll.y+=1;<br />&nbsp; &nbsp; if (ev.test_state(SDLK_a)==true)scroll.x-=1;<br />&nbsp; &nbsp; if (ev.test_state(SDLK_d)==true)scroll.x+=1;<br />&nbsp; &nbsp; if(cont%5==0){<br />&nbsp; &nbsp; &nbsp; &nbsp; if (ev.test_state(SDLK_LEFT)==true) ang+=4;<br />&nbsp; &nbsp; &nbsp; &nbsp; if (ev.test_state(SDLK_RIGHT)==true) ang-=4;<br />&nbsp; &nbsp; &nbsp; &nbsp; if (ev.test_state(SDLK_f)==true)<br />&nbsp; &nbsp; {<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; if(vel_p==0) {vel_p=30;retardo=angulo_parado;}<br />&nbsp; &nbsp; &nbsp; &nbsp; else {vel_p=0;angulo_parado=angulo_p;}<br /><br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; system(&quot;clear&quot;);<br />&nbsp; &nbsp; cout&lt;&lt;&quot;Seek Behaivor\nF para activar desactivar perseguir&quot;&lt;&lt;endl;<br />&nbsp; &nbsp; cout&lt;&lt;&quot;Angulo entre los dos: &quot;&lt;&lt; angulo_p&lt;&lt;&quot;\nAngulo que se ajusta: &quot;&lt;&lt;retardo&lt;&lt;endl;<br />&nbsp; &nbsp; g.scene.set_scroll_mapa(scroll);<br />&nbsp; &nbsp; g.scene.set_actor_vel(0,Vector(vel,ang));<br />&nbsp; &nbsp; g.scene.set_actor_vel(1,Vector(vel_p,vel_p?retardo:angulo_parado));<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; vel=0;<br />&nbsp; &nbsp; g.render();<br />&nbsp; &nbsp; g.time();<br />&nbsp; &nbsp; cont++;<br />}<br /><br /><br />}</code></dd></dl><br /><br />pues la función nearmodul(float, float, float) evalua cual es la direccion mas corta para llegar a un numero que quiero, dentro de un rango de numeros, los cuales son como una lista circular, por ejemplo:<br /><br />1,2,3,4,5,6,7,8,9<br />Si parto del 2 y quiero llegar al 8 es mas rapido recorrer 2,1,9,8 que 2,3,4,5,6,7,8<br />Esta funcion la uso para saber si debo sumar o restar una constante a retardo, cuado retardo es menor a 0 regresa  a 360.<br />Esa comprobacion la hago solo cuando la diferencia entre los dos angulos es menor a 1.5, par que no se este tambalenado.<br />y el coche perseguidor lo muevo el angulo que lleva retardo, en esencia es llevar la variable retardo al valor del angulo entre los dos actores.<br /><br />esta implementacion la hice con un motor de juegos propio, pero la parte importante es esta.<br /><br />Ha lo que hace el coche perseguidor se le conoce como comportamientos, existen bibliotecas hechas para esta tarea, la unica que conozco es opensteer, pues creo que los desarrolladores crean sus propias funciones para manejar los comportamientos.y mi idea la tome de la forma en la que funcionan.<br />A cada actor se le puede agregar un comportamiento, en este caso seguir, pero que tal si quiero que varios coches lo sigan, para empezar debo evitar que los coche choquen entre ellos, lo cual es otro comportamiento, mantener una distancia, la funcion que realiza el comportamiento solo devuelve un vector,luego se la pasa a una funcion que priorise esos movimientos, para que el resultado sea, que sigua el coche, pero si alguno se hacerca demaciado se elejen sin perder el obejetivo principal que es seguir al coche. <br />Es muy interesante, el problema es que opensteer no tiene documentación y tampoco pude compilar sus fuentes y ejemplos, sin emvargo no es algo dificil de hacer, aver si alguien se une y hacemos una biblioteca de funciones para comportamientos</div>

			<div id="sig3584" class="signature">El conocimiento de unos es conocimiento de todos.</div>

		</div>

		
			<dl class="postprofile" id="profile3584">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html"><img src="download/2124-avatar=2124_1283282608.jpg" width="70" height="53" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 249</dd><dd><strong>Registrado:</strong> Mar Jul 14, 2009 4:13 am</dd><dd><strong>Ubicación:</strong> mexico</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p3585" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p3585">Re: Algoritmo persecución?</a></h3>
			<p class="author"><a href="viewtopic.php-p=3585.html#p3585"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Vie Jul 30, 2010 10:46 am </p>

			

			<div class="content">una pequeña optimizacion ( sobre todo a nivel visual) y que es más natural para el ser humano es predecir donde estará el coche.<br /><br />Sería algo así:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>&nbsp; &nbsp; pos_siguiente = pos_actual + (velocidad * numero_de_segundos_que_predecimos)<br /></code></dd></dl><br /><br />y pasaríamos a perseguir dicha posición</div>

			

		</div>

		
			<dl class="postprofile" id="profile3585">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="viewtopic.php-f=9&amp;t=802&amp;start=0.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		
		<label>Mostrar mensajes previos: <select name="st" id="st"><option value="0" selected="selected">Todos los mensajes</option><option value="1">1 día</option><option value="7">7 días</option><option value="14">2 semanas</option><option value="30">1 mes</option><option value="90">3 meses</option><option value="180">6 meses</option><option value="365">1 año</option></select></label>
		<label>Ordenar por <select name="sk" id="sk"><option value="a">Autor</option><option value="t" selected="selected">Fecha publicación</option><option value="s">Asunto</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascendente</option><option value="d">Descendente</option></select> <input type="submit" name="sort" value="Ir" class="button2" /></label>
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=9&amp;t=802.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="pagination">
			8 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="viewforum.php-f=9.html" class="left-box left" accesskey="r">Volver a General</a></p>

	<form method="post" id="jumpbox" action="viewforum.php.html" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Saltar a:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Seleccione un Foro</option>
			<option value="-1">------------------</option>
				<option value="15">Proyecto Losersjuegos</option>
			
				<option value="1">&nbsp; &nbsp;Planificación y eventos</option>
			
				<option value="14">&nbsp; &nbsp;Asadetris</option>
			
				<option value="22">Pilas Engine</option>
			
				<option value="23">&nbsp; &nbsp;Anuncios de los desarrolladores</option>
			
				<option value="24">&nbsp; &nbsp;Consultas, problemas o bugs.</option>
			
				<option value="25">&nbsp; &nbsp;Proyectos usando pilas</option>
			
				<option value="26">&nbsp; &nbsp;Sugerencias e ideas</option>
			
				<option value="28">&nbsp; &nbsp;General</option>
			
				<option value="16">Sugerencias, proyectos e ideas</option>
			
				<option value="2">&nbsp; &nbsp;Artículos, traducciones y documentación</option>
			
				<option value="3">&nbsp; &nbsp;Ejemplos</option>
			
				<option value="4">&nbsp; &nbsp;Videojuegos</option>
			
				<option value="12">&nbsp; &nbsp;Propuestas de desarrollo y concursos</option>
			
				<option value="13">&nbsp; &nbsp;Inspiración y otras ideas interesantes</option>
			
				<option value="5">&nbsp; &nbsp;Otros</option>
			
				<option value="17">Consultas</option>
			
				<option value="6">&nbsp; &nbsp;Sobre las bibliotecas multimedia</option>
			
				<option value="7">&nbsp; &nbsp;Instalación de bibliotecas y herramientas</option>
			
				<option value="8">&nbsp; &nbsp;Sobre lenguajes de programación</option>
			
				<option value="9" selected="selected">&nbsp; &nbsp;General</option>
			
				<option value="20">&nbsp; &nbsp;3D</option>
			
				<option value="29">&nbsp; &nbsp;HTML5 y Javascript</option>
			
				<option value="30">&nbsp; &nbsp;Qt y pyqt</option>
			
				<option value="18">Otros</option>
			
				<option value="10">&nbsp; &nbsp;Fuera de tópico</option>
			
				<option value="11">&nbsp; &nbsp;Links interesantes</option>
			
			</select>
			<input type="submit" value="Ir" class="button2" />
		</fieldset>
	</form>


	<h3>¿Quién está conectado?</h3>
	<p>Usuarios navegando por este Foro: No hay usuarios registrados visitando el Foro y 0 invitados</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
				
			<li class="rightside"><a href="memberlist.php-mode=leaders.html">El Equipo</a> &bull; <a href="ucp.php-mode=delete_cookies.html">Borrar todas las cookies del Sitio</a> &bull; Todos los horarios son UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>



<div id="pie">

    <ul>
            <li class="contactenos"><a href="../comunidad/contactenos.html">Contáctenos</a></li>
                
                <li class="cc"><a href="http://creativecommons.org/licenses/by-sa/2.5/deed.es">Licencia de uso para el sitio</a></li>

                    <li class="foro"><a href="index.html">Foro de mensajes</a></li>

                        <li class="comunidad"><a href="../comunidad.html">Sobre el grupo ...</a></li>
                    </ul>
                </div>


</div> <!-- borde -->
</div>


<div class="copyright">
Este foro de mensajes funciona gracias al sistema <a href="http://www.phpbb.com/">phpBB</a>
<br/>
Tema visual personalizando por Hugo Ruscitti.
<br/>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	<img src="cron.php-cron_type=tidy_sessions.gif" width="1" height="1" alt="cron" />
</div>

</body>
</html>