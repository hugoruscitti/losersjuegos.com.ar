<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="es">
<link rel="self" type="application/atom+xml" href="http://losersjuegos.com.ar/foro/feed.php?f=3&amp;t=1523" />

<title>LosersJuegos</title>
<subtitle>Desarrollando videojuegos libres</subtitle>
<link href="http://losersjuegos.com.ar/foro/index.php" />
<updated>2012-08-05T05:02:24+00:00</updated>

<author><name><![CDATA[LosersJuegos]]></name></author>
<id>http://losersjuegos.com.ar/foro/feed.php?f=3&amp;t=1523</id>
<entry>
<author><name><![CDATA[d0hk0o]]></name></author>
<updated>2012-08-05T05:02:24+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6998#p6998</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6998#p6998"/>
<title type="html"><![CDATA[Re: Cargador de mapas de tiled...]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6998#p6998"><![CDATA[
:-O! gracias! creo que con esto se completa el tema de Tiled para trabajar en python y c++. Lo bueno de este programa es que puedes almacenar propiedades del mapa, propiedad de cada tile, objetos en el mapa cada uno con sus respectivos atributos, creo que no le falta nada...<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2403">d0hk0o</a> — Dom Ago 05, 2012 5:02 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Barajas]]></name></author>
<updated>2012-08-04T21:55:48+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6997#p6997</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6997#p6997"/>
<title type="html"><![CDATA[Re: Cargador de mapas de tiled...]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6997#p6997"><![CDATA[
Bueno, d0hk0o, creo que aquí esta la rutina que buscas... <a href="http://usefulgamedev.weebly.com/c-tiled-map-loader.html" class="postlink">http://usefulgamedev.weebly.com/c-tiled-map-loader.html</a><p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2345">Barajas</a> — Sab Ago 04, 2012 9:55 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[d0hk0o]]></name></author>
<updated>2012-08-04T17:49:48+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6996#p6996</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6996#p6996"/>
<title type="html"><![CDATA[Re: Cargador de mapas de tiled...]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6996#p6996"><![CDATA[
Yo estuve buscando esa rutina para c++! pero no la encontré, tuve que trabajar con ticpp, pero solo trabajé con codificación base64, no le puse compresión zlib o gzip porque había que investigar y no disponía de mucho tiempo u.u<br /><br />Pero se agradece, si llego a utilizar python de seguro que la usaré!<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2403">d0hk0o</a> — Sab Ago 04, 2012 5:49 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Barajas]]></name></author>
<updated>2012-08-04T14:35:57+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6995#p6995</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6995#p6995"/>
<title type="html"><![CDATA[Re: Cargador de mapas de tiled...]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6995#p6995"><![CDATA[
<blockquote><div><cite>shackra escribió:</cite><br />prueba va con b mi 'jito xd<br /></div></blockquote><br />¡¡WAAAA!! ¡¡Es cierto... !!  <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" />  <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" /> <br />De vez en cuando me confundo... (una vez incluso escribí &quot;nobiembre&quot;... me lo recuerdan cada vez que pueden. &quot;chicos, recuerden que noviembre se escribe con 'v'... &quot;)<br /><br />Por lo demás, espero que les sea útil...<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2345">Barajas</a> — Sab Ago 04, 2012 2:35 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[shackra]]></name></author>
<updated>2012-08-04T03:28:12+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6993#p6993</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6993#p6993"/>
<title type="html"><![CDATA[Re: Cargador de mapas de tiled...]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6993#p6993"><![CDATA[
prueba va con b mi 'jito xd<br />por todo lo demás, gracias por el ejemplo. espero probarlo pronto!<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2114">shackra</a> — Sab Ago 04, 2012 3:28 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Barajas]]></name></author>
<updated>2012-07-20T18:41:16+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6947#p6947</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6947#p6947"/>
<title type="html"><![CDATA[Re: Cargador de mapas de tiled...]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6947#p6947"><![CDATA[
<blockquote><div><cite>carlostex escribió:</cite><br />En que formato se guarda el tile?<br /></div></blockquote><br /><br />Lo guarda en su formato tmx, el cual es solo un xml. Pero que puede guardar la lista completa en una cadena comprimida con gzip y en base 64...., de hecho puede notar que se trata de un mapa con dimensiones de 40*15, lo que significa 600 datos reducidos a una cotar cadena en comparación y eso reduce el tamaño del archivo bastante...<br /><br />El archivo usado en el ejemplo....<br /><br /><pre class="prettyprint">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;<br />&lt;!DOCTYPE map SYSTEM &quot;http://mapeditor.org/dtd/1.0/map.dtd&quot;&gt;<br />&lt;map version=&quot;1.0&quot; orientation=&quot;orthogonal&quot; width=&quot;40&quot; height=&quot;15&quot; tilewidth=&quot;32&quot; tileheight=&quot;32&quot;&gt;<br /> &lt;tileset firstgid=&quot;1&quot; name=&quot;tileset_sdl&quot; tilewidth=&quot;32&quot; tileheight=&quot;32&quot;&gt;<br />  &lt;image source=&quot;tileset.png&quot; width=&quot;320&quot; height=&quot;160&quot;/&gt;<br /> &lt;/tileset&gt;<br /> &lt;layer name=&quot;Capa de Patrones 1&quot; width=&quot;40&quot; height=&quot;15&quot;&gt;<br />  &lt;data encoding=&quot;base64&quot; compression=&quot;gzip&quot;&gt;<br />   H4sIAAAAAAAAA+2RQQqAMAwEY1TsoWf//1QjGGiFtpJu1UMW5joMSSTcJiECfQT2eV/fvC/fIqzC9tDl9+vbiD6+mAGuv9+PwT4C+c676R/e7AsJpaVtoeGzzOq7dylf95W6LH3qqW0fAAM5AE3LgDBgCQAA<br />  &lt;/data&gt;<br /> &lt;/layer&gt;<br /> &lt;layer name=&quot;Capa de patrones 2&quot; width=&quot;40&quot; height=&quot;15&quot;&gt;<br />  &lt;data encoding=&quot;base64&quot; compression=&quot;gzip&quot;&gt;<br />   H4sIAAAAAAAAA2NiYGBgohGmBuAhAhOrjoeB+gDdfmxsdPXY3IxNLa3chy6OSw82fbQC5NpBD7eNglEwCkbBKBgFpAIAjKs1ZWAJAAA=<br />  &lt;/data&gt;<br /> &lt;/layer&gt;<br />&lt;/map&gt;</pre><br /><br />Aun que puedes darle que no comprima (tiled el llama CSV )y el resultado que pondría para la primera capa seria:<br /><pre class="prettyprint">&lt;layer name=&quot;Capa de Patrones 1&quot; width=&quot;40&quot; height=&quot;15&quot;&gt;<br />  &lt;data encoding=&quot;csv&quot;&gt;<br />12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,<br />12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,<br />12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,<br />12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,<br />12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,<br />12,0,0,0,0,0,0,4,5,7,0,0,0,0,0,0,0,0,0,1,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,<br />12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,<br />12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,<br />2,2,3,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,<br />12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,<br />12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,<br />12,0,0,0,0,0,0,8,8,8,0,0,0,0,0,0,1,2,2,8,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,<br />12,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,2,8,8,8,12,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,<br />12,0,0,0,0,0,0,0,0,0,0,0,1,2,2,8,8,8,8,8,12,0,0,0,0,0,0,0,0,0,0,2,2,0,0,0,0,0,0,0,<br />22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2<br />&lt;/data&gt;</pre><br /><br />Y en XML puro....<br /><br /><pre class="prettyprint">&lt;layer name=&quot;Capa de Patrones 1&quot; width=&quot;40&quot; height=&quot;15&quot;&gt;<br />  &lt;data&gt;<br />   &lt;tile gid=&quot;12&quot;/&gt;<br />   &lt;tile gid=&quot;0&quot;/&gt;<br />   &lt;tile gid=&quot;0&quot;/&gt;<br />   &lt;tile gid=&quot;0&quot;/&gt;<br />   ...<br />   ...</pre><br /><br />¿ Aun que como los guarda tilemap ?<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2345">Barajas</a> — Vie Jul 20, 2012 6:41 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[carlostex]]></name></author>
<updated>2012-07-20T17:06:05+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6946#p6946</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6946#p6946"/>
<title type="html"><![CDATA[Re: Cargador de mapas de tiled...]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6946#p6946"><![CDATA[
En que formato se guarda el tile?<br />Yo usaba uno que se llamaba tilemap que guarda el archivo en formato xml, luego use una biblioteca llamada tinyxml y era muy facil cargar el archivo con pocas lineas.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2124">carlostex</a> — Vie Jul 20, 2012 5:06 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Barajas]]></name></author>
<updated>2012-07-20T13:58:42+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6945#p6945</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6945#p6945"/>
<title type="html"><![CDATA[Cargador de mapas de tiled...]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=1523&amp;p=6945#p6945"><![CDATA[
Hola, creo que ha estas altura ya todos sabemos que tiled es un programa que nos permite crear mapas de tiles de forma fácil, asi que como estoy trabajando en un proyecto con tiled, he creado este cargador de mapas, que carga automáticamente las imágenes del mapa, las parte en tileset y no hay que molestarse mucho, la única condición es que los mapas deben estar en comprimidos en base 64 con gzip... pero funciona <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />Aquí el código:<br /><br /><pre class="prettyprint">#!/usr/bin/env python<br /># -*- coding: utf-8 -*-<br />import base64<br />import gzip<br />import StringIO<br />from xml.dom import minidom, Node<br />import pygame<br />from pygame import *<br /><br />def load_ima&#40;name&#41;:<br />    return pygame.image.load&#40;name&#41;.convert_alpha&#40;&#41;<br /><br />class Mapa&#40;&#41;:<br />    def __init__&#40;self&#41;:<br />        self.imagenes = []<br />        self.imagenes_de_capa = []<br />        self.conjunto_de_capas = []<br />        self.tilewidth = 0<br />        self.tileheight = 0<br />    def convertir&#40;self, lista, col&#41;:<br />        #una lista unidimensional a una bidimensional<br />        nueva = []<br />        for i in range&#40;0, len&#40;lista&#41;, col&#41;:<br />            nueva.append&#40;lista[i:i+col]&#41;<br />        return nueva<br />    def traducir&#40;self, cadena&#41;:<br />        # Decodificar.<br />        cadena = base64.decodestring&#40;cadena&#41;<br />        # Descomprimir.<br />        copmressed_stream = StringIO.StringIO&#40;cadena&#41;<br />        gzipper = gzip.GzipFile&#40;fileobj=copmressed_stream&#41;<br />        cadena = gzipper.read&#40;&#41;<br />        salida = []<br />        #me cuesta explicar lo que susede aqui...<br />        #solo dejemoslo en que se convierte...<br />        for idx in xrange&#40;0, len&#40;cadena&#41;, 4&#41;:<br />            val = ord&#40;str&#40;cadena[idx]&#41;&#41; | &#40;ord&#40;str&#40;cadena[idx + 1]&#41;&#41; &lt;&lt; <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_cool.gif" alt="8&#41;" title="Cool" /> | \<br />            &#40;ord&#40;str&#40;cadena[idx + 2]&#41;&#41; &lt;&lt; 16&#41; | &#40;ord&#40;str&#40;cadena[idx + 3]&#41;&#41; &lt;&lt; 24&#41;<br />            salida.append&#40;val&#41;<br /><br />        return salida<br /><br />    #-------------------<br />    <br />    def cargar_mapa&#40;self, nombre&#41;: #función para poder cargar el mapa...<br />        Mapa_tmx = minidom.parse&#40;&quot;&quot;+nombre&#41;<br />        nodo_principal = Mapa_tmx.childNodes[1]<br />        <br />        #Estas modificaciones son para poder cargar imagenes directamente...<br />        tileset = nodo_principal.getElementsByTagName&#40;&#39;tileset&#39;&#41;<br />        self.tilewidth = int&#40;tileset[0].attributes.get&#40;&quot;tilewidth&quot;&#41;.value&#41;<br />        self.tileheight = int&#40;tileset[0].attributes.get&#40;&quot;tileheight&quot;&#41;.value&#41;<br />        <br />        #buscamos en todas las etiquetas de imagenes...<br />        for j in nodo_principal.getElementsByTagName&#40;&#39;image&#39;&#41;:<br />            # buscamos en cada unoa de las etiquetas el atributo source<br />            # que contine la dirección del la imagen con respecto al<br />            # archvivo<br />            temp_ima_name = j.attributes.get&#40;&quot;source&quot;&#41;.value<br />            #cargamos la imagen<br />            temp_ima = load_ima&#40;temp_ima_name&#41;<br />            #creo una lista con la imagen partida en tiles....<br />            temp_tiles = cut_by_w_h&#40;temp_ima,self.tilewidth,self.tileheight&#41;<br />            #las agrego a una lista principal<br />            self.imagenes = self.imagenes+temp_tiles<br />        <br />        #buscamos el tamaño del mapa<br />        tamano_width = int&#40;nodo_principal.attributes.get&#40;&quot;width&quot;&#41;.value&#41;<br />        tamano_height = int&#40;nodo_principal.attributes.get&#40;&quot;height&quot;&#41;.value&#41;<br />        <br />        for i in range&#40;len&#40;nodo_principal.childNodes&#41;&#41;:<br />            nodo_actual = nodo_principal.childNodes[i]<br />            #revisamos si existe un nodo...<br />            if nodo_actual.nodeType == 1:<br />                #si el nodo no es de tilesets, pregunto si es de capas...<br />                if nodo_actual.nodeName == &quot;layer&quot;:<br />                    datos = nodo_actual.childNodes[1]<br />                    #quitamos saltos de linea y espacios...<br />                    capa = datos.childNodes[0].data.replace&#40;&quot;\n&quot;, &quot;&quot;&#41;.replace&#40;&quot; &quot;, &quot;&quot;&#41;<br />                    capa = self.traducir&#40;capa&#41;<br />                    capa = self.convertir&#40;capa, tamano_width&#41;<br />                    self.conjunto_de_capas.append&#40;capa&#41;<br /><br />        #esto es por que me gustan los returns XD<br />        return self.conjunto_de_capas<br />        <br />    def get_capa&#40;self,num&#41;:<br />        #no tengo que explicarlo... ¿verdad?<br />        return  self.conjunto_de_capas[num]<br />        <br />    def imprime_capa&#40;self,superficie,numero, x=0,y=0&#41;:<br />        #imprime una capa determinada en una superficie determinada<br />        capa = self.conjunto_de_capas[numero]<br />        <br />        image_num = 0<br />        #para calcular la posición  inicial y final<br />        # x=0<br />        # y=0<br />        #esto es una alluda para ver como luce en modo texto el mapa....<br />        print &quot;####################&quot;<br />        # empezamos el recorrido<br />        for fila in capa:<br />            x=0<br />            print &quot;:&quot;,<br />            for columna in fila:<br />                #si el numero es diferente a 0...<br />                if columna != 0:<br />                    # seleccionamos la imagen, recordemos que tiled<br />                    # comienza a contar espacio no vacio a partir de 1<br />                    # pero nuestra lista de imagenes comienza en el 0<br />                    ima = self.imagenes[columna-1]<br />                    #la colocamos en el mapa...<br />                    superficie.blit&#40;ima, &#40;x,y&#41;&#41;<br />                    print columna,<br />                # esto es simplemente para poder velo en modo texto...<br />                else:<br />                    print &quot; &quot;,<br />                #aumentamos la posición en X...<br />                x+=self.tilewidth<br />            print &quot;:&quot;<br />            # y ahora aumentamos la posición en Y...<br />            y+=self.tileheight<br />    <br />    def trasforma_a_imagenes&#40;self, capa_num&#41;:<br />        #esto resive el numero de la capa y regresa una imagen de sus dimenciones...<br />        capa = self.conjunto_de_capas[capa_num]<br />        <br />        filas = len&#40;capa&#41;<br />        columnas = len&#40;capa[0]&#41;<br />        # primero creamos una imagen vacia de las dimenciones de la capa...<br />        imagen_capa = pygame.Surface&#40;&#40;columnas*self.tileheight, filas*self.tilewidth&#41;&#41;<br />        # le fijamos un color que usaremos de trasparencia a la imagen...<br />        imagen_capa.fill&#40;&#40;255,0,255&#41;&#41;<br />        # sobre ella dibujamos la capa...<br />        self.imprime_capa&#40;imagen_capa,capa_num&#41;<br />        # y borramos el color alfa...<br />        imagen_capa.set_colorkey&#40;&#40;255,0,255&#41;&#41;<br />        # regresamos una copia de la imagen...<br />        return imagen_capa.copy&#40;&#41;<br />    <br />    def imprime_imagen_capa&#40;self, pantalla, pos_x=0,pos_y=0, numero=0&#41;:<br />        # <br />        pantalla.blit&#40;self.imagenes_de_capa[numero],&#40;pos_x,pos_y&#41;&#41;<br />    <br />    def hacer_colisionbox_capa&#40;self, numero&#41;:<br />        # esto crea una serie de cajas de colisiones de una capa determinada<br />        capa = self.conjunto_de_capas[numero]<br />        colision_rects = []<br />        x=0<br />        y=0<br />        w = 0<br />        temp_x = 0<br />        for fila in capa:<br />            x=0<br />            for columna in fila:<br />                # esto junta por columna, las cajas de colision<br />                # para que sean menos<br />                if columna != 0:<br />                    if temp_x == 0 and w == 0:<br />                        temp_x = x<br />                    w+=self.tilewidth<br />                else:<br />                    if w != 0:<br />                        colision_rects.append&#40;pygame.Rect&#40;temp_x,y, w, self.tileheight&#41;&#41;<br />                        w=0<br />                        temp_x = 0<br />                x+=self.tilewidth<br />            <br />            #---esto es en el caso de que la columna este llena de tiles...<br />            # ya que si eso ocurre, nunca se cumplira la condición del &quot;else&quot;<br />            if w != 0:<br />                colision_rects.append&#40;pygame.Rect&#40;temp_x,y, w, self.tileheight&#41;&#41;<br />                w=0<br />                temp_x = 0<br />            y+=self.tileheight<br />        <br />        return colision_rects<br /><br />def cut_by_w_h&#40;imagen,w,h&#41;:<br />    Lista_ima = [];<br />    ima_w = imagen.get_width&#40;&#41;<br />    ima_h = imagen.get_height&#40;&#41;<br />    columnas = &#40;ima_w/w&#41;<br />    filas = &#40;ima_h/h&#41;<br />    f = 0<br />    c = 0<br />    ima_temp = pygame.Surface&#40;&#40;w, h&#41;&#41;<br />    while&#40;f&lt;filas&#41;:<br />        while&#40;c&lt;columnas&#41;:<br />            ima_temp.fill&#40;&#40;255,255,255&#41;&#41;<br />            ima_temp.set_colorkey&#40;&#40;255,255,255&#41;&#41;<br />            rect = &#40;&#40;c * w&#41;,&#40;f * h&#41;,w, h&#41;<br />            ima_temp.blit&#40;imagen, &#40;0,0&#41;, rect&#41;<br />            Lista_ima.append&#40;ima_temp.copy&#40;&#41;&#41;<br />            c+=1<br />        c=0<br />        f+=1<br />    return Lista_ima</pre><br /><br />Un ejemplo de su uso...<br /><br /><pre class="prettyprint">#!/usr/bin/env python<br /># -*- coding: utf-8 -*-<br />import pygame<br />from pygame import *<br /># puedes ponerle cualquier nombre....<br />from carga_mapa import *<br /><br />def main&#40;&#41;:<br />    # inicializamos pygame<br />    screen = pygame.display.set_mode&#40;&#40;640, 480&#41;&#41;<br />    #creamos el objeto para cargar el mapa<br />    mapa = Mapa&#40;&#41;<br />    # cargamos el mapa ...<br />    mapa.cargar_mapa&#40;&quot;prueva_tile.tmx&quot;&#41;<br />    <br />    # creo una lista de imágenes...<br />    imagenes = []<br />    for ima in range&#40;len&#40;mapa.conjunto_de_capas&#41;&#41;:<br />        # donde guardo las imágenes de capas...<br />        imagenes.append&#40;mapa.trasforma_a_imagenes&#40;ima&#41;&#41;<br />    <br />    hacer = True<br />    delay_frames = &#40;1000/25&#41;<br />    while hacer:<br />        pygame.time.delay&#40;delay_frames&#41;<br />        for event in pygame.event.get&#40;&#41;:<br />            if event.type == QUIT:<br />                hacer = False<br />        screen.fill&#40;&#40;130,130,130&#41;&#41;<br />        # imprimimos las imágenes de las capas<br />        for image in imagenes:<br />            screen.blit&#40;image, &#40;0,0&#41;&#41;<br /><br />        pygame.display.update&#40;&#41;<br />    pygame.quit&#40;&#41;<br /><br />main&#40;&#41;</pre><br /><br /><br />Se aceptan criticas <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2345">Barajas</a> — Vie Jul 20, 2012 1:58 pm</p><hr />
]]></content>
</entry>
</feed>