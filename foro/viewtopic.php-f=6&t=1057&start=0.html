<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="es" xml:lang="es">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="es" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="copyright" content="2000, 2002, 2005, 2007 phpBB Group" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

<title>LosersJuegos &bull; Ver Tema - sdl + opengl y transparencia en pngs</title>

<link rel="alternate" type="application/atom+xml" title="Feed - LosersJuegos" href="feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Nuevos Temas" href="feed-mode=topics.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Foro - Sobre las bibliotecas multimedia" href="feed-f=6.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Tema - sdl + opengl y transparencia en pngs" href="feed-f=6&amp;t=1057.php" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:

	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Introduzca el número de página al que desea saltar:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.losersjuegos.com.ar';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<script type="text/javascript" src="styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="styles/prosilver/template/forum_fn.js"></script>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.php-id=3&amp;lang=en&amp;sid=4ec7bd6b5b400f7171476bb35f8261c6.css" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />




<link href="styles/prosilver/theme/header.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/barrausuario.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/design.css" rel="stylesheet" type="text/css"/>

<link href="styles/prosilver/theme/src/prettify.css" type="text/css" rel="stylesheet" />
<script src="styles/prosilver/theme/src/prettify.js" type="text/javascript"></script>


</head>


<body onload="prettyPrint()" id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
<div id='borde'>

    <div id="cabecera">

        <a href='index.html'><img id='logo1' alt='' src="styles/prosilver/theme/ima_cabecera/logo_1.png" width="286" height="50" name="logo1" /></a>

        <div id="navi">
            <ul>
                <li><a href="../index.html">Web</a></li>
                <li id='actual'><a href="index.html">Foro</a></li>
            </ul>
        </div>

    </div>


<div class='barra_usuario'>
        <ul>
                <li class='regresar'><a href='../index.html'>Regresar a la web</a></li>
                <li class='buscar'><a href="search.php.html">Buscar</a></li>

                
                <li class='registrar'><a href="ucp.php-mode=register.html">Registrarse</a></li>

                <li class='registrar'><a href="ucp.php-mode=login.html">Identificarse</a>
                </li>
                

        </ul>
</div>




	<a name="start_here"></a>
	<div id="page-body">
		<ul style='font-size: 14px' class="linklist">
                    <li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
                    </ul>
<h2><a href="viewtopic.php-f=6&amp;t=1057&amp;start=0.html">sdl + opengl y transparencia en pngs</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Tratamos sobre el manejo de APIs frecuentemente utilizadas en el desarrollo de videojuegos, como SDL, pygame o SFML.<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=6&amp;t=1057.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="post" id="topic-search" action="search.php-t=1057.html">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Buscar este tema…" onclick="if(this.value=='Buscar este tema…')this.value='';" onblur="if(this.value=='')this.value='Buscar este tema…';" />
				<input class="button2" type="submit" value="Buscar" />
				<input type="hidden" value="1057" name="t" />
				<input type="hidden" value="msgonly" name="sf" />
			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			1 mensaje
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p5108" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="#p5108">sdl + opengl y transparencia en pngs</a></h3>
			<p class="author"><a href="viewtopic.php-p=5108.html#p5108"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2334.html">baigos</a></strong> &raquo; Jue Feb 17, 2011 6:19 pm </p>

			

			<div class="content">hola, estaba tratando de cargar imágenes en sdl + opengl, y el primer problema que habia tenido era que me tomaba ciertas imágenes correctamente (texturas de 32 bits), las otras me las mostraba distorsionadas. Lo solucioné utilizando el código que viene en los ejemplos de sdl, más precisamente el testgl.c.<br />El tema ahora es que no puedo hacer que me tome las transparencias de un png. Este es mi código.<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>GLuint loadTexture(SDL_Surface *surface)<br />{<br />&nbsp; &nbsp;GLuint texture;<br />&nbsp; &nbsp;int w, h;<br />&nbsp; &nbsp;SDL_Surface *image;<br />&nbsp; &nbsp;SDL_Rect area;<br />&nbsp; &nbsp;Uint32 saved_flags;<br />&nbsp; &nbsp;Uint8&nbsp; saved_alpha;<br /><br />&nbsp; &nbsp;//verifica si el ancho de la imagen es potencia de 2<br />&nbsp; &nbsp;if(powerof2(surface-&gt;w) == 0) printf(&quot;warning: image width is not a power of 2\n&quot;);<br />&nbsp; &nbsp; &nbsp; &nbsp;//verifica si el alto de la imagen es potencia de 2<br />&nbsp; &nbsp;if(powerof2(surface-&gt;h) == 0) printf(&quot;warning: image height is not a power of 2\n&quot;);<br /><br />&nbsp; &nbsp;w = surface-&gt;w;<br />&nbsp; &nbsp;h = surface-&gt;h;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;image = SDL_CreateRGBSurface(<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;SDL_SWSURFACE,<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;w, h,<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;32,<br />#if SDL_BYTEORDER == SDL_LIL_ENDIAN /* OpenGL RGBA masks */<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;0x000000FF, <br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;0x0000FF00, <br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;0x00FF0000, <br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;0xFF000000<br />#else<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;0xFF000000,<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;0x00FF0000, <br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;0x0000FF00, <br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;0x000000FF<br />#endif<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp; &nbsp;);<br />&nbsp; &nbsp;if ( image == NULL ) {<br />&nbsp; &nbsp;&nbsp; &nbsp;return 0;<br />&nbsp; &nbsp;}<br /><br />&nbsp; &nbsp;/* Save the alpha blending attributes */<br />&nbsp; &nbsp;saved_flags = surface-&gt;flags&amp;(SDL_SRCALPHA|SDL_RLEACCELOK);<br />&nbsp; &nbsp;saved_alpha = surface-&gt;format-&gt;alpha;<br />&nbsp; &nbsp;if ( (saved_flags &amp; SDL_SRCALPHA) == SDL_SRCALPHA ) {<br />&nbsp; &nbsp;&nbsp; &nbsp;SDL_SetAlpha(surface, 0, 0);<br />&nbsp; &nbsp;}<br /><br />&nbsp; &nbsp;/* Copy the surface into the GL texture image */<br />&nbsp; &nbsp;area.x = 0;<br />&nbsp; &nbsp;area.y = 0;<br />&nbsp; &nbsp;area.w = surface-&gt;w;<br />&nbsp; &nbsp;area.h = surface-&gt;h;<br />&nbsp; &nbsp;SDL_BlitSurface(surface, &amp;area, image, &amp;area);<br /><br />&nbsp; &nbsp;/* Restore the alpha blending attributes */<br />&nbsp; &nbsp;if ( (saved_flags &amp; SDL_SRCALPHA) == SDL_SRCALPHA ) {<br />&nbsp; &nbsp;&nbsp; &nbsp;SDL_SetAlpha(surface, saved_flags, saved_alpha);<br />&nbsp; &nbsp;}<br /><br />&nbsp; &nbsp;/* Create an OpenGL texture for the image */<br />&nbsp; &nbsp;glGenTextures(1, &amp;texture);<br />&nbsp; &nbsp;glBindTexture(GL_TEXTURE_2D, texture);<br />&nbsp; &nbsp;glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST);<br />&nbsp; &nbsp;glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST);<br />&nbsp; &nbsp;glTexImage2D(GL_TEXTURE_2D,<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;0,<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;GL_RGBA,<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;w, h,<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;0,<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;GL_RGBA,<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;GL_UNSIGNED_BYTE,<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp; &nbsp;image-&gt;pixels);<br />&nbsp; &nbsp;SDL_FreeSurface(image); /* No longer needed */<br /><br />&nbsp; &nbsp;return texture;<br /><br /><br />}<br /></code></dd></dl><br /><br />Para la inicialización del opengl arme esta función:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code><br />int initgraphics()<br />{<br /><br />&nbsp; &nbsp;if((SDL_Init( SDL_INIT_VIDEO )) &lt; 0 )<br />&nbsp; &nbsp;{<br />&nbsp; &nbsp;&nbsp; &nbsp;printf(&quot;error, no inicia video&quot;);<br />&nbsp; &nbsp;&nbsp; &nbsp;return 0;<br />&nbsp; &nbsp;}<br />&nbsp; &nbsp;<br /><br />&nbsp; &nbsp;SDL_GL_SetAttribute(SDL_GL_DOUBLEBUFFER,1);<br /><br />&nbsp; &nbsp;<br />&nbsp; &nbsp;if((screen = SDL_SetVideoMode(SCREEN_WIDTH,SCREEN_HEIGHT,SCREEN_BPP,SDL_OPENGL)) &lt; 0)<br />&nbsp; &nbsp;{<br />&nbsp; &nbsp;&nbsp; &nbsp;printf(&quot;error, no inicia modo gráfico&quot;);<br />&nbsp; &nbsp;&nbsp; &nbsp;return 0;<br />&nbsp; &nbsp;}<br />&nbsp; &nbsp;<br /><br />&nbsp; &nbsp;glClearColor(0.0f, 0.0f, 1.0f, 0.0f);<br /><br />&nbsp; &nbsp;glPushAttrib(GL_ENABLE_BIT);<br />&nbsp; &nbsp;glDisable(GL_DEPTH_TEST);<br />&nbsp; &nbsp;glDisable(GL_CULL_FACE);<br />&nbsp; &nbsp;glEnable( GL_TEXTURE_2D );<br /><br />&nbsp; &nbsp;/* This allows alpha blending of 2D textures with the scene */<br />&nbsp; &nbsp;glEnable(GL_BLEND);<br />&nbsp; &nbsp;glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);<br /><br />&nbsp; &nbsp;<br />&nbsp; &nbsp;glViewport( 0, 0, SCREEN_WIDTH, SCREEN_HEIGHT);<br /><br />&nbsp; &nbsp;glMatrixMode( GL_PROJECTION );<br />&nbsp; &nbsp;glPushMatrix();<br />&nbsp; &nbsp;glLoadIdentity();<br /><br />&nbsp; &nbsp;glOrtho( 0.0, (GLdouble)SCREEN_WIDTH, (GLdouble)SCREEN_HEIGHT, 0.0, 0.0, 1.0 );<br />&nbsp; &nbsp; <br />&nbsp; &nbsp;glMatrixMode( GL_MODELVIEW );<br />&nbsp; &nbsp;glPushMatrix();<br />&nbsp; &nbsp;glLoadIdentity();<br /><br />&nbsp; &nbsp;glTexEnvf(GL_TEXTURE_ENV, GL_TEXTURE_ENV_MODE, GL_DECAL);<br /><br />&nbsp; &nbsp;return 1;<br />&nbsp; &nbsp;<br />}<br /></code></dd></dl><br /><br />Si alguien tiene alguna idea, bienvenida sea, aunque sea otro método diferente.</div>

			<div id="sig5108" class="signature">El sitio de videojuegos del nordeste argentino:<br /><!-- w --><a class="postlink" href="http://www.arcadenea.com.ar">www.arcadenea.com.ar</a><!-- w --></div>

		</div>

		
			<dl class="postprofile" id="profile5108">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2334.html">baigos</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 27</dd><dd><strong>Registrado:</strong> Dom Oct 03, 2010 5:51 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=6&amp;t=1057.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="pagination">
			1 mensaje
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="viewforum.php-f=6.html" class="left-box left" accesskey="r">Volver a Sobre las bibliotecas multimedia</a></p>

	<form method="post" id="jumpbox" action="viewforum.php.html" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Saltar a:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Seleccione un Foro</option>
			<option value="-1">------------------</option>
				<option value="15">Proyecto Losersjuegos</option>
			
				<option value="1">&nbsp; &nbsp;Planificación y eventos</option>
			
				<option value="14">&nbsp; &nbsp;Asadetris</option>
			
				<option value="22">Pilas Engine</option>
			
				<option value="23">&nbsp; &nbsp;Anuncios de los desarrolladores</option>
			
				<option value="24">&nbsp; &nbsp;Consultas, problemas o bugs.</option>
			
				<option value="25">&nbsp; &nbsp;Proyectos usando pilas</option>
			
				<option value="26">&nbsp; &nbsp;Sugerencias e ideas</option>
			
				<option value="28">&nbsp; &nbsp;General</option>
			
				<option value="16">Sugerencias, proyectos e ideas</option>
			
				<option value="2">&nbsp; &nbsp;Artículos, traducciones y documentación</option>
			
				<option value="3">&nbsp; &nbsp;Ejemplos</option>
			
				<option value="4">&nbsp; &nbsp;Videojuegos</option>
			
				<option value="12">&nbsp; &nbsp;Propuestas de desarrollo y concursos</option>
			
				<option value="13">&nbsp; &nbsp;Inspiración y otras ideas interesantes</option>
			
				<option value="5">&nbsp; &nbsp;Otros</option>
			
				<option value="17">Consultas</option>
			
				<option value="6" selected="selected">&nbsp; &nbsp;Sobre las bibliotecas multimedia</option>
			
				<option value="7">&nbsp; &nbsp;Instalación de bibliotecas y herramientas</option>
			
				<option value="8">&nbsp; &nbsp;Sobre lenguajes de programación</option>
			
				<option value="9">&nbsp; &nbsp;General</option>
			
				<option value="20">&nbsp; &nbsp;3D</option>
			
				<option value="29">&nbsp; &nbsp;HTML5 y Javascript</option>
			
				<option value="30">&nbsp; &nbsp;Qt y pyqt</option>
			
				<option value="18">Otros</option>
			
				<option value="10">&nbsp; &nbsp;Fuera de tópico</option>
			
				<option value="11">&nbsp; &nbsp;Links interesantes</option>
			
			</select>
			<input type="submit" value="Ir" class="button2" />
		</fieldset>
	</form>


	<h3>¿Quién está conectado?</h3>
	<p>Usuarios navegando por este Foro: No hay usuarios registrados visitando el Foro y 1 invitado</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
				
			<li class="rightside"><a href="memberlist.php-mode=leaders.html">El Equipo</a> &bull; <a href="ucp.php-mode=delete_cookies.html">Borrar todas las cookies del Sitio</a> &bull; Todos los horarios son UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>



<div id="pie">

    <ul>
            <li class="contactenos"><a href="../comunidad/contactenos.html">Contáctenos</a></li>
                
                <li class="cc"><a href="http://creativecommons.org/licenses/by-sa/2.5/deed.es">Licencia de uso para el sitio</a></li>

                    <li class="foro"><a href="index.html">Foro de mensajes</a></li>

                        <li class="comunidad"><a href="../comunidad.html">Sobre el grupo ...</a></li>
                    </ul>
                </div>


</div> <!-- borde -->
</div>


<div class="copyright">
Este foro de mensajes funciona gracias al sistema <a href="http://www.phpbb.com/">phpBB</a>
<br/>
Tema visual personalizando por Hugo Ruscitti.
<br/>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	<img src="cron.php-cron_type=tidy_cache.gif" width="1" height="1" alt="cron" />
</div>

</body>
</html>