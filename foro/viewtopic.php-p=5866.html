<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="es" xml:lang="es">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="es" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="copyright" content="2000, 2002, 2005, 2007 phpBB Group" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

<title>LosersJuegos &bull; Ver Tema - AYUDA:problema con instancias de clases con c++</title>

<link rel="alternate" type="application/atom+xml" title="Feed - LosersJuegos" href="feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Nuevos Temas" href="feed-mode=topics.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Foro - Sobre lenguajes de programación" href="feed-f=8.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Tema - AYUDA:problema con instancias de clases con c++" href="feed-f=8&amp;t=1245.php" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:

	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Introduzca el número de página al que desea saltar:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.losersjuegos.com.ar';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<script type="text/javascript" src="styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="styles/prosilver/template/forum_fn.js"></script>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.php-id=3&amp;lang=en&amp;sid=4ec7bd6b5b400f7171476bb35f8261c6.css" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />




<link href="styles/prosilver/theme/header.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/barrausuario.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/design.css" rel="stylesheet" type="text/css"/>

<link href="styles/prosilver/theme/src/prettify.css" type="text/css" rel="stylesheet" />
<script src="styles/prosilver/theme/src/prettify.js" type="text/javascript"></script>


</head>


<body onload="prettyPrint()" id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
<div id='borde'>

    <div id="cabecera">

        <a href='index.html'><img id='logo1' alt='' src="styles/prosilver/theme/ima_cabecera/logo_1.png" width="286" height="50" name="logo1" /></a>

        <div id="navi">
            <ul>
                <li><a href="../index.html">Web</a></li>
                <li id='actual'><a href="index.html">Foro</a></li>
            </ul>
        </div>

    </div>


<div class='barra_usuario'>
        <ul>
                <li class='regresar'><a href='../index.html'>Regresar a la web</a></li>
                <li class='buscar'><a href="search.php.html">Buscar</a></li>

                
                <li class='registrar'><a href="ucp.php-mode=register.html">Registrarse</a></li>

                <li class='registrar'><a href="ucp.php-mode=login.html">Identificarse</a>
                </li>
                

        </ul>
</div>




	<a name="start_here"></a>
	<div id="page-body">
		<ul style='font-size: 14px' class="linklist">
                    <li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
                    </ul>
<h2><a href="viewtopic.php-f=8&amp;t=1245&amp;start=0.html">AYUDA:problema con instancias de clases con c++</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Agrupa todas las consultas sobre los lenguajes de programacion como C, C++, Python, Java ...<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=8&amp;t=1245.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="post" id="topic-search" action="search.php-t=1245.html">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Buscar este tema…" onclick="if(this.value=='Buscar este tema…')this.value='';" onblur="if(this.value=='')this.value='Buscar este tema…';" />
				<input class="button2" type="submit" value="Buscar" />
				<input type="hidden" value="1245" name="t" />
				<input type="hidden" value="msgonly" name="sf" />
			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			5 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p5866" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="#p5866">AYUDA:problema con instancias de clases con c++</a></h3>
			<p class="author"><a href="#p5866"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2414.html">kingwar</a></strong> &raquo; Dom Ago 28, 2011 6:50 pm </p>

			

			<div class="content">veran el problema es cuando se crean mas de una instancia de la misma clase por ejemplo en un juego de nave: se crean 2 naves &quot;class nave_de_guerra&quot; y cuando se modifica internamente en su inteligencia artificial la direccion de la misma(refiriendose a ella &quot;this-&gt;&quot;), se cambia para todas las instancias que hallan en memoria de la clase &quot;nave_de_guerra&quot; la direccion.es decir, si una de las naves choca con el lado derecho de la pantalla y la nave cambia su direccion, no solo cambia ella sino todas las demas ¿porque?, en python no tengo problemas con el manejo de instancias porque python da un argumento &quot;self&quot; <img src="images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /> , pero leí en un lado que c++ hace lo mismo pero pasando internamente &quot;this&quot;, y aun así me sucede esto.<br /><br />esto me hace pensar que tal vez, debí quedarme con python  <img src="images/smilies/icon_cry.gif" alt=":cry:" title="Crying or Very sad" /> <br /><br />¿alguna recomendacion para evitar esto(si entendieron)? <img src="images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /><br /><br />uso DEV C++/MinGW</div>

			<div id="sig5866" class="signature">&quot;pero si estudias computacion deberias saber manejar todos los programas&quot; conclusion:usuario no es gente<br /><br />-linkingcrk- <!-- m --><a class="postlink" href="http://baulprogramas.blogspot.com/">http://baulprogramas.blogspot.com/</a><!-- m --></div>

		</div>

		
			<dl class="postprofile" id="profile5866">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2414.html"><img src="download/2414-avatar=2414_1324675081.gif" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2414.html">kingwar</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 35</dd><dd><strong>Registrado:</strong> Dom Abr 10, 2011 9:32 pm</dd><dd><strong>Ubicación:</strong> Venezuela-Miranda</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://baulprogramas.blogspot.com/" title="WWW: http://baulprogramas.blogspot.com/"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5868" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p5868">Re: AYUDA:problema con instancias de clases con c++</a></h3>
			<p class="author"><a href="viewtopic.php-p=5868.html#p5868"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a></strong> &raquo; Mar Ago 30, 2011 2:03 am </p>

			

			<div class="content">Seria bueno ver como tienes declarada esa clase, no se si tengas puesto las funciones como const, además usas el apuntador this<br />esto no es python y para la mayoría de los casos no es necesario hacer referencia de esa forma, creo que solo en dos casos es necesario, lo que te esta sucediendo no es común, por eso me gustaría ver el código haber que tiene.</div>

			<div id="sig5868" class="signature">El conocimiento de unos es conocimiento de todos.</div>

		</div>

		
			<dl class="postprofile" id="profile5868">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html"><img src="download/2124-avatar=2124_1283282608.jpg" width="70" height="53" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 249</dd><dd><strong>Registrado:</strong> Mar Jul 14, 2009 4:13 am</dd><dd><strong>Ubicación:</strong> mexico</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5884" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p5884">Re: AYUDA:problema con instancias de clases con c++</a></h3>
			<p class="author"><a href="viewtopic.php-p=5884.html#p5884"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Mar Ago 30, 2011 8:16 am </p>

			

			<div class="content">Como dice carlos, es raro de coj$%#@!<br /><br />Si pudieras postear el código ( huele a variable estática )</div>

			

		</div>

		
			<dl class="postprofile" id="profile5884">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5890" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p5890">Re: AYUDA:problema con instancias de clases con c++</a></h3>
			<p class="author"><a href="viewtopic.php-p=5890.html#p5890"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2414.html">kingwar</a></strong> &raquo; Jue Sep 01, 2011 1:39 am </p>

			

			<div class="content">Ok, xD no habia puesto el codigo porque me parecio que era comun  <img src="images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" />.<br /><br /><br />use herencia:<br />la del problema es la ultima.<br /><br />esta es la primera clase:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>// Listado: Participante.h<br />//<br />// Clase madre que proporciona una interfaz para los participantes<br />// que componen el juego<br /><br />#ifndef _PARTICIPANTE_H_<br />#define _PARTICIPANTE_H_<br />#include &lt;iostream&gt;<br />#include &lt;map&gt;<br />#include &quot;../recursos/CommonConstants.h&quot;<br />#include &lt;SDL/SDL.h&gt;<br /><br />class Imagen;<br />class Control_Animacion;<br />using namespace std;<br /><br />class Participante {<br /><br /> public:<br /><br />&nbsp; &nbsp; /*// Tipos de participantes<br /><br />&nbsp; &nbsp; enum tipo_participantes {<br />&nbsp; &nbsp;TIPO_ARMA,<br />&nbsp; &nbsp;TIPO_ALIEN_SIMPLE<br />&nbsp; &nbsp; };*/<br /><br />&nbsp; &nbsp; // Estados posibles de los participantes<br /><br />&nbsp; &nbsp; enum estados {<br />&nbsp; &nbsp;NORMAL,<br />&nbsp; &nbsp;DISPARANDO<br />&nbsp; &nbsp; };<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; // Constructor<br /><br />&nbsp; &nbsp; Participante(int x, int y, int direccion = 1);<br />&nbsp; <br />&nbsp; &nbsp; // Consultoras <br />&nbsp; &nbsp; int pos_x(void);<br />&nbsp; &nbsp; int pos_y(void);<br /><br /><br />&nbsp; &nbsp; virtual void actualizar(void) = 0;<br /><br />&nbsp; &nbsp; void dibujar(SDL_Surface *pantalla);<br /><br /><br />&nbsp; &nbsp; virtual ~Participante();<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; estados estado_actual(void) {return estado;};<br />&nbsp; &nbsp; <br /> protected:<br />&nbsp; &nbsp; bool mover_sobre_x(int incremento);<br />&nbsp; &nbsp; bool mover_sobre_y(int incremento,int rango=ALTO_VENTANA);<br />&nbsp; &nbsp; Imagen *imagen;<br /><br />&nbsp; &nbsp; int x, y;<br />&nbsp; &nbsp; int direccion;<br /><br />&nbsp; &nbsp; <br />&nbsp; &nbsp; estados estado;<br />&nbsp; &nbsp; estados estado_anterior;<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; map&lt;estados, Control_Animacion*&gt; animaciones;<br />};<br /><br />#endif<br /></code></dd></dl><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>// Listado: Participante.cpp<br />//<br />// Implementacion de la clase Participante<br /><br /><br />#include &lt;iostream&gt;<br /><br />#include &quot;../recursos/CommonConstants.h&quot;<br />#include &quot;Participante.h&quot;<br />#include &quot;../engine/Imagen.h&quot;<br />#include &quot;../engine/Control_Animacion.h&quot;<br />#include &quot;../AtackAliens.h&quot;<br />using namespace std;<br /><br /><br />Participante::Participante(int x, int y, int direccion)<br />{<br /><br />&nbsp; &nbsp; cout &lt;&lt; &quot;Participante::Participante()&quot; &lt;&lt; endl;<br />&nbsp; &nbsp; // Inicializamos las variables<br /><br />&nbsp; &nbsp; this-&gt;direccion = 1;<br />&nbsp; &nbsp; this-&gt;x = x;<br />&nbsp; &nbsp; this-&gt;y = y;<br /><br /><br /><br />}<br /><br /><br />int Participante::pos_x(void) {<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; return x;<br />};<br /><br /><br />int Participante::pos_y(void) {<br />&nbsp; &nbsp; return y;<br />};<br /><br /><br />Participante::~Participante() {<br /><br /><br />&nbsp; &nbsp; cout &lt;&lt; &quot;Participante::~Participante()&quot; &lt;&lt; endl;<br /><br /><br />}<br /><br />bool Participante::mover_sobre_x(int incremento) {<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;if(this-&gt;x+incremento+this-&gt;imagen-&gt;anchura() &lt; ANCHO_VENTANA &amp;&amp;this-&gt;x+incremento&gt;0)<br />&nbsp; &nbsp; &nbsp; &nbsp;{<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; this-&gt;x += incremento;<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; return true;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return false;<br />&nbsp; &nbsp; <br /><br />}<br /><br />bool Participante::mover_sobre_y(int incremento,int rango) {<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;if(this-&gt;y+incremento+this-&gt;imagen-&gt;altura() &lt; ALTO_VENTANA &amp;&amp;this-&gt;y+incremento&gt;0&amp;&amp;this-&gt;y+incremento&lt;rango)<br />&nbsp; &nbsp; &nbsp; &nbsp;{<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; this-&gt;y += incremento;<br />&nbsp; &nbsp; &nbsp; &nbsp;&nbsp; &nbsp; return true;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;return false;<br />&nbsp; &nbsp; <br /><br />}<br /><br /><br /><br />void Participante::dibujar(SDL_Surface *pantalla) {<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; //DIBUJA EN LA NUEVA POSICION<br />&nbsp; &nbsp; &nbsp; &nbsp; this-&gt;imagen-&gt;dibujar(pantalla, animaciones&#91;estado&#93;-&gt;cuadro(),x,y,direccion);<br />}<br /><br /><br /></code></dd></dl><br /><br />esta es la segunda:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>#ifndef _ALIEN_H_<br />#define _ALIEN_H_<br />#include &lt;ctime&gt;<br />#include &quot;Participante.h&quot;<br /><br /><br />class Alien:public Participante&nbsp; {<br /><br /><br />&nbsp; &nbsp;public:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;// Constructor<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; Alien( int x, int y);<br />&nbsp; &nbsp; &nbsp; &nbsp; void direccion_aleatoria();<br />&nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; // Destructor<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; ~Alien();<br />&nbsp; &nbsp; <br />&nbsp; &nbsp;protected:<br />&nbsp; &nbsp; &nbsp; &nbsp;Uint8 velocidad;<br />&nbsp; &nbsp; &nbsp; &nbsp;bool escogido_max_delay;<br />&nbsp; &nbsp; &nbsp; &nbsp;int max_delay,delay;<br />&nbsp; &nbsp; &nbsp; &nbsp;int dir_x,dir_y;<br /><br />};<br /><br /><br />#endif<br /><br /></code></dd></dl><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>// Implementacion de la clase Alien<br /><br />#include &lt;iostream&gt;<br />#include &quot;Alien.h&quot;<br /><br />using namespace std;<br /><br /><br />// Constructor<br /><br />Alien::Alien( int x, int y):<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Participante(x,y) {<br /><br />&nbsp; &nbsp; // Inicializamos los atributos de la clase<br /><br /><br />&nbsp; &nbsp; velocidad=2;<br />&nbsp; &nbsp; estado=NORMAL;<br />&nbsp; &nbsp; escogido_max_delay=false;<br />&nbsp; &nbsp; delay=0;<br />&nbsp; &nbsp; velocidad=2;<br />}<br /><br />void Alien::direccion_aleatoria()<br />{ //REGRESA UNA DIRECCION aleatoria<br />&nbsp; &nbsp; &nbsp; &nbsp;srand(time(0));<br />&nbsp; &nbsp; &nbsp; &nbsp;for(int i=0;i&lt;1+rand()%100;i++);<br />&nbsp; &nbsp; &nbsp; &nbsp;int aleatorio=rand()%9;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp;switch(aleatorio)<br />{<br />&nbsp; &nbsp; &nbsp; &nbsp;case 0:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_x=velocidad;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_y=0;<br />&nbsp; &nbsp; &nbsp; &nbsp;break;<br />&nbsp; &nbsp; &nbsp; &nbsp;case 1:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_x=0;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_y=velocidad;<br />&nbsp; &nbsp; &nbsp; &nbsp;break;<br />&nbsp; &nbsp; &nbsp; &nbsp;case 2:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_x=0;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_y=-velocidad;<br />&nbsp; &nbsp; &nbsp; &nbsp;break;<br />&nbsp; &nbsp; &nbsp; &nbsp;case 3:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_x=velocidad;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_y=velocidad;<br />&nbsp; &nbsp; &nbsp; &nbsp;break;<br />&nbsp; &nbsp; &nbsp; &nbsp;case 4:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_x=0;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_y=0;<br />&nbsp; &nbsp; &nbsp; &nbsp;break;<br />&nbsp; &nbsp; &nbsp; &nbsp;case 5:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_x=velocidad;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_y=-velocidad;<br />&nbsp; &nbsp; &nbsp; &nbsp;break;<br />&nbsp; &nbsp; &nbsp; &nbsp;case 6:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_x=-velocidad;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_y=-velocidad;<br />&nbsp; &nbsp; &nbsp; &nbsp;break;<br />&nbsp; &nbsp; &nbsp; &nbsp;case 7:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_x=-velocidad;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_y=0;<br />&nbsp; &nbsp; &nbsp; &nbsp;break;<br />&nbsp; &nbsp; &nbsp; &nbsp;case 8:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_x=-velocidad;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;dir_y=velocidad;<br />&nbsp; &nbsp; &nbsp; &nbsp;break;<br />}<br />&nbsp; &nbsp; &nbsp; &nbsp;<br /><br />}<br /><br /><br />Alien::~Alien()<br />{<br /><br /><br />&nbsp; &nbsp; cout &lt;&lt; &quot;Alien::~Alien()&quot; &lt;&lt; endl;<br /><br /><br />}<br /><br /></code></dd></dl><br /><br />y esta es la del problema:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>// Clase Arma<br /><br />#ifndef _ALIEN_EXPLORADOR_H_<br />#define _ALIEN_EXPLORADOR_H_<br />#include &quot;Alien.h&quot;<br /><br /><br /><br /><br />class Alien_explorador:public Alien&nbsp; {<br /><br /> public:<br /><br />&nbsp; &nbsp; // Constructor<br /><br />&nbsp; &nbsp; Alien_explorador( int x=0, int y=0);<br />&nbsp; &nbsp; void actualizar();<br />&nbsp; &nbsp; void posicion_aleatoria();<br />&nbsp; &nbsp; // Destructor<br /><br />&nbsp; &nbsp; ~Alien_explorador();<br />&nbsp; &nbsp; <br />private:<br />&nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; // Estados del alien<br />&nbsp; &nbsp; // Para la implementacion del autÃ³mata<br /><br />&nbsp; &nbsp; void estado_normal();<br />&nbsp; &nbsp; void estado_disparando();<br />&nbsp; &nbsp; <br /><br />};<br /><br />#endif<br /></code></dd></dl><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>// Implementacion de la clase Personaje<br /><br />#include &lt;iostream&gt;<br />#include &quot;../engine/Control_Animacion.h&quot;<br />#include &quot;../recursos/CommonConstants.h&quot;<br />#include &quot;../recursos/referencias.h&quot;<br />#include &lt;ctime&gt;<br />#include &quot;Alien_explorador.h&quot;<br /><br />using namespace std;<br /><br /><br />// Constructor<br /><br />Alien_explorador::Alien_explorador(int x, int y):<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;Alien(x, y) <br />{<br /><br />&nbsp; cout &lt;&lt;&quot;Alien_explorador::Alien_explorador&quot;&lt;&lt;endl;<br />&nbsp; &nbsp; // Asociamos al personaje las animaciones<br />&nbsp; &nbsp; // segun la rejilla que cargamos para controlarlo<br />&nbsp; &nbsp; this-&gt;imagen=galeria-&gt;imagen(Galeria::ALIEN_SIMPLE);<br />&nbsp; &nbsp; if(!x&amp;&amp;!y)<br />&nbsp; &nbsp; &nbsp; &nbsp;posicion_aleatoria();<br />&nbsp; &nbsp; direccion_aleatoria();<br />&nbsp; &nbsp; animaciones&#91;NORMAL&#93; = new Control_Animacion(&quot;0,1,2,3,4,5,6,7,8,9,10,11&quot;,5);<br />&nbsp; &nbsp; animaciones&#91;DISPARANDO&#93; = new Control_Animacion(&quot;3&quot;, 6);<br />&nbsp; &nbsp; //this-&gt;imagen = imagen_alien_simple;<br /><br /><br />}<br /><br /><br /><br />void Alien_explorador::posicion_aleatoria()<br />{<br />&nbsp; &nbsp; &nbsp;srand(time(NULL));<br /><br />&nbsp; &nbsp; &nbsp; for(int i=0;i&lt;1+rand()%100;i++);<br />&nbsp; &nbsp; &nbsp; &nbsp;this-&gt;x=1+rand()%ANCHO_VENTANA-imagen-&gt;anchura();<br />&nbsp; &nbsp; &nbsp; &nbsp;this-&gt;y=1+rand()%ALTO_VENTANA/4*3;<br /><br />&nbsp; &nbsp; &nbsp;<br />}<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />void Alien_explorador::actualizar(void) {<br /><br /><br />&nbsp; &nbsp; // Si no estamos en el mismo estado <br /><br />&nbsp; &nbsp; if(this-&gt;estado != this-&gt;estado_anterior) {<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;// Comenzamos la animacion y guardamos el estado<br />&nbsp; &nbsp;animaciones&#91;estado&#93;-&gt;reiniciar();<br />&nbsp; &nbsp;this-&gt;estado_anterior = this-&gt;estado; <br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; // Implementacion del automata<br />&nbsp; &nbsp; // Segun sea el estado<br /><br />&nbsp; &nbsp; switch(this-&gt;estado) {<br /><br />&nbsp; &nbsp; &nbsp;case NORMAL:<br />&nbsp; &nbsp; &nbsp; &nbsp; estado_normal();<br />&nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp;case DISPARANDO:<br />&nbsp; &nbsp; &nbsp; &nbsp; estado_disparando();<br />&nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp;default:<br />&nbsp; &nbsp; &nbsp; &nbsp; cerr &lt;&lt; &quot;Estado no disponible&quot; &lt;&lt; endl;<br />&nbsp; &nbsp; break;<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; <br />}<br /><br /><br /><br /><br />void Alien_explorador::estado_disparando(void) {<br /><br />&nbsp; &nbsp; // CONTROLA AL PERSONAJE MIENTRAS DISPARA<br />&nbsp; &nbsp; <br />&nbsp; /*&nbsp; teclas = SDL_GetKeyState(NULL);<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; if(teclas&#91;this-&gt;TECLA_DERECHA&#93;)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mover_sobre_x(5);<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; if(teclas&#91;this-&gt;TECLA_IZQUIERDA&#93;)<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mover_sobre_x(-5);<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; if(animaciones&#91;estado&#93;-&gt;avanzar())<br />&nbsp; &nbsp;&nbsp; &nbsp;estado = NORMAL;*/<br /><br />}<br /><br /><br />void Alien_explorador::estado_normal(void) {<br /><br />&nbsp; &nbsp; // SI EL USUARIO TIENE PRESIONADO TECLA DE MOVIMIENTO DEBEMOS MOVER EL PERSONAJE<br /><br />&nbsp; &nbsp; this-&gt;delay++;<br />&nbsp; &nbsp;if (!this-&gt;escogido_max_delay)<br />&nbsp; &nbsp;{<br />&nbsp; &nbsp; &nbsp; &nbsp; srand(time(0));<br />&nbsp; &nbsp; &nbsp; &nbsp; this-&gt;max_delay=int(1+rand()%5)*100;<br />&nbsp; &nbsp; &nbsp; &nbsp; this-&gt;escogido_max_delay=true;<br />&nbsp; &nbsp; &nbsp; &nbsp; this-&gt;delay=0;<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp;<br />&nbsp; &nbsp; bool puede_x=mover_sobre_x(this-&gt;dir_x);<br />&nbsp; &nbsp; bool puede_y=mover_sobre_y(this-&gt;dir_y,ALTO_VENTANA/4*3);<br /><br />&nbsp; &nbsp; if(!puede_x||!puede_y)<br />&nbsp; &nbsp; &nbsp; &nbsp; direccion_aleatoria();<br />&nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; this-&gt;animaciones&#91;estado&#93;-&gt;avanzar();<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; if(this-&gt;delay&gt;this-&gt;max_delay)<br />&nbsp; &nbsp; {<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;delay=0;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;this-&gt;escogido_max_delay=false;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;direccion_aleatoria();<br />&nbsp; &nbsp; &nbsp;}<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; <br />}<br /><br /><br />Alien_explorador::~Alien_explorador()<br />{<br /><br /><br />&nbsp; &nbsp; cout &lt;&lt; &quot;Alien_explorador::~Alien_explorador()&quot; &lt;&lt; endl;<br /> <br /><br />}<br /><br /></code></dd></dl><br /><br />Aclaraciones: <img src="images/smilies/icon_cool.gif" alt="8)" title="Cool" /> <br /><br />eh intentado casí todo, me falto solo hacer la clase directo sin las herencias<br />eh quitado la herencia Alien y la eh puesto hasta que solo herede de Participante, pero sigue igual.<br />intente quitando todos los this y poniendolos hasta en los &quot;#define  <img src="images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /> &quot; .<br /><br />mi proyecto se quedo ahy estancado por eso.<br /><br />(opcional)si quieren una version para compilar, descargense todo el proyecto <img src="images/smilies/icon_sad.gif" alt=":(" title="Sad" /> :<br /><!-- m --><a class="postlink" href="http://www.mediafire.com/?raffj68y8d5nnx1">http://www.mediafire.com/?raffj68y8d5nnx1</a><!-- m --><br /><br />gracias por su atencion.</div>

			<div id="sig5890" class="signature">&quot;pero si estudias computacion deberias saber manejar todos los programas&quot; conclusion:usuario no es gente<br /><br />-linkingcrk- <!-- m --><a class="postlink" href="http://baulprogramas.blogspot.com/">http://baulprogramas.blogspot.com/</a><!-- m --></div>

		</div>

		
			<dl class="postprofile" id="profile5890">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2414.html"><img src="download/2414-avatar=2414_1324675081.gif" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2414.html">kingwar</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 35</dd><dd><strong>Registrado:</strong> Dom Abr 10, 2011 9:32 pm</dd><dd><strong>Ubicación:</strong> Venezuela-Miranda</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://baulprogramas.blogspot.com/" title="WWW: http://baulprogramas.blogspot.com/"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p5962" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p5962">Re: AYUDA:problema con instancias de clases con c++</a></h3>
			<p class="author"><a href="viewtopic.php-p=5962.html#p5962"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2414.html">kingwar</a></strong> &raquo; Mié Sep 21, 2011 2:27 am </p>

			

			<div class="content">Vaya eh encontrado el problema y la solucion. <img src="images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> la culpa es de <pre class="prettyprint">srand&#40;&#41;</pre> jeje <br /><br />la solucion a mi problema la pueden ver con este codigo que muestra el 'problema' <img src="images/smilies/icon_arrow.gif" alt=":arrow:" title="Arrow" /> :<br /><pre class="prettyprint">#include &lt;cstdlib&gt;<br />#include &lt;iostream&gt;<br /><br />using namespace std;<br /><br /><br />class Monster{<br />      <br />      public:<br />          Monster&#40;&#41;{<br />                   srand&#40;time&#40;0&#41;&#41;;<br />                   x=rand&#40;&#41;%5;<br />                   y=rand&#40;&#41;%5;<br />          };<br />    <br />          int x,y;<br />};<br /><br />int main&#40;int argc, char *argv[]&#41;<br />{<br />    Monster prueba[2];<br />    <br />    cout &lt;&lt; &quot;Datos:\n&quot;;<br />    cout&lt;&lt;&quot;Monstruo 1:\n&quot;&lt;&lt;&quot;x,y=&quot;&lt;&lt;prueba[0].x&lt;&lt;&quot;,&quot;&lt;&lt;prueba[0].y&lt;&lt;endl;<br />    cout&lt;&lt;&quot;Monstruo 2:\n&quot;&lt;&lt;&quot;x,y=&quot;&lt;&lt;prueba[1].x&lt;&lt;&quot;,&quot;&lt;&lt;prueba[1].y&lt;&lt;endl;<br />    system&#40;&quot;PAUSE&quot;&#41;;<br />    return EXIT_SUCCESS;<br />}</pre><br /><br />Arroja estos datos:<br /><span style="color: #FF0000">Datos:<br />Monstruo 1:<br />x,y=3,0<br />Monstruo 2:<br />x,y=3,0<br />Presione una tecla para continuar . . .</span><br /><br />lo que yo esperaba era de que fueran distintas las coordenadas. jeje solamente habia que randomizar una vez y ya. es decir, colocandolo en main(), buehh espero que le sirva a alguien mas mi experiencia.</div>

			<div id="sig5962" class="signature">&quot;pero si estudias computacion deberias saber manejar todos los programas&quot; conclusion:usuario no es gente<br /><br />-linkingcrk- <!-- m --><a class="postlink" href="http://baulprogramas.blogspot.com/">http://baulprogramas.blogspot.com/</a><!-- m --></div>

		</div>

		
			<dl class="postprofile" id="profile5962">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2414.html"><img src="download/2414-avatar=2414_1324675081.gif" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2414.html">kingwar</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 35</dd><dd><strong>Registrado:</strong> Dom Abr 10, 2011 9:32 pm</dd><dd><strong>Ubicación:</strong> Venezuela-Miranda</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://baulprogramas.blogspot.com/" title="WWW: http://baulprogramas.blogspot.com/"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="viewtopic.php-f=8&amp;t=1245&amp;start=0.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		
		<label>Mostrar mensajes previos: <select name="st" id="st"><option value="0" selected="selected">Todos los mensajes</option><option value="1">1 día</option><option value="7">7 días</option><option value="14">2 semanas</option><option value="30">1 mes</option><option value="90">3 meses</option><option value="180">6 meses</option><option value="365">1 año</option></select></label>
		<label>Ordenar por <select name="sk" id="sk"><option value="a">Autor</option><option value="t" selected="selected">Fecha publicación</option><option value="s">Asunto</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascendente</option><option value="d">Descendente</option></select> <input type="submit" name="sort" value="Ir" class="button2" /></label>
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=8&amp;t=1245.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="pagination">
			5 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="viewforum.php-f=8.html" class="left-box left" accesskey="r">Volver a Sobre lenguajes de programación</a></p>

	<form method="post" id="jumpbox" action="viewforum.php.html" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Saltar a:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Seleccione un Foro</option>
			<option value="-1">------------------</option>
				<option value="15">Proyecto Losersjuegos</option>
			
				<option value="1">&nbsp; &nbsp;Planificación y eventos</option>
			
				<option value="14">&nbsp; &nbsp;Asadetris</option>
			
				<option value="22">Pilas Engine</option>
			
				<option value="23">&nbsp; &nbsp;Anuncios de los desarrolladores</option>
			
				<option value="24">&nbsp; &nbsp;Consultas, problemas o bugs.</option>
			
				<option value="25">&nbsp; &nbsp;Proyectos usando pilas</option>
			
				<option value="26">&nbsp; &nbsp;Sugerencias e ideas</option>
			
				<option value="28">&nbsp; &nbsp;General</option>
			
				<option value="16">Sugerencias, proyectos e ideas</option>
			
				<option value="2">&nbsp; &nbsp;Artículos, traducciones y documentación</option>
			
				<option value="3">&nbsp; &nbsp;Ejemplos</option>
			
				<option value="4">&nbsp; &nbsp;Videojuegos</option>
			
				<option value="12">&nbsp; &nbsp;Propuestas de desarrollo y concursos</option>
			
				<option value="13">&nbsp; &nbsp;Inspiración y otras ideas interesantes</option>
			
				<option value="5">&nbsp; &nbsp;Otros</option>
			
				<option value="17">Consultas</option>
			
				<option value="6">&nbsp; &nbsp;Sobre las bibliotecas multimedia</option>
			
				<option value="7">&nbsp; &nbsp;Instalación de bibliotecas y herramientas</option>
			
				<option value="8" selected="selected">&nbsp; &nbsp;Sobre lenguajes de programación</option>
			
				<option value="9">&nbsp; &nbsp;General</option>
			
				<option value="20">&nbsp; &nbsp;3D</option>
			
				<option value="29">&nbsp; &nbsp;HTML5 y Javascript</option>
			
				<option value="30">&nbsp; &nbsp;Qt y pyqt</option>
			
				<option value="18">Otros</option>
			
				<option value="10">&nbsp; &nbsp;Fuera de tópico</option>
			
				<option value="11">&nbsp; &nbsp;Links interesantes</option>
			
			</select>
			<input type="submit" value="Ir" class="button2" />
		</fieldset>
	</form>


	<h3>¿Quién está conectado?</h3>
	<p>Usuarios navegando por este Foro: No hay usuarios registrados visitando el Foro y 0 invitados</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
				
			<li class="rightside"><a href="memberlist.php-mode=leaders.html">El Equipo</a> &bull; <a href="ucp.php-mode=delete_cookies.html">Borrar todas las cookies del Sitio</a> &bull; Todos los horarios son UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>



<div id="pie">

    <ul>
            <li class="contactenos"><a href="../comunidad/contactenos.html">Contáctenos</a></li>
                
                <li class="cc"><a href="http://creativecommons.org/licenses/by-sa/2.5/deed.es">Licencia de uso para el sitio</a></li>

                    <li class="foro"><a href="index.html">Foro de mensajes</a></li>

                        <li class="comunidad"><a href="../comunidad.html">Sobre el grupo ...</a></li>
                    </ul>
                </div>


</div> <!-- borde -->
</div>


<div class="copyright">
Este foro de mensajes funciona gracias al sistema <a href="http://www.phpbb.com/">phpBB</a>
<br/>
Tema visual personalizando por Hugo Ruscitti.
<br/>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	<img src="cron.php-cron_type=tidy_cache.gif" width="1" height="1" alt="cron" />
</div>

</body>
</html>