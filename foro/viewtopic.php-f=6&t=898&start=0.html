<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="es" xml:lang="es">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="es" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="copyright" content="2000, 2002, 2005, 2007 phpBB Group" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

<title>LosersJuegos &bull; Ver Tema - [SDL]mejor forma de mover objetos en milisegundos?</title>

<link rel="alternate" type="application/atom+xml" title="Feed - LosersJuegos" href="feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Nuevos Temas" href="feed-mode=topics.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Foro - Sobre las bibliotecas multimedia" href="feed-f=6.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Tema - [SDL]mejor forma de mover objetos en milisegundos?" href="feed-f=6&amp;t=898.php" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:

	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Introduzca el número de página al que desea saltar:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.losersjuegos.com.ar';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<script type="text/javascript" src="styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="styles/prosilver/template/forum_fn.js"></script>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.php-id=3&amp;lang=en&amp;sid=4ec7bd6b5b400f7171476bb35f8261c6.css" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />




<link href="styles/prosilver/theme/header.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/barrausuario.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/design.css" rel="stylesheet" type="text/css"/>

<link href="styles/prosilver/theme/src/prettify.css" type="text/css" rel="stylesheet" />
<script src="styles/prosilver/theme/src/prettify.js" type="text/javascript"></script>


</head>


<body onload="prettyPrint()" id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
<div id='borde'>

    <div id="cabecera">

        <a href='index.html'><img id='logo1' alt='' src="styles/prosilver/theme/ima_cabecera/logo_1.png" width="286" height="50" name="logo1" /></a>

        <div id="navi">
            <ul>
                <li><a href="../index.html">Web</a></li>
                <li id='actual'><a href="index.html">Foro</a></li>
            </ul>
        </div>

    </div>


<div class='barra_usuario'>
        <ul>
                <li class='regresar'><a href='../index.html'>Regresar a la web</a></li>
                <li class='buscar'><a href="search.php.html">Buscar</a></li>

                
                <li class='registrar'><a href="ucp.php-mode=register.html">Registrarse</a></li>

                <li class='registrar'><a href="ucp.php-mode=login.html">Identificarse</a>
                </li>
                

        </ul>
</div>




	<a name="start_here"></a>
	<div id="page-body">
		<ul style='font-size: 14px' class="linklist">
                    <li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
                    </ul>
<h2><a href="viewtopic.php-f=6&amp;t=898&amp;start=0.html">[SDL]mejor forma de mover objetos en milisegundos?</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Tratamos sobre el manejo de APIs frecuentemente utilizadas en el desarrollo de videojuegos, como SDL, pygame o SFML.<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=6&amp;t=898.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="post" id="topic-search" action="search.php-t=898.html">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Buscar este tema…" onclick="if(this.value=='Buscar este tema…')this.value='';" onblur="if(this.value=='')this.value='Buscar este tema…';" />
				<input class="button2" type="submit" value="Buscar" />
				<input type="hidden" value="898" name="t" />
				<input type="hidden" value="msgonly" name="sf" />
			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			3 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p4217" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="#p4217">[SDL]mejor forma de mover objetos en milisegundos?</a></h3>
			<p class="author"><a href="viewtopic.php-p=4217.html#p4217"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2334.html">baigos</a></strong> &raquo; Dom Oct 03, 2010 6:08 am </p>

			

			<div class="content">Hola, me presento, soy baigos de Corrientes Capital Nacional de los bulones. <br />Ando programando algunas cosas en C + SDL, y resulta que lo que quiero hacer es hacer una funcion mas o menos de este tipo:<br />void moverobjeto(SDL_Surface *img, Uint16 tiempo, int cantidad_a_mover_en_x)<br /><br />donde yo le doy un cierto intervalo de milisegundos, y una cantidad en pixeles a desplazar en ese tiempo. La velocidad sería calculada segun los parametros. El tema es como hacerlo, se me ocurrieron 2 ideas:<br /><br />-Tengo el framerate fijado en 60 cuadros, con lo cual cada 17 ms (aproximadamente) dibujo un cuadro. Entonces hago (17 ms x cantidad_a_mover)/tiempo en ms y obtengo la cantidad de pixeles que debo mover cada 17 ms (o el intervalo de dibujado que le asigne en ms).<br /><br />-Divido el tiempo en ms por la cantidad de pixeles a mover, y obtengo un intervalo de dibujado en milisegundos.<br /><br />La primer solucion es la que tengo mas accesible, el tema es que SDL_Rect al tener x e y en Sint16 no es preciso, y no llega a la cantidad de pixeles fijada (o se pasa).<br />En la segunda se me arma un quilombo con los timers, y tampoco es precisa. Ademas como fijo un framerate, tengo un problema alli tambien.<br /><br />He visto que stepmania implementa algunas funciones similares, pero el codigo fuente del stepmania es mas intrincado que la vida de ricardo fort.<br /><br />Si alguien aporta alguna idea bienvenida será, y asi podremos mover una superficie conteniendo a zulma lobato en milisegundos bla bla bla...el sueño de todo ser humano...bla bla bla</div>

			<div id="sig4217" class="signature">El sitio de videojuegos del nordeste argentino:<br /><!-- w --><a class="postlink" href="http://www.arcadenea.com.ar">www.arcadenea.com.ar</a><!-- w --></div>

		</div>

		
			<dl class="postprofile" id="profile4217">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2334.html">baigos</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 27</dd><dd><strong>Registrado:</strong> Dom Oct 03, 2010 5:51 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4218" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4218">Re: [SDL]mejor forma de mover objetos en milisegundos?</a></h3>
			<p class="author"><a href="viewtopic.php-p=4218.html#p4218"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a></strong> &raquo; Dom Oct 03, 2010 7:31 am </p>

			

			<div class="content">Creo que cualquier programador se a preguntado eso y es un tema básico de animaciones.<br />El caso es que ni una de las dos formas te sirve.<br />para empezar dividiría el problema en dos partes, primero hacer que se mueva con una velocidad fijada y la otra parte seria checar cuanta distancia ya recorrió si es mayor a la que le pasaste lo detienes.<br />Yo tengo hecho toda una clase para animaciones pero el núcleo son las siguientes funciones;<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code><br />float d_vt(float velocidad, Uint32 tiempo)<br />{<br />&nbsp; &nbsp; return velocidad*tiempo/1000.0;<br /><br />}<br /><br />//Calcula la posicion de un punto al haber transcurrido time_trans (ms), con respecto a su posicion actual<br />//es decir la posicion no depende de los FPS.<br />float next_point(punto &amp;posicion,punto posicion_inicio, Vector velocidad, int time_trans)<br />{<br />&nbsp; &nbsp; punto aux=posicion;<br />&nbsp; &nbsp; posicion.x=posicion_inicio.x+d_vt(velocidad.magnitud, time_trans)*cos(to_rad(velocidad.angulo));<br />&nbsp; &nbsp; posicion.y=posicion_inicio.y-d_vt(velocidad.magnitud, time_trans)*sin(to_rad(velocidad.angulo));<br />&nbsp; &nbsp; return dist_2puntos(aux,posicion);<br />}<br /></code></dd></dl><br /><br />el funcionamiento es que tu le envias la posicion actual por ejemplo(1,1), la velocidad en forma vectorial, y el tiempo que transcurrio desde que llamaste a la función, asi si la velocidad es 1 con 0 grados que es 1 en x y 0 en y en un segundo va avanzar un píxel. lo que regresa es la magnitud del vector de posición, pero como conoces el ángulo en el que se mueve solo haces las proyecciones en los ejes x e y y es lo que le sumas a la posición actual, y así vas llamando en cada ciclo a esta función.<br />Nunca he visto como hacen los demás para hacer algo así, pero esta función esta fundamentada en el calculo integral.<br />nada mas que esto calcula los pequeños pedazos de la curva, si sumas todos te va a dar la longitud de la curva.<br />y si vas pegando cada pedazo con el ángulo respectivo se crea la forma de la curva.<br />las diferencias de tiempo son las dt. Esto permite ir cambiando el ángulo para cada llamada a la función<br />el único detalle es que si llamas a la función en tiempos muy cortos mientras cambias el ángulo casi no va a avanzar debido a que la pantalla tiene posiciones discretas.<br /><br />No supongas que en cualquier maquina el framerate va a ser el mismo.<br /><br />Yo uso un framerate semi estable, fijo un framerate por ejemplo 30, y se va a tratar de mantener los 30 fps, pero puede variar, podría disminuir a 28 si hay que hacer algún calculo pesado, pero eso no afectara las posiciones de la animación, por que dependen del tiempo, no del framerate.incluso por alguna razón aveces aumenta a 34, por eso digo que es semi.</div>

			<div id="sig4218" class="signature">El conocimiento de unos es conocimiento de todos.</div>

		</div>

		
			<dl class="postprofile" id="profile4218">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html"><img src="download/2124-avatar=2124_1283282608.jpg" width="70" height="53" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 249</dd><dd><strong>Registrado:</strong> Mar Jul 14, 2009 4:13 am</dd><dd><strong>Ubicación:</strong> mexico</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4220" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4220">Re: [SDL]mejor forma de mover objetos en milisegundos?</a></h3>
			<p class="author"><a href="viewtopic.php-p=4220.html#p4220"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2334.html">baigos</a></strong> &raquo; Dom Oct 03, 2010 2:01 pm </p>

			

			<div class="content">muchas gracias che, voy a aplicar el método a ver que sale</div>

			<div id="sig4220" class="signature">El sitio de videojuegos del nordeste argentino:<br /><!-- w --><a class="postlink" href="http://www.arcadenea.com.ar">www.arcadenea.com.ar</a><!-- w --></div>

		</div>

		
			<dl class="postprofile" id="profile4220">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2334.html">baigos</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 27</dd><dd><strong>Registrado:</strong> Dom Oct 03, 2010 5:51 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="viewtopic.php-f=6&amp;t=898&amp;start=0.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		
		<label>Mostrar mensajes previos: <select name="st" id="st"><option value="0" selected="selected">Todos los mensajes</option><option value="1">1 día</option><option value="7">7 días</option><option value="14">2 semanas</option><option value="30">1 mes</option><option value="90">3 meses</option><option value="180">6 meses</option><option value="365">1 año</option></select></label>
		<label>Ordenar por <select name="sk" id="sk"><option value="a">Autor</option><option value="t" selected="selected">Fecha publicación</option><option value="s">Asunto</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascendente</option><option value="d">Descendente</option></select> <input type="submit" name="sort" value="Ir" class="button2" /></label>
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=6&amp;t=898.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="pagination">
			3 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="viewforum.php-f=6.html" class="left-box left" accesskey="r">Volver a Sobre las bibliotecas multimedia</a></p>

	<form method="post" id="jumpbox" action="viewforum.php.html" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Saltar a:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Seleccione un Foro</option>
			<option value="-1">------------------</option>
				<option value="15">Proyecto Losersjuegos</option>
			
				<option value="1">&nbsp; &nbsp;Planificación y eventos</option>
			
				<option value="14">&nbsp; &nbsp;Asadetris</option>
			
				<option value="22">Pilas Engine</option>
			
				<option value="23">&nbsp; &nbsp;Anuncios de los desarrolladores</option>
			
				<option value="24">&nbsp; &nbsp;Consultas, problemas o bugs.</option>
			
				<option value="25">&nbsp; &nbsp;Proyectos usando pilas</option>
			
				<option value="26">&nbsp; &nbsp;Sugerencias e ideas</option>
			
				<option value="28">&nbsp; &nbsp;General</option>
			
				<option value="16">Sugerencias, proyectos e ideas</option>
			
				<option value="2">&nbsp; &nbsp;Artículos, traducciones y documentación</option>
			
				<option value="3">&nbsp; &nbsp;Ejemplos</option>
			
				<option value="4">&nbsp; &nbsp;Videojuegos</option>
			
				<option value="12">&nbsp; &nbsp;Propuestas de desarrollo y concursos</option>
			
				<option value="13">&nbsp; &nbsp;Inspiración y otras ideas interesantes</option>
			
				<option value="5">&nbsp; &nbsp;Otros</option>
			
				<option value="17">Consultas</option>
			
				<option value="6" selected="selected">&nbsp; &nbsp;Sobre las bibliotecas multimedia</option>
			
				<option value="7">&nbsp; &nbsp;Instalación de bibliotecas y herramientas</option>
			
				<option value="8">&nbsp; &nbsp;Sobre lenguajes de programación</option>
			
				<option value="9">&nbsp; &nbsp;General</option>
			
				<option value="20">&nbsp; &nbsp;3D</option>
			
				<option value="29">&nbsp; &nbsp;HTML5 y Javascript</option>
			
				<option value="30">&nbsp; &nbsp;Qt y pyqt</option>
			
				<option value="18">Otros</option>
			
				<option value="10">&nbsp; &nbsp;Fuera de tópico</option>
			
				<option value="11">&nbsp; &nbsp;Links interesantes</option>
			
			</select>
			<input type="submit" value="Ir" class="button2" />
		</fieldset>
	</form>


	<h3>¿Quién está conectado?</h3>
	<p>Usuarios navegando por este Foro: No hay usuarios registrados visitando el Foro y 2 invitados</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
				
			<li class="rightside"><a href="memberlist.php-mode=leaders.html">El Equipo</a> &bull; <a href="ucp.php-mode=delete_cookies.html">Borrar todas las cookies del Sitio</a> &bull; Todos los horarios son UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>



<div id="pie">

    <ul>
            <li class="contactenos"><a href="../comunidad/contactenos.html">Contáctenos</a></li>
                
                <li class="cc"><a href="http://creativecommons.org/licenses/by-sa/2.5/deed.es">Licencia de uso para el sitio</a></li>

                    <li class="foro"><a href="index.html">Foro de mensajes</a></li>

                        <li class="comunidad"><a href="../comunidad.html">Sobre el grupo ...</a></li>
                    </ul>
                </div>


</div> <!-- borde -->
</div>


<div class="copyright">
Este foro de mensajes funciona gracias al sistema <a href="http://www.phpbb.com/">phpBB</a>
<br/>
Tema visual personalizando por Hugo Ruscitti.
<br/>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	<img src="cron.php-cron_type=tidy_sessions.gif" width="1" height="1" alt="cron" />
</div>

</body>
</html>