<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="es">
<link rel="self" type="application/atom+xml" href="http://losersjuegos.com.ar/foro/feed.php?f=8&amp;t=656" />

<title>LosersJuegos</title>
<subtitle>Desarrollando videojuegos libres</subtitle>
<link href="http://losersjuegos.com.ar/foro/index.php" />
<updated>2009-11-14T12:36:53+00:00</updated>

<author><name><![CDATA[LosersJuegos]]></name></author>
<id>http://losersjuegos.com.ar/foro/feed.php?f=8&amp;t=656</id>
<entry>
<author><name><![CDATA[dario279]]></name></author>
<updated>2009-11-14T12:36:53+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=656&amp;p=3040#p3040</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=656&amp;p=3040#p3040"/>
<title type="html"><![CDATA[Problema a la hora de hacer el space invaders!]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=656&amp;p=3040#p3040"><![CDATA[
Estoy haciendo una version muy basica del space invaders y a la hora de crear una matriz para poner todos los aliens juntos. no soy capaz de pintar mi registro de alien, q tiene la forma, en la matriz grandota q aran q todos se muevan a la vez.<br /><br />Pongo el codigo de la parte q tengo echa.<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>#include &quot;RutinesINVADERS_v1.h&quot;<br />/*En aquesta primera part inicialitzem els registres, ja que tenim guardades les constatns al RutinesINVADERS_v1.h*/<br /><br />typedef struct<br />&#123;<br />   int x;<br />   int y;<br />   int matriu &#91;MidaPers&#93; &#91;MidaPers&#93;;<br />   int actiu;<br />&#125;tipus_alien;<br /><br />typedef struct<br />&#123;<br />   int x;<br />   int y;<br />   int matriu &#91;MidaPers&#93; &#91;MidaPers&#93;;<br />   int actiu;<br />&#125;tipus_cano;<br /><br />typedef struct<br />&#123;<br />   int x;<br />   int y;<br />   int actiu;<br />&#125;tipus_missil;<br /><br />/*Assignem nom a les varibles*/<br /><br />void main&#40;&#41;<br />&#123;<br />   tipus_alien alien;<br />   tipus_cano cano;<br />   tipus_missil missil;<br />   int taula_bloc_aliens &#91;tamany_aliens_alt&#93; &#91;tamany_aliens_ample&#93;;<br />   char tecla, continuar;<br />   int i, j, k, l, dir_alien, x_missil_alien, contador_aliens, xoc_alien_cano, sortir, xbloc, ybloc;<br />   int Pantalla &#91;AlssadaTaulell&#93; &#91;AmpladaTaulell&#93;;<br />   int num, vides, punts;<br />   char jugador&#91;20&#93;;<br />   printf&#40;&quot;Escriu el teu nom\n&quot;&#41;;<br />   gets&#40;jugador&#41;;<br />   CreaTaulell&#40;&#41;;<br /><br />   /*En aquesta part abans de la inicialitzacio del joc donem forma als aliens i al cano*/<br />   for &#40;i=0; i &lt; tamany_aliens_alt; i++&#41;<br />      for &#40;j=0; j &lt; tamany_aliens_ample; j++&#41;<br />         taula_bloc_aliens &#91;i&#93; &#91;j&#93; = 1;<br />   <br />   for &#40;i=0; i&lt;MidaPers; i++&#41;<br />      for &#40;j=0; j&lt;MidaPers; j++&#41;<br />      &#123;<br />         alien.matriu&#91;i&#93;&#91;j&#93; = 4;<br />         alien.matriu&#91;1&#93;&#91;1&#93; = 0;<br />         alien.matriu&#91;2&#93;&#91;1&#93; = 0;<br />      &#125;<br />         <br />   for &#40;i=0; i&lt;MidaPers; i++&#41;<br />      for &#40;j=0; j&lt;MidaPers; j++&#41;<br />      &#123;<br />         cano.matriu&#91;i&#93;&#91;j&#93; = 4;<br />         cano.matriu&#91;0&#93;&#91;0&#93; = 0;<br />         cano.matriu&#91;0&#93;&#91;2&#93; = 0;<br />      &#125;<br />   for &#40;i=0; i &lt; AlssadaTaulell; i++&#41;<br />      for &#40;j=0; j &lt; AmpladaTaulell; j++&#41;<br />         Pantalla&#91;i&#93; &#91;j&#93; = 0;<br /><br />   /*Inicialitzem el joc, posem les posicions dels objectes que hi seran en pantalla i els pintem en aquesta*/<br />   do<br />   &#123;<br />      cano.x = AmpladaTaulell / 2;<br />      cano.y = AlssadaTaulell - 3;<br />      cano.actiu = 1;<br />      xbloc = 0;<br />      ybloc =0;<br />      dir_alien = 1;<br />      PosaPersonatge&#40;cano.matriu,Pantalla,cano.x,cano.y&#41;;<br />      PosaPersonatge2&#40;taula_bloc_aliens, Pantalla, xbloc, ybloc&#41;;<br />      <br />      missil.x = cano.x;<br />      missil.y = cano.y;<br />      missil.actiu = 0;<br />      <br />      vides = 3;<br />      punts = 0;<br />      contador_aliens = 0;<br />      MostraJugador&#40;jugador&#41;;<br />      MostraPunts&#40;punts&#41;;<br />      MostraVides&#40;vides&#41;;<br />      <br />      /*Bucle principal que es repetira sempre que no es cumpleixin unes de les condicions de sortida*/<br />      <br />      do<br />      &#123;<br />         MostraPantalla&#40;Pantalla&#41;;<br />            while &#40;kbhit&#40;&#41;&#41;<br />            &#123;<br />               tecla = getch&#40;&#41;;<br />               &#123;<br />                  if &#40;tecla = -32&#41;<br />                  &#123;<br />                     tecla = getch&#40;&#41;;<br />                     switch &#40;tecla&#41;<br />                     &#123;   <br />                        case KEY_UP:<br />                           if &#40;missil.actiu == 0&#41;<br />                           &#123;<br />                              missil.actiu = 1;<br />                              missil.x = cano.x;<br />                              missil.y = AlssadaTaulell-5;<br />                              PosaTretCano&#40;Pantalla,missil.x,missil.y&#41;;<br />                           &#125;<br />                                 break;<br />                        case KEY_LEFT:<br />                           if &#40;cano.x &gt; 1&#41;<br />                           &#123;<br />                              BorraPersonatge&#40;cano.matriu, Pantalla, cano.x, cano.y&#41;;<br />                              cano.x = cano.x -1;<br />                              PosaPersonatge&#40;cano.matriu,Pantalla,cano.x,cano.y&#41;;<br />                           &#125;<br />                              break;<br />                        case KEY_RIGHT:<br />                           if &#40;cano.x &lt; AmpladaTaulell-4&#41;<br />                           &#123;<br />                              BorraPersonatge&#40;cano.matriu, Pantalla, cano.x, cano.y&#41;;<br />                              cano.x = cano.x + 1;<br />                              PosaPersonatge&#40;cano.matriu,Pantalla,cano.x,cano.y&#41;;<br />                           &#125;<br />                              break;<br />                        default:<br />                        break;<br />                     &#125;<br />                  &#125; <br />                  if &#40;tecla == KEY_ESC&#41;<br />                     sortir = 1;<br />               &#125;<br />            &#125;<br />            if &#40;sortir != 1&#41;<br />            &#123;   <br />               if &#40;&#40;&#40;xbloc == 0&#41; &amp; &#40;dir_alien == -1&#41;&#41; || &#40;&#40;&#40;xbloc + tamany_aliens_ample&#41; == AmpladaTaulell-1&#41;&amp; &#40;dir_alien ==1&#41;&#41;&#41;<br />               &#123;<br />                  BorraPersonatge2&#40;taula_bloc_aliens,Pantalla,xbloc,ybloc&#41;;<br />                  ybloc = ybloc +1;<br />                  dir_alien = dir_alien * &#40;-1&#41;;<br />                  PosaPersonatge2&#40;taula_bloc_aliens, Pantalla, xbloc, ybloc&#41;;<br />                     if &#40;ybloc == AlssadaTaulell -3&#41;<br />                        xoc_alien_cano =1;<br />               &#125;<br />               else <br />               &#123;<br />                  BorraPersonatge2&#40;taula_bloc_aliens,Pantalla,xbloc,ybloc&#41;;<br />                  &#40;xbloc = xbloc + dir_alien&#41;;<br />                  PosaPersonatge2&#40;taula_bloc_aliens, Pantalla, xbloc, ybloc&#41;;<br />               &#125;<br />            &#125;<br />            if &#40;missil.actiu == 1&#41;<br />            &#123;<br />               if &#40;missil.y == 0&#41;<br />               &#123;<br />                  missil.actiu = 0;<br />                  BorraTret&#40;Pantalla, missil.x, missil.y&#41;;<br />               &#125;<br />               else<br />               &#123;<br />                  BorraTret&#40;Pantalla, missil.x, missil.y&#41;;<br />                  missil.y = missil.y -1;<br />                  PosaTretCano&#40;Pantalla, missil.x, missil.y&#41;;<br />               &#125;<br />            &#125;<br />            <br />      &#125;while &#40;&#40;tecla != KEY_ESC&#41; || &#40;&#40;ybloc + tamany_aliens_alt&#41; == AlssadaTaulell -3&#41;&#41;;<br />         &#123;<br />            BorraTret&#40;Pantalla, missil.x, missil.y&#41;;<br />            BorraPersonatge2&#40;taula_bloc_aliens, Pantalla, xbloc, ybloc&#41;;<br />            BorraPersonatge&#40;cano.matriu, Pantalla, cano.x, cano.y&#41;;<br />            printf&#40;&quot;Vols tornar a jugar? y/n&quot;&#41;;<br />            continuar = getch&#40;&#41;;<br />         &#125;<br />   &#125;while &#40;&#40;continuar =='y'&#41; || &#40;continuar =='Y'&#41;&#41;;<br /></code></dd></dl><br /><br /><br />La libreria rutinesInvaders, son constantes. Y la parte de funciones me la he saltado q ocupaba un cachillo.<br /><br />Funciones solo tengo MostrarPers, Borrar, Tret y esas.<br /><br />PD: Tb nose porque cuando reinicio la partida se me vuevle a la primera posicion pero luego se cierra.<br /><br />Mersi!!!<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2038">dario279</a> — Sab Nov 14, 2009 12:36 pm</p><hr />
]]></content>
</entry>
</feed>