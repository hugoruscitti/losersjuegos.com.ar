<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="es">
<link rel="self" type="application/atom+xml" href="http://losersjuegos.com.ar/foro/feed.php?f=9&amp;t=165" />

<title>LosersJuegos</title>
<subtitle>Desarrollando videojuegos libres</subtitle>
<link href="http://losersjuegos.com.ar/foro/index.php" />
<updated>2007-10-24T19:55:04+00:00</updated>

<author><name><![CDATA[LosersJuegos]]></name></author>
<id>http://losersjuegos.com.ar/foro/feed.php?f=9&amp;t=165</id>
<entry>
<author><name><![CDATA[endaramiz]]></name></author>
<updated>2007-10-24T19:55:04+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=165&amp;p=649#p649</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=165&amp;p=649#p649"/>
<title type="html"><![CDATA[Pygame: cual es la mejor manera de hacer una animación?]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=165&amp;p=649#p649"><![CDATA[
Gracias Hugo! Se que lo he escrito con muchos días de retraso pero es que lo leí y se me fue de la cabeza. Aunque sea tarde con el tiempo que te tomas en enseñar, esto es lo mínimo que puedo hacer.<br /><br />Es cierto que en tu código se utilizan mas variables pero creo que de este modo luego se pueden hacer cambios mas fácilmente. Por ejemplo el control del tiempo de demora que solo hace falta cambiar el valor de la variable y del otro modo habría que ir añadiendo imágenes a la lista. Supongo que dependiendo del caso una sera mas útil que la otra.<br /><br />Me alegro de haberte hecho pensar, al fin y al cabo esa es una de las utilidades de los foros. <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><br /><br />Saludos.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=1809">endaramiz</a> — Mié Oct 24, 2007 7:55 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[hugoruscitti]]></name></author>
<updated>2007-09-28T17:30:54+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=165&amp;p=566#p566</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=165&amp;p=566#p566"/>
<title type="html"><![CDATA[Pygame: cual es la mejor manera de hacer una animación?]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=165&amp;p=566#p566"><![CDATA[
Saludos; creo que está muy bien tu implementación, se puede hacer de<br />muchas otras formas, y es ahí donde se pone divertido compartir el código...<br /><br />Te comento algunos cambios que se podrían hacer. Nota que uno generalmente<br />se acostumbra a hacer las cosas de &quot;una forma&quot; y por ello lo que sugiero<br />aquí puede se una mala idea... estas advertido.<br /><br />- Velocidad:<br /><br />Para comenzar, la función &quot;pygame.image.load&quot; puede generar superficies de<br />un formato de color diferente al de la superficie principal (o &quot;screen&quot; en<br />este caso). Eso puede traer un pequeño problema de rendimiento a la hora<br />de ejecutar el juego a mucha velocidad; dado que cuando la función &quot;blit&quot;<br />recibe dos superficies de distintos formatos de color debe realizar una<br />conversión &quot;al vuelo&quot; (sin avisar). Esa &quot;conversión&quot; demora muy poco <br />tiempo, pero se realiza cada vez que haces &quot;blit&quot;, por lo tanto si tienes <br />un juego que imprime muchas veces en pantalla se puede poner bastante lento.<br /><br />La solución es simple, utiliza el método &quot;convert&quot; luego de cargar una<br />imagen con &quot;load&quot;, por ejemplo:<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>imagen1 = pygame.image.load&#40;&quot;imagen1.png&quot;&#41;.convert&#40;&#41;</code></dd></dl><br /><br />o si quieres hacerlo en dos pasos puedes escribir:<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>imagen_original = pygame.image.load&#40;&quot;imagen1.png&quot;&#41;<br />imagen1 = imagen_original.convert&#40;&#41;<br /></code></dd></dl><br /><br />el método &quot;convert&quot; procura convertir la superficie a un formato de color<br />optimizado para imprimir rápidamente. Así, el método &quot;blit&quot; la tiene mas<br />fácil, no necesitará convertir nada antes de imprimir sobre la pantalla<br />u otras superficies. La conversión del formato de color se realiza una<br />sola vez: al momento de invocar al método &quot;convert&quot;.<br /><br />Si la imagen original (.png) tiene &quot;canal alpha&quot; (píxeles transparentes<br />en el archivo original), deberías utilizar el método &quot;convert_alpha&quot; en<br />lugar de &quot;convert&quot;, de otra forma pierdes la transparencia original.<br /><br />- lista de imagenes:<br /><br />Aquí estoy en duda, creo que la lista que utilizas se puede reducir a <br />dos elementos. Pero de esa forma la animación &quot;correrá&quot; a mayor velocidad. <br /><br />La lista del código anterior es:<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>animacion = &#91;imagen1, imagen1, imagen1, imagen2, imagen2, imagen2&#93;</code></dd></dl><br /><br />entonces, ¿que se puede hacer?. Al menos yo tengo como costumbre utilizar<br />variables auxiliares como contador, de esa forma puedo alterar la<br />velocidad de las animaciones y conocer el cuadro de animación actual. Para<br />realizar una animación tal vez habría hecho algo así:<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>animacion = &#91;imagen1, imagen2, imagen3&#93;<br />cuadro = 0<br />max_cuadro = len&#40;animacion&#41; - 1<br /><br />while True:<br />    cuadro += 1<br /><br />    if cuadro &gt; max_cuadro:<br />        cuadro = 0<br />    <br />    screen.blit&#40;animacion&#91;cuadro&#93;, &#40;0, 0&#41;&#41;<br /><br />    # flip y/o restauración del fondo.<br /></code></dd></dl><br /><br />En este caso la variable &quot;cuadro&quot; adquiere valores como 0, 1, 2, 0, 1, 2 ...<br />representando el cuadro de animación que se debe imprimir en pantalla.<br /><br />Si quieres alterar la velocidad de la animación puedes hacer dos cosas:<br /><br />1 - cambiar el argumento del método &quot;tick&quot; (al final del bucle). Ahora indica<br />30, lo que significa que el juego funcionará a 30 cuadros por segundo. Puedes<br />colocar valores mas pequeños para que funcione mas lento o valores mas grandes<br />para lograr mayor rapidez.<br /><br />2 - puedes colocar otra variable adicional, que indique la demora de la<br />animación. Esto es útil si quieres que la animación del personaje sea lenta<br />pero sus movimientos (generalmente un cambio de posición) funcionen muy <br />rápido. La idea es similar a la del código anterior, solo que ahora debes <br />evitar aumentar el valora de la variable &quot;cuadro&quot; algunas veces:<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>animacion = &#91;imagen1, imagen2, imagen3&#93;<br />cuadro = 0<br />max_cuadro = len&#40;animacion&#41; - 1<br />tiempo_demora = 5<br />delay = 0<br /><br />while True:<br /><br />    if delay &lt; 0:<br />        cuadro += 1<br />        delay = tiempo_demora<br />    else:<br />        delay -= 1<br /><br />    if cuadro &gt; max_cuadro:<br />        cuadro = 0<br />    <br />    screen.blit&#40;animacion&#91;cuadro&#93;, &#40;0, 0&#41;&#41;<br /><br />    # flip y/o restauración del fondo.<br /></code></dd></dl><br /><br />Ahora &quot;delay&quot; junto con la variable &quot;tiempo_demora&quot; hacen que la variable <br />&quot;cuadro&quot; avance de 0 a 2 a menor velocidad. Estos son los valores que <br />produce &quot;0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1....&quot; (tal vez me faltó un 0).<br /><br /><br /><br />Ahora bien, creo que no contesté tu pregunta, hacer la cosas como sugiero mas<br />arriba no parecen muy elegantes, uso muchas variables auxiliares y queda poco<br />claro como funciona cada una... suelo hacer cosas mediante contadores todo<br />el tiempo y ahora que lo veo con atención creo que lo hago por costumbre <br />y no por considerarlo &quot;la mejor forma de hacerlo&quot;... me has dejado pensando...<br /><br /><br />Saludos.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=3">hugoruscitti</a> — Vie Sep 28, 2007 5:30 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[endaramiz]]></name></author>
<updated>2007-09-26T16:28:58+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=165&amp;p=561#p561</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=165&amp;p=561#p561"/>
<title type="html"><![CDATA[Pygame: cual es la mejor manera de hacer una animación?]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=165&amp;p=561#p561"><![CDATA[
Hola. He hecho una animación (en pygame) gracias a los consejos de Hugo (gracias!). He utilizado una lista con las imágenes a modo de cola (como indica en la documentación de python <!-- m --><a class="postlink" href="http://pyspanishdoc.sourceforge.net/tut/node7.html">http://pyspanishdoc.sourceforge.net/tut/node7.html</a><!-- m --> ) en la que la primera pasa a la ultima.<br /><dl class="codebox"><dt>Code: </dt><dd><code>import pygame<br />from pygame.locals import *<br /><br />def main&#40;&#41;:<br />   pygame.init&#40;&#41;<br />   screen = pygame.display.set_mode&#40;&#40;800,600&#41;&#41;<br />   imagen1 = pygame.image.load&#40;&quot;imagen1.png&quot;&#41;<br />   imagen2 = pygame.image.load&#40;&quot;imagen2.png&quot;&#41;<br />   animacion = &#91;imagen1, imagen1, imagen1, imagen2, imagen2, imagen2&#93;<br />   imagen_rect = imagen1.get_rect&#40;&#41;<br />   <br />   clock = pygame.time.Clock&#40;&#41;<br />   while True:<br />      screen.fill&#40;&#40;0,0,0&#41;&#41;<br />      <br />      screen.blit&#40;animacion&#91;0&#93;, imagen_rect&#41;<br />      b = animacion.pop&#40;0&#41;<br />      animacion.append&#40;b&#41;<br />      <br /><br />      pygame.display.flip&#40;&#41;<br />      clock.tick&#40;30&#41;<br /><br />if __name__ == '__main__': main&#40;&#41;<br /></code></dd></dl><br /><br />De esta manera funciona como quiero pero me preguntaba si esta es la mejor manera de hacerlo.<br /><br />Saludos.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=1809">endaramiz</a> — Mié Sep 26, 2007 4:28 pm</p><hr />
]]></content>
</entry>
</feed>