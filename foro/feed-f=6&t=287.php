<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="es">
<link rel="self" type="application/atom+xml" href="http://losersjuegos.com.ar/foro/feed.php?f=6&amp;t=287" />

<title>LosersJuegos</title>
<subtitle>Desarrollando videojuegos libres</subtitle>
<link href="http://losersjuegos.com.ar/foro/index.php" />
<updated>2008-04-17T17:07:30+00:00</updated>

<author><name><![CDATA[LosersJuegos]]></name></author>
<id>http://losersjuegos.com.ar/foro/feed.php?f=6&amp;t=287</id>
<entry>
<author><name><![CDATA[Rafiudo]]></name></author>
<updated>2008-04-17T17:07:30+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=287&amp;p=1189#p1189</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=287&amp;p=1189#p1189"/>
<title type="html"><![CDATA[Scroll con imagen de fondo]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=287&amp;p=1189#p1189"><![CDATA[
Buenas, uso el codigo de &quot;automatas&quot; que se encuentra en los ejemplos de esta web con la chinita que se mueve por pantalla, salta, pega etc... lo que quiero ahora es meterle un fondo mayor que el de la ventana y que haga scroll horizontal si el personaje pasa de x=300.<br /><br />El codigo que tengo ahora es este (solo pego los relaccionado a el scroll):<br /><br />//******************************************************************************<br />//Imprime el fondo<br />//******************************************************************************<br />void imprimir_fondo (SDL_Surface *fondo, SDL_Surface *screen, SDL_Rect * dest)<br />{    <br /><br />     SDL_BlitSurface(fondo, NULL, screen, dest);<br />     <br />}<br /><br />//******************************************************************************<br />//Scroll del fondo<br />//******************************************************************************<br />void scroll_fondo (SDL_Rect * dest, struct actor * actor)<br />{   <br />    if (actor-&gt;x &gt; 300) <br />    {<br />         dest-&gt;x--;<br />         actor-&gt;x = 301;  <br />    }<br />    else if (actor-&gt;x &lt; 100) <br />    {<br />         dest-&gt;x++; <br />         actor-&gt;x = 99;  <br />    }<br />}<br /><br />//******************************************************************************<br />//Inicia  fondo<br />//******************************************************************************<br />void inicia_fondo (SDL_Surface *fondo, SDL_Surface *screen, SDL_Rect * dest)<br />{    <br />     dest-&gt;x = 0;<br />     dest-&gt;y = 0;<br />     dest-&gt;w = fondo-&gt;w;<br />     dest-&gt;h = fondo-&gt;h;     <br />}<br /><br /><br /><br />Poniendo esto se me queda pillao en la piscion 300 y solo avanza un pixel el fondo, cuando al dejar de andar incluso tenia q avanzar solo el fondo 1 pixel cada vez... no lo entiendo<br /><br /><br /><br />Las llamadas en el buble principal son :<br /><br /><br /><br />int main (int argc, char *argv[])<br />{<br /> SDL_Surface * screen,* fondo;<br /> struct actor actor;<br /> SDL_Rect rect,dest;<br /><br /> if (iniciar (&amp;screen))<br />  return 1;<br /><br /> if (actor_iniciar (&amp;actor))<br />  return 1;<br /><br /> fondo = IMG_Load(&quot;imagenes/fondo3.jpg&quot;);<br /> if (fondo == NULL)<br /> {<br />  printf(&quot;Error: %s\n&quot;, SDL_GetError ());<br />  return 1;<br /> }<br /> <br />    inicia_fondo (fondo, screen, &amp;dest);<br />    imprimir_fondo (fondo, screen, &amp;dest);<br />    <br /><br />    float startTime = SDL_GetTicks();<br />    float currentTime = SDL_GetTicks();<br />    int FPS = 0;<br />    int FrameCount = 0;<br />    <br /> while (procesar_eventos ())<br /> {    <br />  scroll_fondo (&amp;dest, &amp;actor);<br />  imprimir_fondo (fondo, screen, &amp;dest);<br />  actor_actualizar (&amp;actor);<br />      actor_imprimir (&amp;actor, screen, &amp;rect);<br /><br />  SDL_Flip (screen);<br />  SDL_UpdateRect (screen,0,0,0,0);<br />  <br />        FrameCount++;<br /><br />        currentTime = SDL_GetTicks();<br />        if (startTime - currentTime &gt; 1000) <br />        {<br />           FPS = FrameCount;        <br />           startTime = SDL_GetTicks();<br />           FrameCount = 0;<br />        }<br />    } <br />}<br /><br /><br /><br />Gracias por todo, espero vuestra ayuda <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_wink.gif" alt=";)" title="Wink" /><p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=1910">Rafiudo</a> — Jue Abr 17, 2008 5:07 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[hugoruscitti]]></name></author>
<updated>2008-04-11T21:10:54+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=287&amp;p=1126#p1126</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=287&amp;p=1126#p1126"/>
<title type="html"><![CDATA[Scroll con imagen de fondo]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=287&amp;p=1126#p1126"><![CDATA[
Saludos, te comento que existe un ejemplo sobre scroll con<br />C y SDL en la sección de ejemplos:<br /><br />   <!-- m --><a class="postlink" href="http://www.losersjuegos.com.ar/referencia/ejemplos/ejemplos.php">http://www.losersjuegos.com.ar/referenc ... emplos.php</a><!-- m --><br /><br />El programa de ejemplo se llama &quot;Desplazamiento suave&quot;:<br /><br />   <img src="http://www.losersjuegos.com.ar/referencia/ejemplos/scroll/mini.png" alt="Imagen" /><br /><br />tal vez ese ejemplo te sirva para ver otra forma de implementar<br />un desplazamiento.<br /><br />Igualmente, si continúas con problemas en tu versión del programa<br />sería bueno que subas una versión funcional (o al menos compilable)<br />de lo que tienes hasta ahora, de esa forma puedo observar claramente<br />el efecto de falla y tratar de ayudar. El ejemplo que nos <br />adjuntas no tiene imágenes y le falta gran parte del código... es un<br />poco difícil seguirlo si lleva tanto tiempo ponerlo en funcionamiento. Si me<br />lo haces un poco mas fácil puedo ayudar: ¿que tal un archivo .zip (no .rar)?, <br />una captura de pantalla... <br /><br />Un saludo.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=3">hugoruscitti</a> — Vie Abr 11, 2008 9:10 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Rafiudo]]></name></author>
<updated>2008-04-11T15:05:52+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=287&amp;p=1120#p1120</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=287&amp;p=1120#p1120"/>
<title type="html"><![CDATA[Scroll con imagen de fondo]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=287&amp;p=1120#p1120"><![CDATA[
Hola, estoy haciendo un juego de lucha y quisiera hacer un scroll con una imagen de fondo mas grande que la pantalla con SDL y c<br /><br />El problema es que no me deja hacer el scroll hacia la derecha y solo funciona hacia la izquierda pero dejandro rastro, hice las pruebas para que el fondo se moviera solo sin mover el muñeco pero no hay manera.<br /><br />Dejo el codigo para ver si alguien me puede echar una mano y decirque que es lo que hago mal:<br /><br />Esta son las funciones que uso en un archivo aparte util.c<br /><br />//******************************************************************************<br />//Imprime el fondo<br />//******************************************************************************<br />void imprimir_fondo (SDL_Surface *fondo, SDL_Surface *screen, SDL_Rect * dest)<br />{    <br /><br />     SDL_BlitSurface(fondo, NULL, screen, dest);<br />     <br />}<br /><br />//******************************************************************************<br />//Scroll del fondo<br />//******************************************************************************<br />void scroll_fondo (SDL_Rect * dest)<br />{    <br />     dest-&gt;x--;   <br />}<br /><br />//******************************************************************************<br />//Inicia  fondo<br />//******************************************************************************<br />void inicia_fondo (SDL_Surface *fondo, SDL_Surface *screen, SDL_Rect * dest)<br />{    <br />     dest-&gt;x = 0;<br />     dest-&gt;y = 0;<br />     dest-&gt;w = fondo-&gt;w;<br />     dest-&gt;h = fondo-&gt;h;     <br />}<br /><br /><br />Y estas son las llamadas a las funciones en el programa principal:<br /><br />    inicia_fondo (fondo, screen, &amp;dest);<br />    imprimir_fondo (fondo, screen, &amp;dest);<br />    <br />while (procesar_eventos ())<br />{<br />scroll_fondo (&amp;dest);<br />imprimir_fondo (fondo, screen, &amp;dest);<br />actor_actualizar (&amp;actor);<br />     actor_imprimir (&amp;actor, screen, &amp;rect);<br /><br />SDL_Flip (screen);<br />SDL_UpdateRect (screen,0,0,0,0);<br /><br />SDL_Delay (10);<br />}<br /><br />Si pogo en la funcion actualizar scroll dest-&gt;x++ me funciona pero es cuando sale el scroll hacia la izquierda, y otra cosa que he visto es que si uso estos diferenets modulos no me deja inicializar la imagen de fondo con los parametros x,y con valores negativos :S<br /><br /><br />Muchas gracias de antemano!<br /><br />Un saludo<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=1910">Rafiudo</a> — Vie Abr 11, 2008 3:05 pm</p><hr />
]]></content>
</entry>
</feed>