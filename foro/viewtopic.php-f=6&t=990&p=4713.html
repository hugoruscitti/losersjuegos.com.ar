<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="es" xml:lang="es">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="es" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="copyright" content="2000, 2002, 2005, 2007 phpBB Group" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

<title>LosersJuegos &bull; Ver Tema - Movimiento de sprites</title>

<link rel="alternate" type="application/atom+xml" title="Feed - LosersJuegos" href="feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Nuevos Temas" href="feed-mode=topics.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Foro - Sobre las bibliotecas multimedia" href="feed-f=6.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Tema - Movimiento de sprites" href="feed-f=6&amp;t=990.php" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:

	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Introduzca el número de página al que desea saltar:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.losersjuegos.com.ar';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<script type="text/javascript" src="styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="styles/prosilver/template/forum_fn.js"></script>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.php-id=3&amp;lang=en&amp;sid=4ec7bd6b5b400f7171476bb35f8261c6.css" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />




<link href="styles/prosilver/theme/header.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/barrausuario.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/design.css" rel="stylesheet" type="text/css"/>

<link href="styles/prosilver/theme/src/prettify.css" type="text/css" rel="stylesheet" />
<script src="styles/prosilver/theme/src/prettify.js" type="text/javascript"></script>


</head>


<body onload="prettyPrint()" id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
<div id='borde'>

    <div id="cabecera">

        <a href='index.html'><img id='logo1' alt='' src="styles/prosilver/theme/ima_cabecera/logo_1.png" width="286" height="50" name="logo1" /></a>

        <div id="navi">
            <ul>
                <li><a href="../index.html">Web</a></li>
                <li id='actual'><a href="index.html">Foro</a></li>
            </ul>
        </div>

    </div>


<div class='barra_usuario'>
        <ul>
                <li class='regresar'><a href='../index.html'>Regresar a la web</a></li>
                <li class='buscar'><a href="search.php.html">Buscar</a></li>

                
                <li class='registrar'><a href="ucp.php-mode=register.html">Registrarse</a></li>

                <li class='registrar'><a href="ucp.php-mode=login.html">Identificarse</a>
                </li>
                

        </ul>
</div>




	<a name="start_here"></a>
	<div id="page-body">
		<ul style='font-size: 14px' class="linklist">
                    <li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
                    </ul>
<h2><a href="viewtopic.php-f=6&amp;t=990&amp;start=0.html">Movimiento de sprites</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Tratamos sobre el manejo de APIs frecuentemente utilizadas en el desarrollo de videojuegos, como SDL, pygame o SFML.<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=6&amp;t=990.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="post" id="topic-search" action="search.php-t=990.html">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Buscar este tema…" onclick="if(this.value=='Buscar este tema…')this.value='';" onblur="if(this.value=='')this.value='Buscar este tema…';" />
				<input class="button2" type="submit" value="Buscar" />
				<input type="hidden" value="990" name="t" />
				<input type="hidden" value="msgonly" name="sf" />
			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			15 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p4656" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="#p4656">Movimiento de sprites</a></h3>
			<p class="author"><a href="viewtopic.php-p=4656.html#p4656"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a></strong> &raquo; Vie Dic 31, 2010 3:52 am </p>

			

			<div class="content">Buscando en internet acerca del movimiento de sprites, he sido incapaz de encontrar una forma que realmente me plazca y sobre todo que entienda, acerca del movimiento de los sprites, basicamente tengo esta imagen<br /><br /><img src="http://lh4.ggpht.com/_OESoGgtnthw/TA6jC-2-bJI/AAAAAAAAAHY/NAa56Di17Wc/battleship_thumb%5B2%5D.png?imgmax=800" alt="Imagen" /><br /><br />y lo que estoy intentando hacer es moverla, yo se que lo que deberia hacer es intentar dividir a la imagen en funcion de la cantidad de filas y columnas que tiene, pero eso a donde me conviene cargarlo, en una matriz o array como estube viendo que algunos hacen, o simplemente ir controlandolo mediante una funcion, pero eso me trae otro problema que es que, no todas las imagenes tienen el mismo tamaño, por lo que estoy bastante confundido,<br /><br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>#ifdef __cplusplus<br />#include &lt;cstdlib&gt;<br />#else<br />#include &lt;stdlib.h&gt;<br />#endif<br />#ifdef __APPLE__<br />#include &lt;SDL/SDL.h&gt;<br />#else<br />#include &lt;SDL.h&gt;<br />#endif<br />#include&lt;SDL_image.h&gt;<br /><br />#define anchoSprite 82;<br />#define alturaSprite 76;<br /><br />#include &lt;stdio.h&gt;<br /><br />class Frame<br />{<br /><br />public:<br />&nbsp; &nbsp; SDL_Surface* img;<br /><br />&nbsp; &nbsp; void cargaImagen(char* archivo)<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; SDL_Surface* temporal = NULL;<br />&nbsp; &nbsp; &nbsp; &nbsp; img = NULL;<br />&nbsp; &nbsp; &nbsp; &nbsp; if(temporal == NULL)<br />&nbsp; &nbsp; &nbsp; &nbsp; {<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;temporal = IMG_Load(archivo);<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;img = SDL_DisplayFormat(temporal);<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SDL_FreeSurface(temporal);<br />&nbsp; &nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; void eliminarImagen()<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; SDL_FreeSurface(img);<br />&nbsp; &nbsp; }<br />};<br /><br />class Personaje<br />{<br />private:<br />&nbsp; &nbsp; int x;<br />&nbsp; &nbsp; int y;<br />&nbsp; &nbsp; int altura;<br />&nbsp; &nbsp; int ancho;<br />&nbsp; &nbsp; Frame miFrame;<br /><br />&nbsp; &nbsp; public:<br />&nbsp; &nbsp; Personaje(int x,int y,char* archivo)<br />&nbsp; &nbsp; {<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; miFrame.cargaImagen(archivo);<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; setX(x);<br />&nbsp; &nbsp; &nbsp; &nbsp; setY(y);<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp;int getAltura()<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp;return miFrame.img-&gt;h;<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp;int getAncho()<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp;return miFrame.img-&gt;w;<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; int getY()<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp;return y;<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; void setY(int y)<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp;this-&gt;y = y;<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; int getX()<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp;return x;<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; void setX(int x)<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp;this-&gt;x = x;<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; void borrarFrame(){miFrame.eliminarImagen();}<br /><br />&nbsp; &nbsp; void dibujarImagen(SDL_Surface* superficieDestino,int x,int y)//con sy y sx, como variables del sprite de origen<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp;SDL_Rect rectanguloRecortado;<br />&nbsp; &nbsp; &nbsp;SDL_Rect rectanguloDestino;<br /><br />&nbsp; &nbsp; &nbsp;rectanguloRecortado.x = x;<br />&nbsp; &nbsp; &nbsp;rectanguloRecortado.y = y;<br />&nbsp; &nbsp; &nbsp;rectanguloRecortado.h = y+alturaSprite;<br />&nbsp; &nbsp; &nbsp;rectanguloRecortado.w = anchoSprite;<br /><br />&nbsp; &nbsp; &nbsp;rectanguloDestino.x = getX();<br />&nbsp; &nbsp; &nbsp;rectanguloDestino.y = getY();<br /><br />&nbsp; &nbsp; &nbsp;SDL_BlitSurface(miFrame.img, &amp;rectanguloRecortado, superficieDestino, &amp;rectanguloDestino);<br />&nbsp; &nbsp; }<br />};<br /><br />void limpieza(SDL_Surface* superficieLimpiar)<br />{<br />&nbsp; &nbsp; SDL_FreeSurface(superficieLimpiar);<br />&nbsp; &nbsp; SDL_Quit();<br />}<br /><br />SDL_Surface* inicializaSdl(SDL_Surface* Surf_Display)<br />{<br />//INICIO TODO, SI ESTA MAL DEVUELVE ERROR<br />&nbsp; &nbsp; if(SDL_Init(SDL_INIT_EVERYTHING) &lt; 0)<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; return NULL;<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; //ACA ES DONDE CREO LA PANTALLA Y SE LA ASIGNO A SDL_DISPLAY<br />&nbsp; &nbsp; if((Surf_Display = SDL_SetVideoMode(1000,480, 32, SDL_HWSURFACE | SDL_DOUBLEBUF)) == NULL)<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp; return NULL;<br />&nbsp; &nbsp; }<br />&nbsp; &nbsp; return Surf_Display;<br />}<br /><br />SDL_Surface* borrarPantalla(SDL_Surface* pantallaModificada, Personaje miPersonaje)<br />{<br /> SDL_Rect rectangulo;<br /> rectangulo.x = miPersonaje.getX();<br /> rectangulo.y = miPersonaje.getY();<br /> rectangulo.h = miPersonaje.getAltura();<br /> rectangulo.w = miPersonaje.getAncho();<br /> SDL_FillRect(pantallaModificada,&amp;rectangulo,SDL_MapRGB(pantallaModificada-&gt;format,0,0,0));<br /> return pantallaModificada;<br />}<br /><br />int gameLoop()<br />{<br /> bool ejecuta = true;<br /> SDL_Surface* pantalla;<br /> SDL_Event evento;<br /> pantalla = NULL;<br /> SDL_Surface* imagen;<br /> SDL_Rect rectangulo;<br /> Uint8 *key;<br /><br /> if((pantalla=inicializaSdl(pantalla)) == NULL)<br /> {<br />&nbsp; return -1;<br /> }<br /><br /> Personaje miPersonaje(50,50,&quot;nave.png&quot;);<br /><br /> while(ejecuta)<br /> {<br />&nbsp; miPersonaje.dibujarImagen(pantalla,82,0);<br />&nbsp; SDL_PumpEvents();<br />&nbsp; key = SDL_GetKeyState(NULL);<br />&nbsp; if(key&#91;SDLK_UP&#93;)<br />&nbsp; {<br />&nbsp; &nbsp;int aRecortar = alturaSprite;<br />&nbsp; &nbsp;pantalla = borrarPantalla(pantalla,miPersonaje);<br />&nbsp; &nbsp;miPersonaje.setY(miPersonaje.getY()-1);<br />&nbsp; &nbsp;miPersonaje.dibujarImagen(pantalla,82,aRecortar);<br />&nbsp; }<br />&nbsp; if(key&#91;SDLK_DOWN&#93;)<br />&nbsp; {<br />&nbsp; &nbsp;pantalla = borrarPantalla(pantalla,miPersonaje);<br />&nbsp; &nbsp;miPersonaje.setY(miPersonaje.getY()+1);<br />&nbsp; &nbsp;miPersonaje.dibujarImagen(pantalla,82,0);<br />&nbsp; }<br />&nbsp; if(key&#91;SDLK_RIGHT&#93;)<br />&nbsp; {<br />&nbsp; &nbsp;int aRecortar = 82 + anchoSprite;<br />&nbsp; &nbsp;pantalla = borrarPantalla(pantalla,miPersonaje);<br />&nbsp; &nbsp;miPersonaje.setX(miPersonaje.getX()+1);<br /><br />&nbsp; &nbsp;miPersonaje.dibujarImagen(pantalla,aRecortar,0);<br />&nbsp; }<br />&nbsp; if(key&#91;SDLK_LEFT&#93;)<br />&nbsp; {<br />&nbsp; &nbsp;int aRecortar = 82 - anchoSprite;<br />&nbsp; &nbsp;pantalla = borrarPantalla(pantalla,miPersonaje);<br />&nbsp; &nbsp;miPersonaje.setX(miPersonaje.getX()-1);<br />&nbsp; &nbsp;miPersonaje.dibujarImagen(pantalla,aRecortar,0);<br />&nbsp; }<br />&nbsp; SDL_Flip(pantalla);<br /> }<br /> miPersonaje.borrarFrame();<br /> limpieza(pantalla);<br /> return 0;<br />}<br /><br />int main ( int argc, char** argv )<br />{<br />&nbsp; &nbsp; return gameLoop();<br />}</code></dd></dl><br /><br />este es el codigo de mi programa, y que minimamente me permite poder moverme entre los sprites de la primer fila, asi que si alguno desea aplicarle algun cambio, sientase libre de hacerlo, realmente esta es la parte que mas me complica de todo esto junto con todo lo que es el tiempo de ejecucion y demas cosas</div>

			

		</div>

		
			<dl class="postprofile" id="profile4656">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 32</dd><dd><strong>Registrado:</strong> Lun Dic 28, 2009 2:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4657" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4657">Re: Movimiento de sprites</a></h3>
			<p class="author"><a href="viewtopic.php-p=4657.html#p4657"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a></strong> &raquo; Vie Dic 31, 2010 9:16 am </p>

			

			<div class="content">Si esa es la forma en la que se acostumbra trabajar con sprites que tienen varios frames.<br />Como dices el problema es que la imagen no es de tamaño uniforme lo cual implica que tienes que declarar el tamaño y posición de cada frame.<br />como es mejor trabajarlo, bueno estas usando C++, hay que aprovecharlo usando encapsulación y clases especializadas, es la forma en la que yo lo acostumbro.<br />La clase que maneja los sprites debería ser la encargada de controlar la animación, y esta estará embebida en la clase personaje.<br />la clase sprite podría ser así:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>class sprite<br />{<br />&nbsp; &nbsp; &nbsp; frame<br />&nbsp; &nbsp; &nbsp; ancho_sprite<br />&nbsp; &nbsp; &nbsp; alto_sprite<br />&nbsp; &nbsp; &nbsp; columnas_del_frame<br />&nbsp; &nbsp; &nbsp; filas_del_frame<br />&nbsp; &nbsp; &nbsp; sprite_actual<br />&nbsp; &nbsp; &nbsp; dibuja_sprite(superficie_destino)<br />&nbsp; &nbsp; &nbsp; establece_sprite(numero_del_sprite)<br />&nbsp; &nbsp; &nbsp; carga_frame(archivo)<br />}<br /></code></dd></dl><br />es una idea sin meterse en declaraciones formales de c y sdl, como veras es fácil, quizás requiere de algunas funciones mas para la gestión del frame, pero tiene la ventaja que no usa memoria extra para almacenar un sprite, si no que la función dibujar copia el frame establecido a la superficie final que se muestra.<br />si el tamaño de los sprites fuera fijo por ejemplo 64*64 y tendría una matriz de 3*3 sprite sería tan sencillo calcular que parte copiar como sigue:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>posicion_x=ancho_sprite*columnas_del_frame<br />posicion_y=alto_sprite*filas_del_frame<br /></code></dd></dl><br />esas posiciones las pasas como parámetro a la función blit_surface en el argumento del rectángulo a copiar y listo.</div>

			<div id="sig4657" class="signature">El conocimiento de unos es conocimiento de todos.</div>

		</div>

		
			<dl class="postprofile" id="profile4657">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html"><img src="download/2124-avatar=2124_1283282608.jpg" width="70" height="53" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 249</dd><dd><strong>Registrado:</strong> Mar Jul 14, 2009 4:13 am</dd><dd><strong>Ubicación:</strong> mexico</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4665" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4665">Re: Movimiento de sprites</a></h3>
			<p class="author"><a href="viewtopic.php-p=4665.html#p4665"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a></strong> &raquo; Dom Ene 02, 2011 12:12 am </p>

			

			<div class="content">Cuando te referis a cargar todo por separado me estas diciendo de cargarlo en un array??<br /><br />mi idea era la de en la clase frame que tengo, generar una matriz de  3*3 de tipo SDL_Surface sobre el cual voy a ir cargando pedazito por pedazito del sprite, cuando tenga que mover el sprite era simplemente moverme un espacio dentro de esa matriz y luego cargar ese pedazo</div>

			

		</div>

		
			<dl class="postprofile" id="profile4665">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 32</dd><dd><strong>Registrado:</strong> Lun Dic 28, 2009 2:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4666" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4666">Re: Movimiento de sprites</a></h3>
			<p class="author"><a href="viewtopic.php-p=4666.html#p4666"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Dom Ene 02, 2011 1:28 am </p>

			

			<div class="content">lo normal en este caso es usar el clip rect a la hora de hacer un blit.<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>//dentro de la clase que tengas donde manejes la imagen ( Animacion, Sprite, Nave, etc)<br /><br />void CambiarFrame(int frame)<br />{<br />&nbsp; int x = frame % FRAMES_ANCHO;<br />&nbsp; int y = frame / FRAMES_ANCHO;<br />&nbsp; <br />&nbsp; rect_frame.x = ANCHO_FRAME * x;<br />&nbsp; rect_frame.y = ALTO_FRAME * y;<br />&nbsp; rect_frame.width = ANCHO_FRAME;<br />&nbsp; rect_frame.height = ALTO_FRAME;<br />}<br /><br />void DibujarNave()<br />{<br />&nbsp; // Esto no recuerdo si era así exactamente, pero lo que quiero decir es:<br />&nbsp; //dibuja esto en la pantalla screen en la posición pos_nave y con el clip_rect rect_frame<br />&nbsp; SDL_BlitSurface(screen, pos_nave, rect_frame);<br />}<br /><br />...<br /></code></dd></dl><br /><br />El tema es que no hace falta dividir la imagen, simplemente cambiar el rectángulo de corte. Y en cuanto a lo de que no son del mismo tamaño, siempre suelen ser del mismo tamaño cada frame, o no te referías a eso?</div>

			

		</div>

		
			<dl class="postprofile" id="profile4666">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4667" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4667">Re: Movimiento de sprites</a></h3>
			<p class="author"><a href="viewtopic.php-p=4667.html#p4667"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a></strong> &raquo; Dom Ene 02, 2011 2:09 am </p>

			

			<div class="content">si, en un juego quieres usar la menor memoria posible y los menores pasos, por eso no es bueno crear un array de imágenes, el problema que tienes es que esta imagen no es estántar, todos las imágenes que yo he visto de ese tipo tienen una separación igual que permite usar bien el clip rect, mi consejo es que busque otras imágenes.</div>

			<div id="sig4667" class="signature">El conocimiento de unos es conocimiento de todos.</div>

		</div>

		
			<dl class="postprofile" id="profile4667">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html"><img src="download/2124-avatar=2124_1283282608.jpg" width="70" height="53" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 249</dd><dd><strong>Registrado:</strong> Mar Jul 14, 2009 4:13 am</dd><dd><strong>Ubicación:</strong> mexico</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4668" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4668">Re: Movimiento de sprites</a></h3>
			<p class="author"><a href="viewtopic.php-p=4668.html#p4668"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a></strong> &raquo; Dom Ene 02, 2011 7:04 am </p>

			

			<div class="content">Entiendo sobre la parte de ir recortando el frame en pedazitos que son los que voy cargando en la pantalla, lo que no entiendo es en el caso de la navecita que tengo, cual es la mejor tecnica para hacer el recorte ya que tengo frames de diferentes tamaños y tampoco entiendo como hacer para relacionar el evento que ocurre, sea que se haya apretado la tecla para arriba, abajo o al costado y la carga del frame se me habia ocurrido que dependiendo de la tecla que se toco se pase un determinado valor a alguna funcion y desde ahi realizo la carga del frame, pero todavia son ideas que voy teniendo</div>

			

		</div>

		
			<dl class="postprofile" id="profile4668">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 32</dd><dd><strong>Registrado:</strong> Lun Dic 28, 2009 2:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4669" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4669">Re: Movimiento de sprites</a></h3>
			<p class="author"><a href="viewtopic.php-p=4669.html#p4669"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a></strong> &raquo; Dom Ene 02, 2011 7:30 am </p>

			

			<div class="content">pues podrías hacer un array de SDL_Rect que contenga los cuadrados a recortar y cuando quieras cambiar de frame le pasas el area que corresponde al indice del frame.<br />Para ir cambiando de frame pues efectivamente tiene que ser cuando cambia de dirección, osea cuando dobla o cuando avanza, parte de procesar ese evento va a ser cambiar al frame que quieres que aparezca en esa situación, podrías usar poolling cuando detectes que la tecla se pulso activas tal frame y cuando de desaprete pones el frame del estado estático</div>

			<div id="sig4669" class="signature">El conocimiento de unos es conocimiento de todos.</div>

		</div>

		
			<dl class="postprofile" id="profile4669">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html"><img src="download/2124-avatar=2124_1283282608.jpg" width="70" height="53" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 249</dd><dd><strong>Registrado:</strong> Mar Jul 14, 2009 4:13 am</dd><dd><strong>Ubicación:</strong> mexico</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4678" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4678">Re: Movimiento de sprites</a></h3>
			<p class="author"><a href="viewtopic.php-p=4678.html#p4678"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a></strong> &raquo; Lun Ene 03, 2011 3:25 am </p>

			

			<div class="content"><img src="http://usuarios.multimania.es/gadius/recursosxp/charas/chara_linkcaballo.png" alt="Imagen" /><br /><br />acabo de conseguir esta imagen, lo que me esta complicando es la forma en la que puedo determinar la posicion X e Y sobre las que comenzar a dibujar el sprite, en este caso son todos mas o menos del mismo tamaño</div>

			

		</div>

		
			<dl class="postprofile" id="profile4678">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 32</dd><dd><strong>Registrado:</strong> Lun Dic 28, 2009 2:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4683" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4683">Re: Movimiento de sprites</a></h3>
			<p class="author"><a href="viewtopic.php-p=4683.html#p4683"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a></strong> &raquo; Lun Ene 03, 2011 4:50 pm </p>

			

			<div class="content">A que te refieres con la posición con la que vas a dibujar?, supongo que ya leíste como se hace para recortar las áreas del frame que quieres</div>

			<div id="sig4683" class="signature">El conocimiento de unos es conocimiento de todos.</div>

		</div>

		
			<dl class="postprofile" id="profile4683">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html"><img src="download/2124-avatar=2124_1283282608.jpg" width="70" height="53" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2124.html" style="color: #00AA00;" class="username-coloured">carlostex</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 249</dd><dd><strong>Registrado:</strong> Mar Jul 14, 2009 4:13 am</dd><dd><strong>Ubicación:</strong> mexico</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4684" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4684">Re: Movimiento de sprites</a></h3>
			<p class="author"><a href="viewtopic.php-p=4684.html#p4684"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a></strong> &raquo; Lun Ene 03, 2011 7:19 pm </p>

			

			<div class="content">Obviamente que si, lo que quiero decir es que, yo se que por ejemplo tengo que definir el rectangulo sobre el cual voy a recortar, eso tiene una posicion X y una posicion Y, el tema es como defino esa posicion sobre la cual voy a comenzar a recortar para luego colocar sobre la pantalla, el calculo que tengo que hacer, o sea vos ya me diste una idea<br /><br /><blockquote class="uncited"><div>posicion_x=ancho_sprite*columnas_del_frame<br />posicion_y=alto_sprite*filas_del_frame</div></blockquote><br /><br />pero esto es asi nomas?? o necesito algo mas???, eso es lo que no entiendo</div>

			

		</div>

		
			<dl class="postprofile" id="profile4684">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 32</dd><dd><strong>Registrado:</strong> Lun Dic 28, 2009 2:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4685" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4685">Re: Movimiento de sprites</a></h3>
			<p class="author"><a href="viewtopic.php-p=4685.html#p4685"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Lun Ene 03, 2011 7:50 pm </p>

			

			<div class="content">si, con eso te valdría<br />Mirate la función que te puse arriba, que te pasa de un frame que le pidas a la posición que necesitas</div>

			

		</div>

		
			<dl class="postprofile" id="profile4685">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4686" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4686">Re: Movimiento de sprites</a></h3>
			<p class="author"><a href="viewtopic.php-p=4686.html#p4686"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a></strong> &raquo; Lun Ene 03, 2011 8:14 pm </p>

			

			<div class="content">con el frame que le paso a la funcion te referis a un numero para el frame, es decir cada uno de los frames tiene un numero de 1 a 16 en este caso?</div>

			

		</div>

		
			<dl class="postprofile" id="profile4686">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 32</dd><dd><strong>Registrado:</strong> Lun Dic 28, 2009 2:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4687" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4687">Re: Movimiento de sprites</a></h3>
			<p class="author"><a href="viewtopic.php-p=4687.html#p4687"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Lun Ene 03, 2011 8:32 pm </p>

			

			<div class="content">si, pero acuerdate que como casi todo en programación, empieza en 0</div>

			

		</div>

		
			<dl class="postprofile" id="profile4687">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4711" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4711">Re: Movimiento de sprites</a></h3>
			<p class="author"><a href="viewtopic.php-p=4711.html#p4711"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a></strong> &raquo; Jue Ene 06, 2011 5:35 am </p>

			

			<div class="content">Finalmente pude resolver el problema, pero tengo una duda acerca de la solucion que elabore, ya que me parece que no es de lo mas optima<br /><br />Esta es la funcion que arme para determinar el numero de frame siguiente en base al frame actual, para poder armar la secuencia de frames que van a hacer que el personaje se mueva, lo que quiero saber es si se puede elaborar algo mas simple, les dejo la funcion:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>int nuevoFrame(int accion,int numFrame)<br /> {<br />&nbsp; int val = numFrame;<br /><br />&nbsp; switch(accion)<br />&nbsp; {<br />&nbsp; &nbsp;case 1:<br /><br />&nbsp; &nbsp; switch(getNfil())//ARRIBA<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp;case 0:<br />&nbsp; &nbsp; &nbsp; setNcol(2);<br />&nbsp; &nbsp; &nbsp; setNfil(3);<br />&nbsp; &nbsp; &nbsp; val = 14;<br />&nbsp; &nbsp; &nbsp; break;<br /><br />&nbsp; &nbsp; &nbsp;case 1:<br />&nbsp; &nbsp; &nbsp;case 2:<br />&nbsp; &nbsp; &nbsp; setNcol(2);<br />&nbsp; &nbsp; &nbsp; setNfil(3);<br />&nbsp; &nbsp; &nbsp; val = 14;<br />&nbsp; &nbsp; &nbsp; break;<br /><br />&nbsp; &nbsp; &nbsp;case 3:<br /><br />&nbsp; &nbsp; &nbsp; if(getNcol()&lt;=2)<br />&nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp;setNcol(getNcol()+1);<br />&nbsp; &nbsp; &nbsp; &nbsp;val = numFrame+1;<br />&nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; else<br />&nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp;setNcol(0);<br />&nbsp; &nbsp; &nbsp; &nbsp;val = 12;<br />&nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; break;<br />&nbsp; &nbsp;case 2:<br /><br />&nbsp; &nbsp; switch(getNfil())//ABAJO<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp;case 0:<br /><br />&nbsp; &nbsp; &nbsp; if(getNcol()&lt;=2)<br />&nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp;setNcol(getNcol()+1);<br />&nbsp; &nbsp; &nbsp; &nbsp;val = numFrame+1;<br />&nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; else<br />&nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp;setNcol(0);<br />&nbsp; &nbsp; &nbsp; &nbsp;val = 0;<br />&nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp;case 1:<br />&nbsp; &nbsp; &nbsp;case 2:<br />&nbsp; &nbsp; &nbsp; setNcol(2);<br />&nbsp; &nbsp; &nbsp; setNfil(0);<br />&nbsp; &nbsp; &nbsp; val = 2;<br />&nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp;case 3:<br />&nbsp; &nbsp; &nbsp; setNcol(2);<br />&nbsp; &nbsp; &nbsp; setNfil(0);<br />&nbsp; &nbsp; &nbsp; val = 2;<br />&nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; break;<br />&nbsp; &nbsp;case 3:<br /><br />&nbsp; &nbsp; switch(getNfil())//DERECHA<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp;case 0:<br />&nbsp; &nbsp; &nbsp;case 1:<br />&nbsp; &nbsp; &nbsp;case 3:<br />&nbsp; &nbsp; &nbsp; setNcol(2);<br />&nbsp; &nbsp; &nbsp; setNfil(2);<br />&nbsp; &nbsp; &nbsp; val = 10;<br />&nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp;case 2:<br /><br />&nbsp; &nbsp; &nbsp; if(getNcol()&lt;=2)<br />&nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp;setNcol(getNcol()+1);<br />&nbsp; &nbsp; &nbsp; &nbsp;val = numFrame+1;<br />&nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; else<br />&nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp;setNcol(0);<br />&nbsp; &nbsp; &nbsp; &nbsp;val = 8;<br />&nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; break;<br />&nbsp; &nbsp;case 4:<br /><br />&nbsp; &nbsp; switch(getNfil())//IZQUIERDA<br />&nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp;case 0:<br />&nbsp; &nbsp; &nbsp;case 3:<br />&nbsp; &nbsp; &nbsp;case 2:<br />&nbsp; &nbsp; &nbsp; setNcol(1);<br />&nbsp; &nbsp; &nbsp; setNfil(1);<br />&nbsp; &nbsp; &nbsp; val = 4;<br />&nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp;case 1:<br /><br />&nbsp; &nbsp; &nbsp; if(getNcol()&lt;=2)<br />&nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp;setNcol(getNcol()+1);<br />&nbsp; &nbsp; &nbsp; &nbsp;val = numFrame+1;<br />&nbsp; &nbsp; &nbsp; }<br />&nbsp; &nbsp; &nbsp; else<br />&nbsp; &nbsp; &nbsp; {<br />&nbsp; &nbsp; &nbsp; &nbsp;setNcol(0);<br />&nbsp; &nbsp; &nbsp; &nbsp;val = 4;<br />&nbsp; &nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; }<br /><br />&nbsp; &nbsp; break;<br />&nbsp; }<br /><br />&nbsp; return val;<br /> }<br /></code></dd></dl><br /><br />Basicamente la idea es que con el numero de frame actual y el movimiento que se realiza pueda determinar cual es el siguiente frame que se va a tener que cargar, me gustaria saber que les parece y si se puede cambiar algo</div>

			

		</div>

		
			<dl class="postprofile" id="profile4711">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2172.html">pablo9891</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 32</dd><dd><strong>Registrado:</strong> Lun Dic 28, 2009 2:48 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p4713" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p4713">Re: Movimiento de sprites</a></h3>
			<p class="author"><a href="viewtopic.php-p=4713.html#p4713"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Jue Ene 06, 2011 12:47 pm </p>

			

			<div class="content">creo que te has complicado demasiado.<br /><br />Lo mejor es dividir el tema, entre una función que cambie al siguiente frame dentro del mismo loop y otra funcion que cambie el tipo de acción a realizar:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code><br />// Esto se lo podrías pasar por parametro a la hora de construir el sprite,<br />// para poder utilizar cualquier valor en diferentes sprites<br />int const NUM_FRAMES_ANCHO = 4;<br />int const NUM_FRAMES_ALTO = 4;<br />int const ANCHO_FRAME = X; // Aquí pones el ancho de cada frame<br />int const ALTO_FRAME = Y; // Aquí pones el alto de cada frame<br /><br />enum Acciones<br />{<br />&nbsp; &nbsp;Accion_Abajo,<br />&nbsp; &nbsp;Accion_Izquierda,<br />&nbsp; &nbsp;Accion_Derecha,<br />&nbsp; &nbsp;Accion_Arriba<br />};<br /><br />int cambiarAccion(int accion)<br />{<br />&nbsp; &nbsp;assert(accion &lt; NUM_FRAMES_ALTO);<br />&nbsp; &nbsp;clip_rect.x = 0; // Nos ponemos en el primer frame del loop<br />&nbsp; &nbsp;clip_rect.y = accion * ALTO_FRAME;<br />}<br /><br />int siguienteFrame(int numFrame)<br />{<br />&nbsp; &nbsp;int fila_actual = numFrame / NUM_FRAMES_ANCHO;<br />&nbsp; &nbsp;int columna_actual = numFrame % NUM_FRAMES_ANCHO;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;int nueva_columna = columna_actual + 1;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;// Si nos hemos pasado, volvemos a la primera columna, para hacer un loop<br />&nbsp; &nbsp;if (nueva_columna &gt;= NUM_FRAMES_ANCHO)<br />&nbsp; &nbsp;&nbsp; &nbsp;nueva_columna = 0;<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;clip_rect.x = nueva_columna * ANCHO_FRAME;<br />&nbsp; &nbsp;//En teoría esto no hace falta, ya que no hemos cambiado de fila<br />&nbsp; &nbsp;// por lo que el valor que tuviera almacenado debería ser válido<br />&nbsp; &nbsp;clip_rect.y = fila_actual * ALTO_FRAME;<br />}<br /><br /><br />/* El tema ahora seria llamar cada vez que quieras <br />pasar al siguiente frame (una vez cada segundo o lo que sea)<br />llamas a siguienteFrame. Otra cosa que te recomendaría es que<br />guardaras la columna o el frame actual dentro de la clase, para<br />no tener que pasarselo cada vez a siguienteFrame.<br /><br />Y cuando quieras cambiar de accion: */<br /><br />if (se ha pulsado tecla derecha)<br />&nbsp; &nbsp;Caballero.cambiarAccion(Accion_Derecha);<br />elif (se ha pulsado tecla izquierda)<br />&nbsp; &nbsp;Caballero.cambiarAccion(Accion_Izquierda);<br /></code></dd></dl></div>

			

		</div>

		
			<dl class="postprofile" id="profile4713">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="viewtopic.php-f=6&amp;t=990&amp;start=0.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		
		<label>Mostrar mensajes previos: <select name="st" id="st"><option value="0" selected="selected">Todos los mensajes</option><option value="1">1 día</option><option value="7">7 días</option><option value="14">2 semanas</option><option value="30">1 mes</option><option value="90">3 meses</option><option value="180">6 meses</option><option value="365">1 año</option></select></label>
		<label>Ordenar por <select name="sk" id="sk"><option value="a">Autor</option><option value="t" selected="selected">Fecha publicación</option><option value="s">Asunto</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascendente</option><option value="d">Descendente</option></select> <input type="submit" name="sort" value="Ir" class="button2" /></label>
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=6&amp;t=990.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="pagination">
			15 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="viewforum.php-f=6.html" class="left-box left" accesskey="r">Volver a Sobre las bibliotecas multimedia</a></p>

	<form method="post" id="jumpbox" action="viewforum.php.html" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Saltar a:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Seleccione un Foro</option>
			<option value="-1">------------------</option>
				<option value="15">Proyecto Losersjuegos</option>
			
				<option value="1">&nbsp; &nbsp;Planificación y eventos</option>
			
				<option value="14">&nbsp; &nbsp;Asadetris</option>
			
				<option value="22">Pilas Engine</option>
			
				<option value="23">&nbsp; &nbsp;Anuncios de los desarrolladores</option>
			
				<option value="24">&nbsp; &nbsp;Consultas, problemas o bugs.</option>
			
				<option value="25">&nbsp; &nbsp;Proyectos usando pilas</option>
			
				<option value="26">&nbsp; &nbsp;Sugerencias e ideas</option>
			
				<option value="28">&nbsp; &nbsp;General</option>
			
				<option value="16">Sugerencias, proyectos e ideas</option>
			
				<option value="2">&nbsp; &nbsp;Artículos, traducciones y documentación</option>
			
				<option value="3">&nbsp; &nbsp;Ejemplos</option>
			
				<option value="4">&nbsp; &nbsp;Videojuegos</option>
			
				<option value="12">&nbsp; &nbsp;Propuestas de desarrollo y concursos</option>
			
				<option value="13">&nbsp; &nbsp;Inspiración y otras ideas interesantes</option>
			
				<option value="5">&nbsp; &nbsp;Otros</option>
			
				<option value="17">Consultas</option>
			
				<option value="6" selected="selected">&nbsp; &nbsp;Sobre las bibliotecas multimedia</option>
			
				<option value="7">&nbsp; &nbsp;Instalación de bibliotecas y herramientas</option>
			
				<option value="8">&nbsp; &nbsp;Sobre lenguajes de programación</option>
			
				<option value="9">&nbsp; &nbsp;General</option>
			
				<option value="20">&nbsp; &nbsp;3D</option>
			
				<option value="29">&nbsp; &nbsp;HTML5 y Javascript</option>
			
				<option value="30">&nbsp; &nbsp;Qt y pyqt</option>
			
				<option value="18">Otros</option>
			
				<option value="10">&nbsp; &nbsp;Fuera de tópico</option>
			
				<option value="11">&nbsp; &nbsp;Links interesantes</option>
			
			</select>
			<input type="submit" value="Ir" class="button2" />
		</fieldset>
	</form>


	<h3>¿Quién está conectado?</h3>
	<p>Usuarios navegando por este Foro: No hay usuarios registrados visitando el Foro y 1 invitado</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
				
			<li class="rightside"><a href="memberlist.php-mode=leaders.html">El Equipo</a> &bull; <a href="ucp.php-mode=delete_cookies.html">Borrar todas las cookies del Sitio</a> &bull; Todos los horarios son UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>



<div id="pie">

    <ul>
            <li class="contactenos"><a href="../comunidad/contactenos.html">Contáctenos</a></li>
                
                <li class="cc"><a href="http://creativecommons.org/licenses/by-sa/2.5/deed.es">Licencia de uso para el sitio</a></li>

                    <li class="foro"><a href="index.html">Foro de mensajes</a></li>

                        <li class="comunidad"><a href="../comunidad.html">Sobre el grupo ...</a></li>
                    </ul>
                </div>


</div> <!-- borde -->
</div>


<div class="copyright">
Este foro de mensajes funciona gracias al sistema <a href="http://www.phpbb.com/">phpBB</a>
<br/>
Tema visual personalizando por Hugo Ruscitti.
<br/>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
</div>

</body>
</html>