<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="es" xml:lang="es">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="es" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="copyright" content="2000, 2002, 2005, 2007 phpBB Group" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

<title>LosersJuegos &bull; Ver Tema - Rotar imágenes con pygame</title>

<link rel="alternate" type="application/atom+xml" title="Feed - LosersJuegos" href="feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Nuevos Temas" href="feed-mode=topics.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Foro - General" href="feed-f=9.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Tema - Rotar imágenes con pygame" href="feed-f=9&amp;t=594.php" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:

	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Introduzca el número de página al que desea saltar:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.losersjuegos.com.ar';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<script type="text/javascript" src="styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="styles/prosilver/template/forum_fn.js"></script>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.php-id=3&amp;lang=en&amp;sid=4ec7bd6b5b400f7171476bb35f8261c6.css" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />




<link href="styles/prosilver/theme/header.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/barrausuario.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/design.css" rel="stylesheet" type="text/css"/>

<link href="styles/prosilver/theme/src/prettify.css" type="text/css" rel="stylesheet" />
<script src="styles/prosilver/theme/src/prettify.js" type="text/javascript"></script>


</head>


<body onload="prettyPrint()" id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
<div id='borde'>

    <div id="cabecera">

        <a href='index.html'><img id='logo1' alt='' src="styles/prosilver/theme/ima_cabecera/logo_1.png" width="286" height="50" name="logo1" /></a>

        <div id="navi">
            <ul>
                <li><a href="../index.html">Web</a></li>
                <li id='actual'><a href="index.html">Foro</a></li>
            </ul>
        </div>

    </div>


<div class='barra_usuario'>
        <ul>
                <li class='regresar'><a href='../index.html'>Regresar a la web</a></li>
                <li class='buscar'><a href="search.php.html">Buscar</a></li>

                
                <li class='registrar'><a href="ucp.php-mode=register.html">Registrarse</a></li>

                <li class='registrar'><a href="ucp.php-mode=login.html">Identificarse</a>
                </li>
                

        </ul>
</div>




	<a name="start_here"></a>
	<div id="page-body">
		<ul style='font-size: 14px' class="linklist">
                    <li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
                    </ul>
<h2><a href="viewtopic.php-f=9&amp;t=594&amp;start=0.html">Rotar imágenes con pygame</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Consulte acerca de programas, técnicas, algoritmos etc.<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=9&amp;t=594.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="post" id="topic-search" action="search.php-t=594.html">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Buscar este tema…" onclick="if(this.value=='Buscar este tema…')this.value='';" onblur="if(this.value=='')this.value='Buscar este tema…';" />
				<input class="button2" type="submit" value="Buscar" />
				<input type="hidden" value="594" name="t" />
				<input type="hidden" value="msgonly" name="sf" />
			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			7 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p2744" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="#p2744">Rotar imágenes con pygame</a></h3>
			<p class="author"><a href="viewtopic.php-p=2744.html#p2744"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2006.html" style="color: #00AA00;" class="username-coloured">algarafa</a></strong> &raquo; Mar Jul 14, 2009 6:10 pm </p>

			

			<div class="content">Bueno, no se si se acuerdan de estos dos hilos que había creado hace tiempo:
<br /><!-- m --><a class="postlink" href="http://www.losersjuegos.com.ar/foro/viewtopic.php?t=425&amp;highlight=">http://www.losersjuegos.com.ar/foro/vie ... highlight=</a><!-- m -->
<br /><!-- m --><a class="postlink" href="http://www.losersjuegos.com.ar/foro/viewtopic.php?t=436&amp;highlight=">http://www.losersjuegos.com.ar/foro/vie ... highlight=</a><!-- m -->
<br />Pues ahora estoy pasando este &quot;minijuego&quot; a POO para practicarla y asentar un poco los conocimientos que tengo, ponerle sonidos para ver que tal va y eso.
<br />El caso es que tengo un meteorito rondando por la pantalla, que se supone que sera un obstáculo para la nave, y que si esta choca con el pues pierdes. El choque lo gestionaré con colliderect, que es más que suficiente para este programa. Lo de las colisiones está por hacer, aunque es un momento. Lo que ya tengo hehco es que el meteorito, cada vez que inicias el juego, aparezca en un lugar distinto y con una velocidad deistinta, pero le falta un detalle:
<br />Que gire sobre si mismo. Ya había visto eeste efecto en el ejemplo de asteroids que hizo Hugo, pero es que no entendí nada de como hacerlo rotar.
<br />¡Muchas gracias y les paso el código fuente que llevo!
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>import pygame<br />from pygame.locals import *<br />import os<br />import random<br /><br />SCREEN_WIDTH = 640<br />SCREEN_HEIGHT = 480<br />DATOS_IMA = 'ima'<br /><br />def load_image&#40;name, colorkey = False&#41;:<br />&nbsp; &nbsp;&quot;&quot;&quot; Carga una imagen, devuelve una superficie y su rectángulo&quot;&quot;&quot;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;fullname = os.path.join&#40;DATOS_IMA, name&#41;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;try: image = pygame.image.load&#40;fullname&#41;<br />&nbsp; &nbsp;except pygame.error, message:<br />&nbsp; &nbsp;&nbsp; &nbsp;print 'No se ha podido cargar la imagen', fullname<br />&nbsp; &nbsp;&nbsp; &nbsp;raise SystemExit, message<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;image = image.convert&#40;&#41;<br />&nbsp; &nbsp;if colorkey:<br />&nbsp; &nbsp;&nbsp; &nbsp;colorkey = image.get_at&#40;&#40;0,0&#41;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;image.set_colorkey&#40;colorkey, RLEACCEL&#41;<br />&nbsp; &nbsp;return image, image.get_rect&#40;&#41;<br />&nbsp; &nbsp;<br />class Nave&#40;pygame.sprite.Sprite&#41;:<br />&nbsp; &nbsp;&quot;&quot;&quot; Este objeto representa la nave que controla el jugador&quot;&quot;&quot;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;def __init__&#40;self&#41;:<br />&nbsp; &nbsp;&nbsp; &nbsp;pygame.sprite.Sprite.__init__&#40;self&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;self.image, self.rect = load_image&#40;'nave.gif'&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;self.rect.centerx = SCREEN_WIDTH / 2<br />&nbsp; &nbsp;&nbsp; &nbsp;self.rect.centery = SCREEN_HEIGHT - 400<br />&nbsp; &nbsp;&nbsp; &nbsp;self.speed = &#91;0,0&#93;<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;def gravedad&#40;self, gravedad&#41;:<br />&nbsp; &nbsp;&nbsp; &nbsp;self.speed&#91;1&#93; = self.speed&#91;1&#93; + gravedad<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;def mueve_nave&#40;self&#41;:<br />&nbsp; &nbsp;&nbsp; &nbsp;tecla = pygame.key.get_pressed&#40;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;if tecla&#91;K_UP&#93;:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;self.speed&#91;1&#93; = self.speed&#91;1&#93; - 0.3<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;if tecla&#91;K_LEFT&#93;:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;self.speed&#91;0&#93; = self.speed&#91;0&#93; - 0.3<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;if tecla&#91;K_RIGHT&#93;:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;self.speed&#91;0&#93; = self.speed&#91;0&#93; + 0.3<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;def update&#40;self&#41;:<br />&nbsp; &nbsp;&nbsp; &nbsp;if self.rect.top &lt;1&gt;= SCREEN_HEIGHT:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;self.rect.bottom = SCREEN_HEIGHT<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;self.speed&#91;1&#93; = 0<br />&nbsp; &nbsp;&nbsp; &nbsp;if self.rect.left &lt;1&gt;= SCREEN_WIDTH + self.rect.width + 1:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;self.rect.left = -self.rect.width<br />&nbsp; &nbsp;&nbsp; &nbsp;self.rect.move_ip&#40;&#40;self.speed&#91;0&#93;, self.speed&#91;1&#93;&#41;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />class Meteorito&#40;pygame.sprite.Sprite&#41;:<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;def __init__&#40;self, rock&#41;:<br />&nbsp; &nbsp;&nbsp; &nbsp;pygame.sprite.Sprite.__init__&#40;self&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;self.image, self.rect = load_image&#40;rock&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;self.rect.centerx = random.randrange&#40;0, SCREEN_WIDTH&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;self.rect.centery = random.randrange&#40;0, SCREEN_HEIGHT&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;self.speed = &#91;random.randrange&#40;1, 3&#41;, random.randrange&#40;1, 3&#41;&#93;<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;def update&#40;self&#41;:<br />&nbsp; &nbsp;&nbsp; &nbsp;if self.rect.top &lt;1&gt;= SCREEN_HEIGHT + self.rect.height + 1:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;self.rect.top = -self.rect.height<br />&nbsp; &nbsp;&nbsp; &nbsp;if self.rect.left &lt;1&gt;= SCREEN_WIDTH + self.rect.width + 1:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;self.rect.left = -self.rect.width<br />&nbsp; &nbsp;&nbsp; &nbsp;self.rect.move_ip&#40;&#40;self.speed&#91;0&#93;, self.speed&#91;1&#93;&#41;&#41;<br />&nbsp; &nbsp;<br /># ----------------------------------------------------------------------<br />&nbsp; &nbsp;<br />def main&#40;&#41;:<br />&nbsp; &nbsp;pygame.init&#40;&#41;<br />&nbsp; &nbsp;screen = pygame.display.set_mode&#40;&#40;SCREEN_WIDTH, SCREEN_HEIGHT&#41;&#41;<br />&nbsp; &nbsp;pygame.display.set_caption&#40;'Aterriza la nave'&#41;<br />&nbsp; &nbsp;icon, icon_rect = load_image&#40;'icon.gif'&#41;<br />&nbsp; &nbsp;pygame.display.set_icon&#40;icon&#41;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;background, background_rect = load_image&#40;'background.jpg'&#41;<br />&nbsp; &nbsp;screen.blit&#40;background, &#40;0,0&#41;&#41;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;nave = Nave&#40;&#41;<br />&nbsp; &nbsp;meteorito1 = Meteorito&#40;'big_rock1.gif'&#41;<br />&nbsp; &nbsp;todos_sprites = pygame.sprite.RenderPlain&#40;&#40;nave, meteorito1&#41;&#41;<br />&nbsp; &nbsp;clock = pygame.time.Clock&#40;&#41;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;while True:<br />&nbsp; &nbsp;&nbsp; &nbsp;clock.tick&#40;60&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;for event in pygame.event.get&#40;&#41;:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if event.type == pygame.QUIT:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;raise SystemExit<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;elif event.type == pygame.KEYDOWN:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if event.key == K_ESCAPE:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;raise SystemExit<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;meteorito1.update&#40;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;nave.mueve_nave&#40;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;nave.gravedad&#40;0.1&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;nave.update&#40;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;screen.blit&#40;background, &#40;0,0&#41;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;todos_sprites.draw&#40;screen&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;pygame.display.flip&#40;&#41;<br />&nbsp; &nbsp;<br />if __name__ == '__main__':&nbsp; &nbsp;main&#40;&#41;<br /></code></dd></dl></div>

			<div id="sig2744" class="signature">http://liberatumundo.wordpress.com/</div>

		</div>

		
			<dl class="postprofile" id="profile2744">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2006.html"><img src="download/2006-avatar=2006_1286822595.jpg" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2006.html" style="color: #00AA00;" class="username-coloured">algarafa</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 135</dd><dd><strong>Registrado:</strong> Lun Oct 27, 2008 6:12 pm</dd><dd><strong>Ubicación:</strong> España</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2751" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2751"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2751.html#p2751"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=3.html" style="color: #AA0000;" class="username-coloured">hugoruscitti</a></strong> &raquo; Mar Jul 14, 2009 11:00 pm </p>

			

			<div class="content">Bueno, para rotar los meteoritos necesitas dos cosas. Transformar
<br />la imagen del meteorito para hacerla girar y luego corregir la
<br />coordenada del meteorito porque sino girará sobre el punto
<br />(0, 0), osea, la esquina superior izquierda...
<br />
<br />La función que te permite transformar una imagen para rotarla
<br />está documentada en la traducción de pygame:
<br />
<br /><!-- m --><a class="postlink" href="http://www.losersjuegos.com.ar/traducciones/pygame/transform#rotate">http://www.losersjuegos.com.ar/traducci ... orm#rotate</a><!-- m -->
<br />
<br />solo ten en cuenta que la función no debería aplicarse sobre
<br />las superficies resultantes una y otra vez, porque la
<br />&quot;rotación&quot; suele hacer que se vean mal.
<br />
<br />
<br />Ah, y para centrar la imagen tienes que cambiar el valor
<br />del atributo &quot;rect&quot; del sprite, generalmente es útil tratarlo
<br />usando &quot;centerx&quot; y &quot;centery&quot; como estás haciendo.
<br />
<br />Saludos, y felicitaciones por el código.</div>

			<div id="sig2751" class="signature">Hugo Ruscitti
<br /><!-- w --><a class="postlink" href="http://www.losersjuegos.com.ar">www.losersjuegos.com.ar</a><!-- w --></div>

		</div>

		
			<dl class="postprofile" id="profile2751">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=3.html"><img src="download/3-avatar=3_1295438267.jpg" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=3.html" style="color: #AA0000;" class="username-coloured">hugoruscitti</a>
			</dt>

			<dd>Site Admin</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 1242</dd><dd><strong>Registrado:</strong> Dom Jul 30, 2006 3:57 am</dd><dd><strong>Ubicación:</strong> Buenos Aires, Argentina</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://www.losersjuegos.com.ar" title="WWW: http://www.losersjuegos.com.ar"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2766" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2766">Meteorito amorfo</a></h3>
			<p class="author"><a href="viewtopic.php-p=2766.html#p2766"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2006.html" style="color: #00AA00;" class="username-coloured">algarafa</a></strong> &raquo; Jue Jul 16, 2009 2:13 pm </p>

			

			<div class="content">He intentado hacerlo, pero el meteorito se ve amorfo, como decías, y además cuando sale de la pantalla, no vuelve a entrar y empieza a ir muy lento el programa. Te dejo la clase meteorito:
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>class Meteorito&#40;pygame.sprite.Sprite&#41;:<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;def __init__&#40;self, rock&#41;:<br />&nbsp; &nbsp;&nbsp; &nbsp;pygame.sprite.Sprite.__init__&#40;self&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;self.image, self.rect = load_image&#40;rock&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;self.rect.centerx = random.randrange&#40;0, SCREEN_WIDTH&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;self.rect.centery = random.randrange&#40;0, SCREEN_HEIGHT&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;self.speed = &#91;random.randrange&#40;-3, 3&#41;, random.randrange&#40;-3, 3&#41;&#93;<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;def rotar_meteorito&#40;self, angle&#41;:<br />&nbsp; &nbsp;&nbsp; &nbsp;self.image = pygame.transform.rotate&#40;self.image, angle&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;self.rect = self.image.get_rect&#40;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;def update&#40;self&#41;:<br />&nbsp; &nbsp;&nbsp; &nbsp;if self.rect.top &lt;1&gt;= SCREEN_HEIGHT + self.rect.height + 1:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;self.rect.top = -self.rect.height<br />&nbsp; &nbsp;&nbsp; &nbsp;if self.rect.left &lt;1&gt;= SCREEN_WIDTH + self.rect.width + 1:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;self.rect.left = -self.rect.width<br />&nbsp; &nbsp;&nbsp; &nbsp;self.rect.move_ip&#40;&#40;self.speed&#91;0&#93;, self.speed&#91;1&#93;&#41;&#41;</code></dd></dl><br />Y como llamo al método rotar_meteorito en el cuerpo de la función main:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>....<br />nave = Nave&#40;&#41;<br />&nbsp; &nbsp;meteorito1 = Meteorito&#40;'big_rock1.gif'&#41;<br />&nbsp; &nbsp;todos_sprites = pygame.sprite.RenderPlain&#40;&#40;nave, meteorito1&#41;&#41;<br />&nbsp; &nbsp;clock = pygame.time.Clock&#40;&#41;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;while True:<br />&nbsp; &nbsp;&nbsp; &nbsp;clock.tick&#40;60&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;for event in pygame.event.get&#40;&#41;:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if event.type == pygame.QUIT:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;raise SystemExit<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;elif event.type == pygame.KEYDOWN:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;if event.key == K_ESCAPE:<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;raise SystemExit<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;meteorito1.rotar_meteorito&#40;-2&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;meteorito1.update&#40;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;nave.mueve_nave&#40;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;nave.gravedad&#40;0.1&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;nave.update&#40;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;<br />&nbsp; &nbsp;&nbsp; &nbsp;screen.blit&#40;background, &#40;0,0&#41;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;todos_sprites.draw&#40;screen&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;pygame.display.flip&#40;&#41;<br />...</code></dd></dl>
<br />¡Muchas gracias por la ayuda!</div>

			<div id="sig2766" class="signature">http://liberatumundo.wordpress.com/</div>

		</div>

		
			<dl class="postprofile" id="profile2766">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2006.html"><img src="download/2006-avatar=2006_1286822595.jpg" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2006.html" style="color: #00AA00;" class="username-coloured">algarafa</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 135</dd><dd><strong>Registrado:</strong> Lun Oct 27, 2008 6:12 pm</dd><dd><strong>Ubicación:</strong> España</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2767" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2767"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2767.html#p2767"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Jue Jul 16, 2009 2:57 pm </p>

			

			<div class="content">buenas rafa:Yo tampoco consigo que se quede rotando en el sitio, pero he conseguido acotarlo:
<br />
<br />Lo que he hecho es:
<br />
<br />1. Para que no se vea amorfo, no puedes rotar siempre sobre la misma imagen, como te dijo hugo, sino que en rotar_meteorito tendriías que hacer o siguiente:
<br />
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>def rotar_meteorito&#40;self, angle&#41;:<br />&nbsp; &nbsp; &nbsp; self.image = pygame.transform.rotate&#40;self.base_image, angle&#41;<br />&nbsp; &nbsp; &nbsp; self.rect = self.image_rotada.get_rect&#40;&#41; <br /></code></dd></dl><br /><br />Es decir, rotar siempre sobre la misma imagen original para que los desperfectos sean mínimos.<br /><br />Para poder hacer esto, además, tendrías que ir cambiando el parametro angle de la función de rotación, porque si no siempre rotaría -2 grados ( o 358, como quieran) sobre la imagen original.<br /><br />Para ello podrías crear un atributo que fuera self.rotacion en la clase, inicializado a 0, y cada llamada a rotar_meteorito, incrementar o decrementar una cantidad fija.<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>def rotar_meteorito&#40;self&#41;:<br />&nbsp; &nbsp; &nbsp; self.rotacion -= 2 %360<br />&nbsp; &nbsp; &nbsp; self.image = pygame.transform.rotate&#40;self.base_image, self.rotacion&#41;<br />&nbsp; &nbsp; &nbsp; self.rect = self.image.get_rect&#40;&#41; <br /></code></dd></dl><br /><br />Este es un ejemplo sencillo que me he hecho para ver si conseguía rotar la imagen en el sitio(al final lo he conseguido, aunque un poco chapucero para mi gusto)<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>def main&#40;&#41;:<br /><br />&nbsp; &nbsp; pygame.display.init&#40;&#41;<br />&nbsp; &nbsp; screen = pygame.display.set_mode&#40;&#40;640,480&#41;,DOUBLEBUF,32&#41;<br /><br />&nbsp; &nbsp; image, rect = load_image&#40;&quot;nave.png&quot;,True&#41;<br />&nbsp; &nbsp; rotation = 0<br />&nbsp; &nbsp; image2 = image<br />&nbsp; &nbsp; rect.move_ip&#40;100,100&#41;<br />&nbsp; &nbsp; <br />&nbsp; &nbsp; #guardamos el centro de la imagen original<br />&nbsp; &nbsp; #para ajustar las posiciones de las imagenes rotadas<br />&nbsp; &nbsp; centerx = rect.centerx<br />&nbsp; &nbsp; centery = rect.centery<br /><br />&nbsp; &nbsp; while True:<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; for event in pygame.event.get&#40;&#41;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if event.type == QUIT:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; exit&#40;&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if event.type == KEYDOWN:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #si hay algun evento, actualizamos el centro,<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; #puesto que la imagen se va a mover<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; centerx = rect.centerx<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; centery = rect.centery<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if event.key == K_r:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rotation += 3<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; image2 = transform.rotate&#40;image,rotation%360&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rect = image2.get_rect&#40;&#41;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rect.centerx = centerx<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rect.centery = centery<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if event.key == K_RIGHT:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rect.move_ip&#40;3,0&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elif event.key == K_LEFT:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rect.move_ip&#40;-3,0&#41;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if event.key == K_UP:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rect.move_ip&#40;0,-3&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; elif event.key == K_DOWN:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; rect.move_ip&#40;0,3&#41;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; screen.fill&#40;&#40;255, 255, 255&#41;&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; screen.blit&#40;image2, rect&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; pygame.draw.rect&#40;screen, &#40;0,0,0&#41;,rect,1&#41;&nbsp; &nbsp; &nbsp;<br /><br />&nbsp; &nbsp; &nbsp; &nbsp; pygame.display.flip&#40;&#41;<br /><br />if __name__ == '__main__':<br />&nbsp; &nbsp; main&#40;&#41;<br /></code></dd></dl>
<br />
<br />Espero que te haya servido de ayuda algo.
<br />Un saludo
<br />Juanxo</div>

			

		</div>

		
			<dl class="postprofile" id="profile2767">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2769" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2769"></a></h3>
			<p class="author"><a href="#p2769"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2108.html">Meldron</a></strong> &raquo; Jue Jul 16, 2009 9:38 pm </p>

			

			<div class="content">rafahack95 estuve viendo el codigo y solucioné el problema de que cuando salía el meteorito este no volvía a entrar(para la rotación usé lo que dijo Juanxo).  Basicamente uso el rectángulo de la imagen base y voy actualizando el centro del mismo, y luego le paso los valores al rectangulo de la imagen rotada. Porque si usas el rect.center de la imagen que rota cada vez que lo rotas te lo manda al (0,0).( Esto último no lo sabía pero lo comprobé en el ejemplo)
<br />Después verifico si rect.centerx es menor a cero en cuyo caso el meteorito debería aparecer del otro lado de la pantalla (siguiendo la idea del asteroids) y lo mismo para cuando rect.centerx es mayor al ancho de la pantalla. Luego, la misma idea para rect.centery.
<br />
<br />Bueno aquí va el código (lo probé y funcionó):
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code># -*- encoding: utf-8 -*-<br />import pygame<br />from pygame.locals import *<br />import os<br />import random<br /><br />SCREEN_WIDTH = 640<br />SCREEN_HEIGHT = 480<br />DATOS_IMA = 'ima'<br /><br />def load_image&#40;name, colorkey = False&#41;:<br />&nbsp; &nbsp;&quot;&quot;&quot; Carga una imagen, devuelve una superficie y su rectángulo&quot;&quot;&quot;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;fullname = os.path.join&#40;DATOS_IMA, name&#41;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;try: image = pygame.image.load&#40;fullname&#41;<br />&nbsp; &nbsp;except pygame.error, message:<br />&nbsp; &nbsp; &nbsp; print 'No se ha podido cargar la imagen', fullname<br />&nbsp; &nbsp; &nbsp; raise SystemExit, message<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp;image = image.convert&#40;&#41;<br />&nbsp; &nbsp;if colorkey:<br />&nbsp; &nbsp; &nbsp; colorkey = image.get_at&#40;&#40;0,0&#41;&#41;<br />&nbsp; &nbsp; &nbsp; image.set_colorkey&#40;colorkey, RLEACCEL&#41;<br />&nbsp; &nbsp;return image, image.get_rect&#40;&#41;<br />&nbsp; &nbsp;<br />class Nave&#40;pygame.sprite.Sprite&#41;:<br />&nbsp; &nbsp;&quot;&quot;&quot; Este objeto representa la nave que controla el jugador&quot;&quot;&quot;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;def __init__&#40;self&#41;:<br />&nbsp; &nbsp; &nbsp; pygame.sprite.Sprite.__init__&#40;self&#41;<br />&nbsp; &nbsp; &nbsp; self.image, self.rect = load_image&#40;'nave.gif', True&#41;<br />&nbsp; &nbsp; &nbsp; self.rect.centerx = SCREEN_WIDTH / 2<br />&nbsp; &nbsp; &nbsp; self.rect.centery = SCREEN_HEIGHT - 400<br />&nbsp; &nbsp; &nbsp; self.speed = &#91;0,0&#93;<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp;def gravedad&#40;self, gravedad&#41;:<br />&nbsp; &nbsp; &nbsp; self.speed&#91;1&#93; = self.speed&#91;1&#93; + gravedad<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp;def mueve_nave&#40;self&#41;:<br />&nbsp; &nbsp; &nbsp; tecla = pygame.key.get_pressed&#40;&#41;<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; if tecla&#91;K_UP&#93;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.speed&#91;1&#93; = self.speed&#91;1&#93; - 0.3<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; if tecla&#91;K_LEFT&#93;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.speed&#91;0&#93; = self.speed&#91;0&#93; - 0.3<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; if tecla&#91;K_RIGHT&#93;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.speed&#91;0&#93; = self.speed&#91;0&#93; + 0.3<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp;def update&#40;self&#41;:<br />&nbsp; &nbsp; &nbsp; if self.rect.top &lt;1&gt;= SCREEN_HEIGHT:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.rect.bottom = SCREEN_HEIGHT<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.speed&#91;1&#93; = 0<br />&nbsp; &nbsp; &nbsp; if self.rect.left &lt;1&gt;= SCREEN_WIDTH + self.rect.width + 1:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.rect.left = -self.rect.width<br />&nbsp; &nbsp; &nbsp; self.rect.move_ip&#40;&#40;self.speed&#91;0&#93;, self.speed&#91;1&#93;&#41;&#41;<br />&nbsp; &nbsp; &nbsp; <br />class Meteorito&#40;pygame.sprite.Sprite&#41;:<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;def __init__&#40;self, rock&#41;:<br />&nbsp; &nbsp; &nbsp; pygame.sprite.Sprite.__init__&#40;self&#41;<br />&nbsp; &nbsp; &nbsp; self.image, self.rect = load_image&#40;rock, True&#41;<br />&nbsp; &nbsp; &nbsp; self.base_image, self.rect1 = load_image&#40;rock, True&#41;<br />&nbsp; &nbsp; &nbsp; self.rect1.centerx = random.randrange&#40;0, SCREEN_WIDTH&#41;<br />&nbsp; &nbsp; &nbsp; self.rect1.centery = random.randrange&#40;0, SCREEN_HEIGHT&#41;<br />&nbsp; &nbsp; &nbsp; self.speed = &#91;random.randrange&#40;-3, 3&#41;, random.randrange&#40;-3, 3&#41;&#93;<br />&nbsp; &nbsp; &nbsp; self.rotacion = 0<br />&nbsp; &nbsp; &nbsp; <br /># Esto haría rebotar el meteorito por la pantalla...&nbsp; &nbsp; <br />#&nbsp; &nbsp;def update&#40;self&#41;:<br />#&nbsp; &nbsp; &nbsp; if self.rect1.top &lt;0&gt; SCREEN_HEIGHT:<br />#&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.speed&#91;1&#93; = -self.speed&#91;1&#93;<br />#&nbsp; &nbsp; &nbsp; if self.rect1.left &lt;0&gt; SCREEN_WIDTH:<br />#&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.speed&#91;0&#93; = -self.speed&#91;0&#93;<br />#&nbsp; &nbsp; &nbsp; self.rect1.move_ip&#40;&#40;self.speed&#91;0&#93;, self.speed&#91;1&#93;&#41;&#41;<br />#&nbsp; &nbsp; &nbsp; self.rect.center = self.rect1.center<br /><br />&nbsp; &nbsp;def update&#40;self&#41;:<br />&nbsp; &nbsp; &nbsp; if self.rect1.centerx &lt;0&gt; SCREEN_WIDTH:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.rect1.centerx = 0<br />&nbsp; &nbsp; &nbsp; if self.rect1.centery &gt; SCREEN_HEIGHT:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.rect1.centery = 0 <br />&nbsp; &nbsp; &nbsp; if self.rect1.centery &lt; 0:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;self.rect1.centery = SCREEN_HEIGHT<br />&nbsp; &nbsp; &nbsp; self.rect1.move_ip&#40;&#40;self.speed&#91;0&#93;, self.speed&#91;1&#93;&#41;&#41;<br />&nbsp; &nbsp; &nbsp; self.rect.center = self.rect1.center<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;def rotar_meteorito&#40;self&#41;:<br />&nbsp; &nbsp; &nbsp; self.rotacion -= 2 %360<br />&nbsp; &nbsp; &nbsp; self.image = pygame.transform.rotate&#40;self.base_image, self.rotacion&#41;<br />&nbsp; &nbsp; &nbsp; self.rect = self.image.get_rect&#40;&#41;<br />&nbsp; &nbsp;<br /># ----------------------------------------------------------------------<br />&nbsp; &nbsp;<br />def main&#40;&#41;:<br />&nbsp; &nbsp;pygame.init&#40;&#41;<br />&nbsp; &nbsp;screen = pygame.display.set_mode&#40;&#40;SCREEN_WIDTH, SCREEN_HEIGHT&#41;&#41;<br />&nbsp; &nbsp;pygame.display.set_caption&#40;'Aterriza la nave'&#41;<br />&nbsp; &nbsp;icon, icon_rect = load_image&#40;'icon.gif'&#41;<br />&nbsp; &nbsp;pygame.display.set_icon&#40;icon&#41;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;background, background_rect = load_image&#40;'background.jpg'&#41;<br />&nbsp; &nbsp;screen.blit&#40;background, &#40;0,0&#41;&#41;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;nave = Nave&#40;&#41;<br />&nbsp; &nbsp;meteorito1 = Meteorito&#40;'big_rock1.gif'&#41;<br />&nbsp; &nbsp;todos_sprites = pygame.sprite.RenderPlain&#40;&#40;nave, meteorito1&#41;&#41;<br />&nbsp; &nbsp;clock = pygame.time.Clock&#40;&#41;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;while True:<br />&nbsp; &nbsp; &nbsp; clock.tick&#40;60&#41;<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; for event in pygame.event.get&#40;&#41;:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if event.type == pygame.QUIT:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; raise SystemExit<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;elif event.type == pygame.KEYDOWN:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if event.key == K_ESCAPE:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;raise SystemExit<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; meteorito1.rotar_meteorito&#40;&#41;<br />&nbsp; &nbsp; &nbsp; meteorito1.update&#40;&#41;<br />&nbsp; &nbsp; &nbsp; nave.mueve_nave&#40;&#41;<br />&nbsp; &nbsp; &nbsp; nave.gravedad&#40;0.1&#41;<br />&nbsp; &nbsp; &nbsp; nave.update&#40;&#41;<br />&nbsp; &nbsp; &nbsp; <br />&nbsp; &nbsp; &nbsp; screen.blit&#40;background, &#40;0,0&#41;&#41;<br />&nbsp; &nbsp; &nbsp; todos_sprites.draw&#40;screen&#41;<br />&nbsp; &nbsp; &nbsp; pygame.display.flip&#40;&#41;<br />&nbsp; &nbsp;<br />if __name__ == '__main__':&nbsp; &nbsp;main&#40;&#41;</code></dd></dl>
<br />
<br />La misma idea de desplazamiento se puede usar para la nave.
<br />Ah una cosa que no entiendo es lo que utilizas en el programa como &quot;gravedad&quot;. Si mal no recuerdo, en el asteroids, la nave se frenaba hasta quedarse quieta, siempre que no la estes moviendo. En tu caso se desacelera constantemente.
<br />Espero haber ayudado en algo!
<br />Saludos
<br />PD:acabo de ver el titulo del programa y prestándole atención me di cuenta de que no es un asteriods, asi que ahora entiendo lo de la &quot;gravedad&quot;. Perdón por el error jeje...</div>

			

		</div>

		
			<dl class="postprofile" id="profile2769">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2108.html"><img src="download/2108-avatar=2108.gif" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2108.html">Meldron</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 20</dd><dd><strong>Registrado:</strong> Jue Jun 04, 2009 6:04 pm</dd><dd><strong>Ubicación:</strong> Cap. Fed.- Argentina</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2770" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2770"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2770.html#p2770"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Jue Jul 16, 2009 10:06 pm </p>

			

			<div class="content">buenas a todos:
<br />
<br />Solo quería comentarte un par de detalles en cuanto al código rafahack, especialmente en cuanto a la organización.
<br />
<br />Quizás no sean puntos fundamentales, pero te recomiendo que corrijas varias cosillas:
<br />
<br />-En cuanto a la nave, fijate que en main haces:
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>nave.mueve_nave&#40;&#41;<br />&nbsp; &nbsp; &nbsp; nave.gravedad&#40;0.1&#41;<br />&nbsp; &nbsp; &nbsp; nave.update&#40;&#41; </code></dd></dl><br />¿Por qué no llamar a mueve_nave y gravedad dentro de update mejor?Así se cumpliría en mayor medida con la encapsulación, y te permitiría utilizar tu clase en otros juegos sin tener que mirar cuantas funciones tienes que llamar para la clase. Siempre llamarás a update y listo.<br /><br />-En la función de carga de la imagen del icono, si no te hace falta el parametro rect, como creo yo, puedes obtener solo el primer parámetro de la siguiente manera:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>icon_image = load_image&#40;'icon.gif',True&#41; &#91;0&#93;<br /></code></dd></dl>
<br />
<br />Y creo que eso es todo por el momento. Ya nos comentarás los progresos. Ánimo!</div>

			

		</div>

		
			<dl class="postprofile" id="profile2770">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2772" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2772">¡Ya lo consegui!</a></h3>
			<p class="author"><a href="viewtopic.php-p=2772.html#p2772"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2006.html" style="color: #00AA00;" class="username-coloured">algarafa</a></strong> &raquo; Vie Jul 17, 2009 7:29 pm </p>

			

			<div class="content">Ya consegui que rotara correctamente, gracias a los dos!!!!! <img src="images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>

			<div id="sig2772" class="signature">http://liberatumundo.wordpress.com/</div>

		</div>

		
			<dl class="postprofile" id="profile2772">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2006.html"><img src="download/2006-avatar=2006_1286822595.jpg" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2006.html" style="color: #00AA00;" class="username-coloured">algarafa</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 135</dd><dd><strong>Registrado:</strong> Lun Oct 27, 2008 6:12 pm</dd><dd><strong>Ubicación:</strong> España</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="viewtopic.php-f=9&amp;t=594&amp;start=0.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		
		<label>Mostrar mensajes previos: <select name="st" id="st"><option value="0" selected="selected">Todos los mensajes</option><option value="1">1 día</option><option value="7">7 días</option><option value="14">2 semanas</option><option value="30">1 mes</option><option value="90">3 meses</option><option value="180">6 meses</option><option value="365">1 año</option></select></label>
		<label>Ordenar por <select name="sk" id="sk"><option value="a">Autor</option><option value="t" selected="selected">Fecha publicación</option><option value="s">Asunto</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascendente</option><option value="d">Descendente</option></select> <input type="submit" name="sort" value="Ir" class="button2" /></label>
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=9&amp;t=594.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="pagination">
			7 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="viewforum.php-f=9.html" class="left-box left" accesskey="r">Volver a General</a></p>

	<form method="post" id="jumpbox" action="viewforum.php.html" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Saltar a:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Seleccione un Foro</option>
			<option value="-1">------------------</option>
				<option value="15">Proyecto Losersjuegos</option>
			
				<option value="1">&nbsp; &nbsp;Planificación y eventos</option>
			
				<option value="14">&nbsp; &nbsp;Asadetris</option>
			
				<option value="22">Pilas Engine</option>
			
				<option value="23">&nbsp; &nbsp;Anuncios de los desarrolladores</option>
			
				<option value="24">&nbsp; &nbsp;Consultas, problemas o bugs.</option>
			
				<option value="25">&nbsp; &nbsp;Proyectos usando pilas</option>
			
				<option value="26">&nbsp; &nbsp;Sugerencias e ideas</option>
			
				<option value="28">&nbsp; &nbsp;General</option>
			
				<option value="16">Sugerencias, proyectos e ideas</option>
			
				<option value="2">&nbsp; &nbsp;Artículos, traducciones y documentación</option>
			
				<option value="3">&nbsp; &nbsp;Ejemplos</option>
			
				<option value="4">&nbsp; &nbsp;Videojuegos</option>
			
				<option value="12">&nbsp; &nbsp;Propuestas de desarrollo y concursos</option>
			
				<option value="13">&nbsp; &nbsp;Inspiración y otras ideas interesantes</option>
			
				<option value="5">&nbsp; &nbsp;Otros</option>
			
				<option value="17">Consultas</option>
			
				<option value="6">&nbsp; &nbsp;Sobre las bibliotecas multimedia</option>
			
				<option value="7">&nbsp; &nbsp;Instalación de bibliotecas y herramientas</option>
			
				<option value="8">&nbsp; &nbsp;Sobre lenguajes de programación</option>
			
				<option value="9" selected="selected">&nbsp; &nbsp;General</option>
			
				<option value="20">&nbsp; &nbsp;3D</option>
			
				<option value="29">&nbsp; &nbsp;HTML5 y Javascript</option>
			
				<option value="30">&nbsp; &nbsp;Qt y pyqt</option>
			
				<option value="18">Otros</option>
			
				<option value="10">&nbsp; &nbsp;Fuera de tópico</option>
			
				<option value="11">&nbsp; &nbsp;Links interesantes</option>
			
			</select>
			<input type="submit" value="Ir" class="button2" />
		</fieldset>
	</form>


	<h3>¿Quién está conectado?</h3>
	<p>Usuarios navegando por este Foro: No hay usuarios registrados visitando el Foro y 0 invitados</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
				
			<li class="rightside"><a href="memberlist.php-mode=leaders.html">El Equipo</a> &bull; <a href="ucp.php-mode=delete_cookies.html">Borrar todas las cookies del Sitio</a> &bull; Todos los horarios son UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>



<div id="pie">

    <ul>
            <li class="contactenos"><a href="../comunidad/contactenos.html">Contáctenos</a></li>
                
                <li class="cc"><a href="http://creativecommons.org/licenses/by-sa/2.5/deed.es">Licencia de uso para el sitio</a></li>

                    <li class="foro"><a href="index.html">Foro de mensajes</a></li>

                        <li class="comunidad"><a href="../comunidad.html">Sobre el grupo ...</a></li>
                    </ul>
                </div>


</div> <!-- borde -->
</div>


<div class="copyright">
Este foro de mensajes funciona gracias al sistema <a href="http://www.phpbb.com/">phpBB</a>
<br/>
Tema visual personalizando por Hugo Ruscitti.
<br/>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	<img src="cron.php-cron_type=tidy_sessions.gif" width="1" height="1" alt="cron" />
</div>

</body>
</html>