<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="es" xml:lang="es">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="es" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="copyright" content="2000, 2002, 2005, 2007 phpBB Group" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

<title>LosersJuegos &bull; Ver Tema - Conversion de datos en C/C++</title>

<link rel="alternate" type="application/atom+xml" title="Feed - LosersJuegos" href="feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Nuevos Temas" href="feed-mode=topics.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Foro - Sobre lenguajes de programación" href="feed-f=8.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Tema - Conversion de datos en C/C++" href="feed-f=8&amp;t=1463.php" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:

	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Introduzca el número de página al que desea saltar:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.losersjuegos.com.ar';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<script type="text/javascript" src="styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="styles/prosilver/template/forum_fn.js"></script>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.php-id=3&amp;lang=en&amp;sid=4ec7bd6b5b400f7171476bb35f8261c6.css" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />




<link href="styles/prosilver/theme/header.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/barrausuario.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/design.css" rel="stylesheet" type="text/css"/>

<link href="styles/prosilver/theme/src/prettify.css" type="text/css" rel="stylesheet" />
<script src="styles/prosilver/theme/src/prettify.js" type="text/javascript"></script>


</head>


<body onload="prettyPrint()" id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
<div id='borde'>

    <div id="cabecera">

        <a href='index.html'><img id='logo1' alt='' src="styles/prosilver/theme/ima_cabecera/logo_1.png" width="286" height="50" name="logo1" /></a>

        <div id="navi">
            <ul>
                <li><a href="../index.html">Web</a></li>
                <li id='actual'><a href="index.html">Foro</a></li>
            </ul>
        </div>

    </div>


<div class='barra_usuario'>
        <ul>
                <li class='regresar'><a href='../index.html'>Regresar a la web</a></li>
                <li class='buscar'><a href="search.php.html">Buscar</a></li>

                
                <li class='registrar'><a href="ucp.php-mode=register.html">Registrarse</a></li>

                <li class='registrar'><a href="ucp.php-mode=login.html">Identificarse</a>
                </li>
                

        </ul>
</div>




	<a name="start_here"></a>
	<div id="page-body">
		<ul style='font-size: 14px' class="linklist">
                    <li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
                    </ul>
<h2><a href="viewtopic.php-f=8&amp;t=1463&amp;start=0.html">Conversion de datos en C/C++</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Agrupa todas las consultas sobre los lenguajes de programacion como C, C++, Python, Java ...<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=8&amp;t=1463.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="post" id="topic-search" action="search.php-t=1463.html">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Buscar este tema…" onclick="if(this.value=='Buscar este tema…')this.value='';" onblur="if(this.value=='')this.value='Buscar este tema…';" />
				<input class="button2" type="submit" value="Buscar" />
				<input type="hidden" value="1463" name="t" />
				<input type="hidden" value="msgonly" name="sf" />
			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			9 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p6726" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="#p6726">Conversion de datos en C/C++</a></h3>
			<p class="author"><a href="viewtopic.php-p=6726.html#p6726"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1535.html">sofoke</a></strong> &raquo; Lun May 07, 2012 4:35 am </p>

			

			<div class="content">Hola, buenas noches a todos en el foro.<br />Alguien podria ayudarme con la conversion de tipos en C/C++?<br />Lo que sucede es que tengo una variable:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>unsigned char r;</code></dd></dl><br />con un valor igual a 50, y este valor lo quiero pasar a una variable<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>unsigned short a;</code></dd></dl><br />pero al hacer algo asi:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>a = (unsigned short) r;</code></dd></dl><br />o al hacer simplemente:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>a = r;</code></dd></dl><br />no me da lo que necesito, puesto que la variable <span style="font-weight: bold">a</span> la necesito para un <span style="font-weight: bold">for</span>, pero no se que pasa incluso ya intente con la funcion atoi y no he logrado pasar ese valor :S<br />Desgraciadamente necesito que esas variables sean necesariamente de ese tipo. Si alguien puede ayudarme les estaria muy agradecido.</div>

			<div id="sig6726" class="signature">...cuando lo popular no es suficiente...
<br /><a href="http://sofoke-gnu-linux.blogspot.com/" class="postlink">Gnu-Linux-y-Más</a></div>

		</div>

		
			<dl class="postprofile" id="profile6726">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1535.html"><img src="download/1535-avatar=1535.gif" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1535.html">sofoke</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 102</dd><dd><strong>Registrado:</strong> Jue May 24, 2007 8:10 pm</dd><dd><strong>Ubicación:</strong> México</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://sofoke-gnu-linux.blogspot.com/" title="WWW: http://sofoke-gnu-linux.blogspot.com/"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p6730" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p6730">Re: Conversion de datos en C/C++</a></h3>
			<p class="author"><a href="viewtopic.php-p=6730.html#p6730"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2345.html">Barajas</a></strong> &raquo; Lun May 07, 2012 9:33 pm </p>

			

			<div class="content">solo una duda, exactamente como estas asignando el valor de &quot;50&quot; al carácter.<br />En teoria no marca error al hacerlo... :<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>#include &lt;stdio.h&gt;<br />#include &lt;stdlib.h&gt;<br />int main(void){<br />&nbsp; &nbsp; unsigned char r;<br />&nbsp; &nbsp; unsigned short a;<br />&nbsp; &nbsp; r = 'a';&nbsp; /*asignamos el carácter*/<br />&nbsp; &nbsp; a = (unsigned short) r;&nbsp; /*transformamos el tipo...*/<br />&nbsp; &nbsp; printf(&quot;%d\n&quot;, a);/*imprime 97 que es el valor entero de 'a' */<br />&nbsp; &nbsp; return 0;<br />};<br /></code></dd></dl><br /><br />Creo que el error esta en como asignas el valor a r... <img src="images/smilies/icon_smile.gif" alt=":)" title="Smile" /></div>

			<div id="sig6730" class="signature"><span style="font-size: 80%; line-height: 116%;">Vi veri universum vivus vici</span></div>

		</div>

		
			<dl class="postprofile" id="profile6730">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2345.html"><img src="download/2345-avatar=2345_1341026901.png" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2345.html">Barajas</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 209</dd><dd><strong>Registrado:</strong> Mar Nov 16, 2010 12:06 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p6731" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p6731">Re: Conversion de datos en C/C++</a></h3>
			<p class="author"><a href="#p6731"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1535.html">sofoke</a></strong> &raquo; Lun May 07, 2012 11:05 pm </p>

			

			<div class="content">En realidad lo asigno de la siguiente manera:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>...<br />fscanf( rFile, &quot;%c&quot;, &amp;leido );<br />sprintf( (char*) &amp;room&#91; count &#93;, &quot;%c&quot; , (char*) leido );<br />...</code></dd></dl><br />Donde:<br /><span style="font-weight: bold">room</span> es un puntero a una variable de tipo <span style="font-weight: bold">unsigned char</span>, y <span style="font-weight: bold">leido</span> es una variable de tipo <span style="font-weight: bold">unsigned char</span>.<br />Lo tengo de este modo puesto que leo un archivo con información en hexadecimal.<br />Por eso al hacer:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>a = (unsigned short) room&#91;10&#93;;</code></dd></dl><br /><br />No me genera error de compilacion pero como <span style="font-weight: bold">a</span> lo quiero usar en un <span style="font-weight: bold">for</span>, cuando da una vuelta al <span style="font-weight: bold">for</span> e intenta generar otra vuelta no se que sucede; pero el programa simplemente se cuelga como si el <span style="font-weight: bold">for</span> no tuviera fin o algo por el estilo.<br />Ahora que veo el codigo pudo hacer que <span style="font-weight: bold">a</span> no sea necesariamente <span style="font-weight: bold">unsigned short</span> aun que lo quiero usar así por cuestión de ahorro de recursos.<br />Aun no se por que sucede eso :S.<br /><br />Edito: Olvide comentar que <span style="font-weight: bold">a</span> comienza con un valor <span style="font-weight: bold">0x00</span> y al hacer algunas vueltas en el <span style="font-weight: bold">for</span> al encontrarse con lo que comento ya no vuelve a hacer lo que normalmente debe hacer es como si tomara otro valor o el <span style="font-weight: bold">for</span> no tuviera fin la verdad no se como explicarlo es raro :S...</div>

			<div id="sig6731" class="signature">...cuando lo popular no es suficiente...
<br /><a href="http://sofoke-gnu-linux.blogspot.com/" class="postlink">Gnu-Linux-y-Más</a></div>

		</div>

		
			<dl class="postprofile" id="profile6731">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1535.html"><img src="download/1535-avatar=1535.gif" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1535.html">sofoke</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 102</dd><dd><strong>Registrado:</strong> Jue May 24, 2007 8:10 pm</dd><dd><strong>Ubicación:</strong> México</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://sofoke-gnu-linux.blogspot.com/" title="WWW: http://sofoke-gnu-linux.blogspot.com/"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p6738" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p6738">Re: Conversion de datos en C/C++</a></h3>
			<p class="author"><a href="viewtopic.php-p=6738.html#p6738"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2345.html">Barajas</a></strong> &raquo; Mié May 09, 2012 12:28 am </p>

			

			<div class="content">Que extraño, usualmente funcionaria... primero seria revisar si verdaderamente el dato al que le das cast. Aun que seria bueno poder ver un poco mas del código donde esta el error.</div>

			<div id="sig6738" class="signature"><span style="font-size: 80%; line-height: 116%;">Vi veri universum vivus vici</span></div>

		</div>

		
			<dl class="postprofile" id="profile6738">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2345.html"><img src="download/2345-avatar=2345_1341026901.png" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2345.html">Barajas</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 209</dd><dd><strong>Registrado:</strong> Mar Nov 16, 2010 12:06 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p6739" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p6739">Re: Conversion de datos en C/C++</a></h3>
			<p class="author"><a href="viewtopic.php-p=6739.html#p6739"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1535.html">sofoke</a></strong> &raquo; Mié May 09, 2012 8:23 pm </p>

			

			<div class="content">Aqui un poco de codigo.<br />Comenzando por el codigo que se encarga de leer un archivo de texto en modo binario de lectura:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>&nbsp; &nbsp; strcat( (char*) room_inst&#91; count &#93;, (char*) &quot;&quot; );<br />&nbsp; &nbsp; do{<br />&nbsp; &nbsp; &nbsp; &nbsp; fscanf( room, &quot;%c&quot;, &amp;leido );<br />&nbsp; &nbsp; &nbsp; &nbsp; sprintf( (char*) &amp;room_inst&#91; count &#93;, &quot;%c&quot; , (char*) leido );<br />&nbsp; &nbsp; &nbsp; &nbsp; count+=1;<br />&nbsp; &nbsp; }while( !feof(room) );</code></dd></dl><br />Con este codigo lo que hago el leer el archivo hasta el final e ir guardando los datos dentro de la variable <span style="font-weight: bold">room_inst</span> que es un arreglo de punteros de tipo <span style="font-weight: bold">unsigned char</span>.<br />Al hacer una prueba con:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>printf(&quot;\n%x\n&quot;, room_inst&#91;1&#93; );</code></dd></dl><br />Me imprime el valor 50<br />Ahora el archivo binario abierto se ve de la siguiente manera:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>C3 50 01 FF FF<br />00 00 00 C3 00<br /></code></dd></dl><br />Esto de modo grafico lo que significaria en hexadecimal:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>0 1 2 3 4<br />5 6 7 8 9</code></dd></dl><br />Y en decimal seria lo siguiente:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>195 80 1 255 255<br />0 0 0 195 80<br /></code></dd></dl><br />Ahora como vemos el archivo trae un valor <span style="font-weight: bold">50</span> que en <span style="font-weight: bold">decimal</span> es <span style="font-weight: bold">80</span> y su posicion segun los valores <span style="font-weight: bold">hexadecimales</span> es <span style="font-weight: bold">1</span>... (En este ejemplo claro)<br />Ahora lo que quiero es poder jalar ese 50 a una variable <span style="font-weight: bold">unsigned short</span>.<br />El siguiente codigo es:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>for( ; PC &lt;= 600 ;&nbsp; ){<br />&nbsp; &nbsp; opCode = room&#91;PC&#93;;<br />&nbsp; &nbsp; switch( opCode ){<br />&nbsp; &nbsp; &nbsp; &nbsp; case (0xC3):<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp;default:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;PC+=1;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; }<br />}<br /></code></dd></dl><br />Especificamente en ese case es donde necesito hacer la asignacion del valor <span style="font-weight: bold">50</span> (que es el que tiene el archivo que lei en forma binaria) a la variable <span style="font-weight: bold">PC</span> que como comento es <span style="font-weight: bold">unsigned short</span>, puesto que sigo necesitando que se pueda usar tanto en el for como indice del arreglo de punteros.<br />Esta variable <span style="font-weight: bold">room</span> es una copia de <span style="font-weight: bold">room_inst</span> que hice de la siguiente manera:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>room = (unsigned char*) room_inst;<br /></code></dd></dl><br />Lo hice por que se encuentran en clases diferentes.<br />Casi lo olvido el archivo lo abro de la siguiente manera:<br /><span style="font-weight: bold">FILE* room = fopen(path, &quot;rb&quot;);</span></div>

			<div id="sig6739" class="signature">...cuando lo popular no es suficiente...
<br /><a href="http://sofoke-gnu-linux.blogspot.com/" class="postlink">Gnu-Linux-y-Más</a></div>

		</div>

		
			<dl class="postprofile" id="profile6739">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1535.html"><img src="download/1535-avatar=1535.gif" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1535.html">sofoke</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 102</dd><dd><strong>Registrado:</strong> Jue May 24, 2007 8:10 pm</dd><dd><strong>Ubicación:</strong> México</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://sofoke-gnu-linux.blogspot.com/" title="WWW: http://sofoke-gnu-linux.blogspot.com/"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p6740" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p6740">Re: Conversion de datos en C/C++</a></h3>
			<p class="author"><a href="viewtopic.php-p=6740.html#p6740"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2345.html">Barajas</a></strong> &raquo; Jue May 10, 2012 4:41 pm </p>

			

			<div class="content">Disculpa la tardanza <img src="images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />Bien, ahora, una observación:<br /><br />no se copean cadenas de esa forma<br /><blockquote><div><cite>sofoke escribió:</cite>Esta variable room es una copia de room_inst que hice de la siguiente manera:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>&nbsp; &nbsp; room = (unsigned char*) room_inst;</code></dd></dl><br /><br /></div></blockquote><br /><br />Daria lo mismo que utilizaras directamente room_inst...<br /><br />Ahora, lo que se me ocurre que puedes hacer es, crear un array de enteros y recorrer la longitud de room_inst.<br /><br /><pre class="prettyprint">#include &lt;string.h&gt;<br /><br />int long = strlen&#40;room_inst&#41;;<br />unsigned short* room_integer = &#40;unsigned short*&#41;malloc&#40;sizeof&#40;unsigned short&#41;*long&#41;; //creamos un array de enteros para guardar los valores<br />int i;<br />for&#40;i=0;i&lt;=long;i++&#41;{<br />    room_integer[i] = &#40;unsigned short&#41;room_inst[i];<br />    };</pre><br /><br />Aun que estoy un poco oxidado en c  <img src="images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" />, así que esa seria solo una idea... no sé si te sea útil...</div>

			<div id="sig6740" class="signature"><span style="font-size: 80%; line-height: 116%;">Vi veri universum vivus vici</span></div>

		</div>

		
			<dl class="postprofile" id="profile6740">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2345.html"><img src="download/2345-avatar=2345_1341026901.png" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2345.html">Barajas</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 209</dd><dd><strong>Registrado:</strong> Mar Nov 16, 2010 12:06 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p6741" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p6741">Re: Conversion de datos en C/C++</a></h3>
			<p class="author"><a href="viewtopic.php-p=6741.html#p6741"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1535.html">sofoke</a></strong> &raquo; Jue May 10, 2012 7:01 pm </p>

			

			<div class="content"><img src="images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" />  Wow! parece que ya quedo  <img src="images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> <br />El código me quedo de la siguiente manera:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>&nbsp; &nbsp; long long longitud = sizeof( room_inst );<br />&nbsp; &nbsp; room = (unsigned char*) malloc( sizeof(unsigned char)*longitud );<br />&nbsp; &nbsp; for( int i = 0 ; i &lt;= longitud; i++ ){<br />&nbsp; &nbsp; &nbsp; &nbsp; room&#91;i&#93; = (unsigned char) room_inst&#91;i&#93;;<br />&nbsp; &nbsp; }</code></dd></dl><br />Ahora ya quedo al hacer:<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>case (0xC3):<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; SP = (int)&nbsp; room&#91; PC+1 &#93;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PC = (int) SP;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;</code></dd></dl><br />Hace exactamente lo que necesito guarda en <span style="font-weight: bold">PC</span> el valor <span style="font-weight: bold">50</span> (que solo es un ejemplo) o el valor que encuentre en el archivo y <span style="font-weight: bold">PC</span> sigue siendo valido para el for y continua haciendo todo.<br />Ahora no entiendo el por que del error, podrías decirme por que no se hace la copia como lo hice yo?<br />Muchas gracias por la ayuda ya puedo continuar con mi pequeño proyecto  <img src="images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /></div>

			<div id="sig6741" class="signature">...cuando lo popular no es suficiente...
<br /><a href="http://sofoke-gnu-linux.blogspot.com/" class="postlink">Gnu-Linux-y-Más</a></div>

		</div>

		
			<dl class="postprofile" id="profile6741">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1535.html"><img src="download/1535-avatar=1535.gif" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1535.html">sofoke</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 102</dd><dd><strong>Registrado:</strong> Jue May 24, 2007 8:10 pm</dd><dd><strong>Ubicación:</strong> México</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://sofoke-gnu-linux.blogspot.com/" title="WWW: http://sofoke-gnu-linux.blogspot.com/"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p6749" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p6749">Re: Conversion de datos en C/C++</a></h3>
			<p class="author"><a href="viewtopic.php-p=6749.html#p6749"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2345.html">Barajas</a></strong> &raquo; Vie May 11, 2012 4:50 am </p>

			

			<div class="content">Sí el asunto era copear una sola cadena, creo que te hubiese sido mas útil el utilizar la función strcpy... bueno, ya que XD.<br /><br />Sobre el problema de copear cadenas de la forma que lo hacías, es que técnicamente no copeas la cadena, mas bien haces referencia a esa cadena en especifico o algo así....<br /><br />Me alegro que ya funcione <img src="images/smilies/icon_smile.gif" alt=":)" title="Smile" /><br /><br />ahora tengo una duda existencial sobre si se escribe copear o copiar... XD</div>

			<div id="sig6749" class="signature"><span style="font-size: 80%; line-height: 116%;">Vi veri universum vivus vici</span></div>

		</div>

		
			<dl class="postprofile" id="profile6749">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2345.html"><img src="download/2345-avatar=2345_1341026901.png" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2345.html">Barajas</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 209</dd><dd><strong>Registrado:</strong> Mar Nov 16, 2010 12:06 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p6750" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p6750">Re: Conversion de datos en C/C++</a></h3>
			<p class="author"><a href="viewtopic.php-p=6750.html#p6750"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1535.html">sofoke</a></strong> &raquo; Vie May 11, 2012 5:03 pm </p>

			

			<div class="content">Entonces prácticamente lo que hacia yo era apuntar a esa cadena? Era lo que pensaba.<br />Con respecto a tu duda, me decia la maestra de ética <img src="images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" /> : Copiar, puesto que copear es de brindar  <img src="images/smilies/icon_eek.gif" alt=":shock:" title="Shocked" />.<br />Gracias por la ayuda me has salvado la vida y bastante de mi cabello...</div>

			<div id="sig6750" class="signature">...cuando lo popular no es suficiente...
<br /><a href="http://sofoke-gnu-linux.blogspot.com/" class="postlink">Gnu-Linux-y-Más</a></div>

		</div>

		
			<dl class="postprofile" id="profile6750">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1535.html"><img src="download/1535-avatar=1535.gif" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1535.html">sofoke</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 102</dd><dd><strong>Registrado:</strong> Jue May 24, 2007 8:10 pm</dd><dd><strong>Ubicación:</strong> México</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://sofoke-gnu-linux.blogspot.com/" title="WWW: http://sofoke-gnu-linux.blogspot.com/"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="viewtopic.php-f=8&amp;t=1463&amp;start=0.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		
		<label>Mostrar mensajes previos: <select name="st" id="st"><option value="0" selected="selected">Todos los mensajes</option><option value="1">1 día</option><option value="7">7 días</option><option value="14">2 semanas</option><option value="30">1 mes</option><option value="90">3 meses</option><option value="180">6 meses</option><option value="365">1 año</option></select></label>
		<label>Ordenar por <select name="sk" id="sk"><option value="a">Autor</option><option value="t" selected="selected">Fecha publicación</option><option value="s">Asunto</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascendente</option><option value="d">Descendente</option></select> <input type="submit" name="sort" value="Ir" class="button2" /></label>
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=8&amp;t=1463.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="pagination">
			9 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="viewforum.php-f=8.html" class="left-box left" accesskey="r">Volver a Sobre lenguajes de programación</a></p>

	<form method="post" id="jumpbox" action="viewforum.php.html" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Saltar a:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Seleccione un Foro</option>
			<option value="-1">------------------</option>
				<option value="15">Proyecto Losersjuegos</option>
			
				<option value="1">&nbsp; &nbsp;Planificación y eventos</option>
			
				<option value="14">&nbsp; &nbsp;Asadetris</option>
			
				<option value="22">Pilas Engine</option>
			
				<option value="23">&nbsp; &nbsp;Anuncios de los desarrolladores</option>
			
				<option value="24">&nbsp; &nbsp;Consultas, problemas o bugs.</option>
			
				<option value="25">&nbsp; &nbsp;Proyectos usando pilas</option>
			
				<option value="26">&nbsp; &nbsp;Sugerencias e ideas</option>
			
				<option value="28">&nbsp; &nbsp;General</option>
			
				<option value="16">Sugerencias, proyectos e ideas</option>
			
				<option value="2">&nbsp; &nbsp;Artículos, traducciones y documentación</option>
			
				<option value="3">&nbsp; &nbsp;Ejemplos</option>
			
				<option value="4">&nbsp; &nbsp;Videojuegos</option>
			
				<option value="12">&nbsp; &nbsp;Propuestas de desarrollo y concursos</option>
			
				<option value="13">&nbsp; &nbsp;Inspiración y otras ideas interesantes</option>
			
				<option value="5">&nbsp; &nbsp;Otros</option>
			
				<option value="17">Consultas</option>
			
				<option value="6">&nbsp; &nbsp;Sobre las bibliotecas multimedia</option>
			
				<option value="7">&nbsp; &nbsp;Instalación de bibliotecas y herramientas</option>
			
				<option value="8" selected="selected">&nbsp; &nbsp;Sobre lenguajes de programación</option>
			
				<option value="9">&nbsp; &nbsp;General</option>
			
				<option value="20">&nbsp; &nbsp;3D</option>
			
				<option value="29">&nbsp; &nbsp;HTML5 y Javascript</option>
			
				<option value="30">&nbsp; &nbsp;Qt y pyqt</option>
			
				<option value="18">Otros</option>
			
				<option value="10">&nbsp; &nbsp;Fuera de tópico</option>
			
				<option value="11">&nbsp; &nbsp;Links interesantes</option>
			
			</select>
			<input type="submit" value="Ir" class="button2" />
		</fieldset>
	</form>


	<h3>¿Quién está conectado?</h3>
	<p>Usuarios navegando por este Foro: No hay usuarios registrados visitando el Foro y 0 invitados</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
				
			<li class="rightside"><a href="memberlist.php-mode=leaders.html">El Equipo</a> &bull; <a href="ucp.php-mode=delete_cookies.html">Borrar todas las cookies del Sitio</a> &bull; Todos los horarios son UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>



<div id="pie">

    <ul>
            <li class="contactenos"><a href="../comunidad/contactenos.html">Contáctenos</a></li>
                
                <li class="cc"><a href="http://creativecommons.org/licenses/by-sa/2.5/deed.es">Licencia de uso para el sitio</a></li>

                    <li class="foro"><a href="index.html">Foro de mensajes</a></li>

                        <li class="comunidad"><a href="../comunidad.html">Sobre el grupo ...</a></li>
                    </ul>
                </div>


</div> <!-- borde -->
</div>


<div class="copyright">
Este foro de mensajes funciona gracias al sistema <a href="http://www.phpbb.com/">phpBB</a>
<br/>
Tema visual personalizando por Hugo Ruscitti.
<br/>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	
</div>

</body>
</html>