<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="es">
<link rel="self" type="application/atom+xml" href="http://losersjuegos.com.ar/foro/feed.php?f=6&amp;t=86" />

<title>LosersJuegos</title>
<subtitle>Desarrollando videojuegos libres</subtitle>
<link href="http://losersjuegos.com.ar/foro/index.php" />
<updated>2007-05-11T20:03:06+00:00</updated>

<author><name><![CDATA[LosersJuegos]]></name></author>
<id>http://losersjuegos.com.ar/foro/feed.php?f=6&amp;t=86</id>
<entry>
<author><name><![CDATA[rcaf]]></name></author>
<updated>2007-05-11T20:03:06+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=86&amp;p=303#p303</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=86&amp;p=303#p303"/>
<title type="html"><![CDATA[como utilizar la clase csprite.h de SDL]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=86&amp;p=303#p303"><![CDATA[
Hola:<br /><br />Podrías colocar el código dentro del tag code, para que se vea más claro y entendible el código fuente (ojala identado).<br /><br /><span style="font-weight: bold">[ code ]<br />// mi codigo<br />[ /code ]<br /></span><br />(sin espacios entre [  ])<br /><br />Pero ¿cuál es el error que arroja exactamente el compilador y en que línea, o que sección del código?<br /><br />S2.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=8">rcaf</a> — Vie May 11, 2007 8:03 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[barkuz]]></name></author>
<updated>2007-05-11T13:18:03+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=86&amp;p=301#p301</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=86&amp;p=301#p301"/>
<title type="html"><![CDATA[como utilizar la clase csprite.h de SDL]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=86&amp;p=301#p301"><![CDATA[
amigos: <br /><br />busco ayuda estoy utilizando un tutorial para aprender a utilizar SDL. <br />pero tengo un problema con este ejemplo: <br />y me bota un error. <br />el tutorial que sigo es este: <br /><!-- m --><a class="postlink" href="http://www.losersjuegos.com.ar/referencia/libros/descargas/%5Bebook%5DProgramacion%20de%20videojuegos%20con%20SDL.pdf">http://www.losersjuegos.com.ar/referenc ... %20SDL.pdf</a><!-- m --> <br />pagina 84 <br /><br />me podrian ayudar. <br />gracias <br /><br />la clase csprite.h que utilizo es esta: <br /><br />#ifndef CSPRITE_H_ <br />#define CSPRITE_H_ <br />#define TRUE 1 <br />#define FALSE 0 <br />// CFrame representa un frame independiente de un sprite. <br />class CFrame { <br />public: <br />SDL_Surface *img; <br />void load(char *path); <br />void unload(); <br />}; <br />// La clase CSprite está formada por un array de frames; <br />class CSprite { <br />private: <br />int posx,posy; <br />int estado; <br />int nframes; <br />int cont; <br />public: <br />CFrame *sprite; <br />CSprite(int nf); <br />CSprite(); <br />void finalize(); <br />void addframe(CFrame frame); <br />void selframe(int nf); <br />int frames() {return cont;} <br />void setx(int x) {posx=x;} <br />void sety(int y) {posy=y;} <br />void addx(int c) {posx+=c;} <br />void addy(int c) {posy+=c;} <br />int getx() {return posx;} <br />int gety() {return posy;} <br />int getw() {return sprite[estado].img-&gt;w;} <br />int geth() {return sprite[estado].img-&gt;h;} <br />void draw(SDL_Surface *superficie); <br />int colision(CSprite sp); <br />}; <br />#endif /* CSPRITE_H_ */ <br /><br />el primer cpp es este el otro esta abajo que es el que me interesa: <br /><br />#include &lt;SDL.h&gt; <br />#include &lt;csprite.h&gt; <br />// Sprite Class implementation <br />void CFrame::load(char *path) { <br />img=SDL_LoadBMP(path); <br />// Asignamos el color transparente al color rojo. <br />SDL_SetColorKey(img,SDL_SRCCOLORKEY|SDL_RLEACCEL, SDL_MapRGB(img-&gt;format,255,0,0)); <br />img=SDL_DisplayFormat(img); <br />} <br />void CFrame::unload(){ <br />SDL_FreeSurface(img); <br />} <br />CSprite::CSprite(int nf) { <br />sprite=new CFrame[nf]; <br />nframes=nf; <br />cont=0; <br />} <br />CSprite::CSprite() { <br />int nf=1; <br />sprite=new CFrame[nf]; <br />nframes=nf; <br />cont=0; <br />} <br />void CSprite::finalize() { <br />int i; <br />for (i=0 ; i&lt;=nframes-1 ; i++) <br />sprite[i].unload(); <br />} <br />void CSprite::addframe(CFrame frame) { <br />if (cont&lt;nframes) { <br />sprite[cont]=frame; <br />cont++; <br />} <br />} <br />void CSprite::selframe(int nf) { <br />if (nf&lt;=nframes) { <br />estado=nf; <br />} <br />} <br />void CSprite::draw(SDL_Surface *superficie) { <br />SDL_Rect dest; <br />dest.x=posx; <br />dest.y=posy; <br />SDL_BlitSurface(sprite[estado].img,NULL,superficie,&amp;dest); <br />} <br />int CSprite::colision(CSprite sp) { <br />int w1,h1,w2,h2,x1,y1,x2,y2; <br />w1=getw(); // ancho del sprite1 <br />h1=geth(); // altura del sprite1 <br />w2=sp.getw(); // ancho del sprite2 <br />h2=sp.geth(); // alto del sprite2 <br />x1=getx(); // pos. X del sprite1 <br />y1=gety(); // pos. Y del sprite1 <br />x2=sp.getx(); // pos. X del sprite2 <br />y2=sp.gety(); // pos. Y del sprite2 <br />if (((x1+w1)&gt;x2)&amp;&amp;((y1+h1)&gt;y2)&amp;&amp;((x2+w2)&gt;x1)&amp;&amp;((y2+h2)&gt;y1)) { <br />return TRUE; <br />} else { <br />return FALSE; <br />} <br />} <br /><br />el segundo cpp es este: <br />#include &lt;stdio.h&gt; <br />#include &lt;stdlib.h&gt; <br />#include &lt;SDL.h&gt; <br />#include &lt;csprite.h&gt; <br /><br />SDL_Surface *screen; <br />CFrame fnave; <br />CFrame fmalo; <br />CSprite nave(1); <br />CSprite malo(1); <br />SDL_Rect rectangulo; <br />SDL_Joystick *joystick; <br />int joyx, joyy; <br />int done=0; <br />// estructura que contiene la información <br />// de nuestro avión <br />struct minave { <br />int x,y; <br />} jugador; <br />// Estructura que contiene información <br />// del avión enemigo <br />struct naveenemiga { <br />int x,y; <br />} enemigo; <br />// Dibuja los esprites en la pantalla <br />void DrawScene(SDL_Surface *screen) { <br />// borramos el avión dibujado <br />// en el frame anterior <br />rectangulo.x=nave.getx(); <br />rectangulo.y=nave.gety(); <br />rectangulo.w=nave.getw(); <br />rectangulo.h=nave.geth(); <br />SDL_FillRect(screen,&amp;rectangulo,SDL_MapRGB(screen-&gt;format,0,0,0)); <br />// dibuja avión <br />nave.setx(jugador.x); <br />nave.sety(jugador.y); <br />nave.draw(screen); <br />// Dibuja enemigo <br />malo.setx(enemigo.x); <br />malo.sety(enemigo.y); <br />malo.draw(screen); <br />// ¿ha colisionado con la nave? <br />if (malo.colision(nave) == TRUE) { <br />done=1; <br />} <br />// Mostramos todo el frame <br />SDL_Flip(screen); <br />} <br />// Inicializamos estados <br />void inicializa() { <br />jugador.x=300; <br />jugador.y=300; <br />enemigo.x=100; <br />enemigo.y=100; <br />} <br />void finaliza() { <br />// finalizamos los sprites <br />nave.finalize(); <br />malo.finalize(); <br />// cerramos el joystick <br />if (SDL_JoystickOpened(0)) { <br />SDL_JoystickClose(joystick); <br />} <br />} <br />// Preparamos los esprites <br />int InitSprites() { <br />fnave.load(&quot;minave.bmp&quot;); <br />nave.addframe(fnave); <br />fmalo.load(&quot;nave.bmp&quot;); <br />malo.addframe(fmalo); <br />return 0; <br />} <br />int main(int argc, char *argv[]) { <br />SDL_Event event; <br />Uint8 *keys; <br />if (SDL_Init(SDL_INIT_VIDEO|SDL_INIT_JOYSTICK) &lt; 0) { <br />printf(&quot;No se pudo iniciar SDL: %s\n&quot;,SDL_GetError()); <br />return 1; <br />} <br />screen = SDL_SetVideoMode(640,480,24,SDL_HWSURFACE); <br />if (screen == NULL) { <br />printf(&quot;No se puede inicializar el modo gráfico: \n&quot;,SDL_GetError()); <br />return 1; <br />} <br />atexit(SDL_Quit); <br />inicializa(); <br />InitSprites(); <br />while (done == 0) { <br />// dibujamos el frame <br />DrawScene(screen); <br />// consultamos el estado del teclado <br />keys=SDL_GetKeyState(NULL); <br />// consultamos el estado del joystick <br />SDL_JoystickUpdate(); <br />joyx = SDL_JoystickGetAxis(joystick, 0); <br />joyy = SDL_JoystickGetAxis(joystick, 1); <br />if ((keys[SDLK_UP] || joyy &lt; -10) &amp;&amp; (jugador.y &gt; 0)) {jugador.y=jugador.y-(5);} <br />if ((keys[SDLK_DOWN] || joyy &gt; 10) &amp;&amp; (jugador.y &lt; 460)) {jugador.y=jugador.y+(5);} <br />if ((keys[SDLK_LEFT] || joyx &lt; -10) &amp;&amp; (jugador.x &gt; 0)) {jugador.x=jugador.x-(5);} <br />if ((keys[SDLK_RIGHT] || joyx &gt; 10) &amp;&amp; (jugador.x &lt; 620)) {jugador.x=jugador.x+(5);} <br />while (SDL_PollEvent(&amp;event)) { <br />if (event.type == SDL_QUIT) {done=1;} <br />if (event.type == SDL_KEYDOWN || event.type == SDL_JOYBUTTONDOWN) { <br />if (event.key.keysym.sym == SDLK_ESCAPE) { <br />done=1; <br />} <br />} <br />} <br />} <br />finaliza(); <br />return 0; <br />}<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=1355">barkuz</a> — Vie May 11, 2007 1:18 pm</p><hr />
]]></content>
</entry>
</feed>