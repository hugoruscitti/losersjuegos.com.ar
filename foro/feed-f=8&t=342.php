<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="es">
<link rel="self" type="application/atom+xml" href="http://losersjuegos.com.ar/foro/feed.php?f=8&amp;t=342" />

<title>LosersJuegos</title>
<subtitle>Desarrollando videojuegos libres</subtitle>
<link href="http://losersjuegos.com.ar/foro/index.php" />
<updated>2008-06-19T07:34:47+00:00</updated>

<author><name><![CDATA[LosersJuegos]]></name></author>
<id>http://losersjuegos.com.ar/foro/feed.php?f=8&amp;t=342</id>
<entry>
<author><name><![CDATA[Mindro]]></name></author>
<updated>2008-06-19T07:34:47+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=342&amp;p=1508#p1508</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=342&amp;p=1508#p1508"/>
<title type="html"><![CDATA[Creando un mapa]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=342&amp;p=1508#p1508"><![CDATA[
Muchisimas gracias dvd, por el código y por la guía, me es muy util ^^<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=1899">Mindro</a> — Jue Jun 19, 2008 7:34 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[endaramiz]]></name></author>
<updated>2008-06-18T19:58:56+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=342&amp;p=1504#p1504</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=342&amp;p=1504#p1504"/>
<title type="html"><![CDATA[Creando un mapa]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=342&amp;p=1504#p1504"><![CDATA[
Hola Mindro, he hecho la clase del mapa y te he corregido algunas cosillas de menos importancia pero que te ayudarán a tener una mejor base a la hora de ampliar el código.<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>#!/usr/bin/env python<br /><br /># -*- coding: utf-8 -*-<br /><br /><br /><br />import pygame<br /><br />from pygame.locals import *<br /><br />from sys import exit<br /><br />from pygame.sprite import Sprite<br /><br /><br /><br />class Nave&#40;Sprite&#41;:<br /><br />    <br /><br />    def __init__&#40;self&#41;:<br /><br />        Sprite.__init__&#40;self&#41;<br /><br />        # He añadido convert_alpha para que trabaje mejor el programa<br /><br />        # He cambiado la extensión porque linux distingue entre minúsculas y mayúsculas<br /><br />        self.image = pygame.image.load&#40;&quot;nave.PNG&quot;&#41;.convert_alpha&#40;&#41;<br /><br />        # Aunque se puede evitar hacerlo, es recomendable tener self.rect en un sprite<br /><br />        # ya que se utiliza en colisiones, draw...<br /><br />        self.rect = self.image.get_rect&#40;&#41;<br /><br />        <br /><br />        self.dx = 320<br /><br />        self.dy = 240<br /><br />        # Se sitúa el rect en su posición<br /><br />        self.rect.center = &#40;self.dx, self.dy&#41;<br /><br />        <br /><br />    def update&#40;self&#41;:<br /><br />        self.update_input&#40;&#41;<br /><br />        <br /><br />    def update_input&#40;self&#41;:<br /><br />        # He añadido espacios siguiendo la guía de estilo de python<br /><br />        teclas = pygame.key.get_pressed&#40;&#41;<br /><br />        <br /><br />        if teclas&#91;K_UP&#93;:<br /><br />            self.dy -= 1<br /><br />      <br /><br />        if teclas&#91;K_DOWN&#93;:<br /><br />            self.dy += 1<br /><br />    <br /><br />        if teclas&#91;K_LEFT&#93;:<br /><br />            self.dx -= 1<br /><br />      <br /><br />        if teclas&#91;K_RIGHT&#93;:<br /><br />            self.dx += 1<br /><br />        # Al actualizar la posición también se tiene que mover el rect<br /><br />        self.rect.center = &#40;self.dx, self.dy&#41;<br /><br />        <br /><br />class Nivel&#40;&#41;:#Sprite&#41;: No hace falta que sea un sprite por la función que tiene<br /><br />    def __init__&#40;self&#41;:<br /><br />        #self.isla = 1<br /><br />        #self.agua = 0<br /><br />        self.getSprites&#40;&#41;<br /><br />        self.image = self.crear_mapa&#40;&#41;<br /><br />        <br /><br />    def crear_mapa&#40;self&#41;:<br /><br />        tamanyo_sprite = self.agua.get_size&#40;&#41;<br /><br />        lado = tamanyo_sprite&#91;0&#93;  # La medida del lado del tile base &#40;agua&#41;&#40;en este caso, 32&#41;<br /><br />        matriz_mapa = self.getLayout&#40;&#41;<br /><br />        isla = 1 # Número que tendrá la isla en la matriz<br /><br />        # Se crea la superficie del mapa<br /><br />        img_mapa = pygame.Surface&#40;&#40;len&#40;matriz_mapa&#91;0&#93;&#41; * lado, len&#40;matriz_mapa&#41; * lado&#41;&#41;<br /><br />        # Se dibuja en todo el mapa un tile base &#40;agua&#41;<br /><br />        for fila in range&#40;0, len&#40;matriz_mapa&#41; - 1&#41;:<br /><br />            for columna in range&#40;0, len&#40;matriz_mapa&#91;0&#93;&#41; - 1&#41;:<br /><br />                img_mapa.blit&#40;self.agua, &#40;columna * lado, fila * lado&#41;&#41;<br /><br />        # Se dibuja una isla cuando se encuentra un 1 en la matriz<br /><br />        for fila in range&#40;0, len&#40;matriz_mapa&#41; - 1&#41;:<br /><br />            for columna in range&#40;0, len&#40;matriz_mapa&#91;0&#93;&#41; - 1&#41;:<br /><br />                if matriz_mapa&#91;fila&#93;&#91;columna&#93; == isla:<br /><br />                    img_mapa.blit&#40;self.isla, &#40;columna * lado, fila * lado&#41;&#41;<br /><br />        return img_mapa<br /><br />    <br /><br />    def getLayout&#40;self&#41;:<br /><br />        return &#91;&#91;9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ,9, 9, 9, 9, 9, 9, 9, 9, 9, 9&#93;,\<br /><br />                &#91;9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ,9, 9, 9, 9, 9, 9, 9, 9, 9, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ,0, 0, 0, 0, 0, 0, 0, 1, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0 ,0, 1, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ,0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 ,0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ,0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ,0, 0, 0, 1, 0, 1, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br /><br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;&#93;<br /><br />    <br /><br />    def getSprites&#40;self&#41;:<br /><br />        # He añadido convert para que trabaje mejor el programa<br /><br />        # image.load&#40;&#41; solo devuelve una superficie<br /><br />        # He añadido el self. delante para así no tener que hacer el return<br /><br />        self.isla = pygame.image.load&#40;&quot;isla.PNG&quot;&#41;.convert&#40;&#41;<br /><br />        self.isla.set_colorkey&#40;self.isla.get_at&#40;&#40;0, 0&#41;&#41;&#41;<br /><br />        self.agua = pygame.image.load&#40;&quot;agua.PNG&quot;&#41;.convert&#40;&#41;#&quot;oceano.png&quot;&#41;, -0&#41;<br /><br />        #return &#91;isla,agua&#93;  <br /><br />    <br /><br />pygame.init&#40;&#41;<br /><br /><br /><br />screen = pygame.display.set_mode&#40;&#40;640,480&#41;,0,32&#41;<br /><br />pygame.display.set_caption&#40;&quot;Shooter&quot;&#41;<br /><br />nave = Nave&#40;&#41;<br /><br />nivel = Nivel&#40;&#41;<br /><br /><br /><br /># Se crea un grupo de sprites &#40;ver mas abajo&#41;<br /><br />sprites = pygame.sprite.Group&#40;&#41;<br /><br />sprites.add&#40;nave&#41;<br /><br /><br /><br />while True:<br /><br />    for event in pygame.event.get&#40;&#41;:<br /><br />        if event.type == QUIT:<br /><br />            exit&#40;&#41;<br /><br />    <br /><br />    screen.blit&#40;nivel.image, &#40;0, 0&#41;&#41;<br /><br />    #screen.fill&#40;&#40;0,0,0&#41;&#41;  # Al dibujar el mapa no hay que pintar la pantalla de negro<br /><br />    #screen.blit&#40;nave.image, nave.rect&#41;  # No es que este mal... &#40;ver mas abajo&#41;<br /><br />    #nave.update&#40;&#41;<br /><br />    <br /><br />    sprites.update&#40;&#41;  # Pero así mejor &#40;ver mas abajo&#41;<br /><br />    sprites.draw&#40;screen&#41;<br /><br />    <br /><br />    #nivel.update&#40;&#41;<br /><br />    pygame.display.update&#40;&#41;<br /><br /><br /><br /># Se podía hacer de la manera que lo estabas haciendo pero una ventaja de los<br /><br /># sprites es poder actualizar y dibujar todos a la vez, sobretodo si tienes<br /><br /># mas de uno, que es lo que suele pasar en los juegos.<br /></code></dd></dl><br />He ido comentando lo que hacía pero si hay algo que no te ha quedado claro no dudes en preguntar.<br /><a href="http://mundogeek.net/traducciones/guia-estilo-python.htm" class="postlink">Esta</a> es la guía de estilo que te he comentado. Estaría bien que te la leyeses. También tienes la <a href="http://www.python.org/dev/peps/pep-0008/" class="postlink">versión en inglés</a>.<br /><br />Saludos.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=1809">endaramiz</a> — Mié Jun 18, 2008 7:58 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Mindro]]></name></author>
<updated>2008-06-18T11:27:24+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=342&amp;p=1501#p1501</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=342&amp;p=1501#p1501"/>
<title type="html"><![CDATA[Creando un mapa]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=342&amp;p=1501#p1501"><![CDATA[
¡Buenas! Verán tengo un problema a la hora de crear un mapa, pues no se como ponerlo de fondo.Lo que unico que quiero es que la nave pueda &quot;volar&quot; sobre el mapa. Aquí está el código, supongo que la <span style="font-style: italic">class Nivel</span> estará entera mal. Os dejo <a href="http://www.zshare.net/download/1380673501f0561d/" class="postlink">aquí</a> un pequeño pack con los gráficos y el código<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>#!/usr/bin/env python<br /><br />import pygame<br />from pygame.locals import *<br />from sys import exit<br />from pygame.sprite import Sprite<br /><br />class Nave&#40;Sprite&#41;:<br />    <br />    def __init__&#40;self&#41;:<br />        Sprite.__init__&#40;self&#41;<br />        self.image = pygame.image.load&#40;&quot;nave.png&quot;&#41;<br />        self.dx = 320<br />        self.dy = 240<br />        <br />    def update&#40;self&#41;:<br />        self.update_input&#40;&#41;<br />        <br />    def update_input&#40;self&#41;:<br />        teclas = pygame.key.get_pressed&#40;&#41;<br />        <br />        if teclas&#91;K_UP&#93;:<br />            self.dy-=1<br />      <br />        if teclas&#91;K_DOWN&#93;:<br />            self.dy+=1<br />    <br />        if teclas&#91;K_LEFT&#93;:<br />            self.dx-=1<br />      <br />        if teclas&#91;K_RIGHT&#93;:<br />            self.dx+=1<br />        <br />class Nivel&#40;Sprite&#41;:<br />    <br />    def __init__&#40;self&#41;:<br />        self.isla = 1<br />        self.agua = 0<br />    <br />    def getLayout&#40;self&#41;:<br />        return &#91;&#91;9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ,9, 9, 9, 9, 9, 9, 9, 9, 9, 9&#93;,\<br />                &#91;9, 9, 9, 9, 9, 9, 9, 9, 9, 9, 9 ,9, 9, 9, 9, 9, 9, 9, 9, 9, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ,0, 0, 0, 0, 0, 0, 0, 1, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0 ,0, 1, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ,0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1 ,0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ,0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ,0, 0, 0, 1, 0, 1, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 1, 0, 0, 0, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;,\<br />                &#91;9, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 9&#93;&#93;<br />    <br />    def getSprites&#40;self&#41;:<br />        isla, rect = pygame.image.load&#40;&quot;isla.png&quot;&#41;<br />        agua, rect = pygame.image.load&#40;&quot;oceano.png&quot;, -0&#41;<br />        return &#91;isla,agua&#93;  <br />    <br />pygame.init&#40;&#41;<br /><br />screen = pygame.display.set_mode&#40;&#40;640,480&#41;,0,32&#41;<br />pygame.display.set_caption&#40;&quot;Shooter&quot;&#41;<br />nave = Nave&#40;&#41;<br />nivel = Nivel&#40;&#41;<br /><br />while True:<br /><br />    for event in pygame.event.get&#40;&#41;:<br />        if event.type == QUIT:<br />            exit&#40;&#41;<br />    <br />    screen.fill&#40;&#40;0,0,0&#41;&#41;<br />    screen.blit&#40;nave.image,&#40;nave.dx,nave.dy&#41;&#41;<br />    nave.update&#40;&#41;<br />    nivel.update&#40;&#41; <br />    pygame.display.update&#40;&#41;<br /></code></dd></dl><br /><br />Gracias <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=1899">Mindro</a> — Mié Jun 18, 2008 11:27 am</p><hr />
]]></content>
</entry>
</feed>