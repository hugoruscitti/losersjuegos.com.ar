<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="es">
<link rel="self" type="application/atom+xml" href="http://losersjuegos.com.ar/foro/feed.php?f=6&amp;t=642" />

<title>LosersJuegos</title>
<subtitle>Desarrollando videojuegos libres</subtitle>
<link href="http://losersjuegos.com.ar/foro/index.php" />
<updated>2009-10-27T03:23:34+00:00</updated>

<author><name><![CDATA[LosersJuegos]]></name></author>
<id>http://losersjuegos.com.ar/foro/feed.php?f=6&amp;t=642</id>
<entry>
<author><name><![CDATA[hugoruscitti]]></name></author>
<updated>2009-10-27T03:23:34+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=642&amp;p=3010#p3010</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=642&amp;p=3010#p3010"/>
<title type="html"><![CDATA[Re: Hilos en SDL con clases.]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=642&amp;p=3010#p3010"><![CDATA[
<blockquote><div><cite>leonel06033 escribió:</cite><br />hola amigo:<br /><br />bueno, tengo una duda ahora que se cual es el problema pero no se resolverlo, voy a crear una clase que dentro de ella maneje un hilo, lo primero que me encontré es que no se me permite declarar un SDL_Thread * como miembro de una clase, tengo que hacerlo como una variable local dentro de un método, y lo otro que al utilizar la función <br /><br />SDL_Thread *SDL_CreateThread(int (*fn)(void *), void *data);<br /><br />me devuelve el siguiente error <br /><br />error: argument of type 'int (Cpacman::)(void*)' does not match 'int (*)(void*)'<br /><br />es decir que el apuntador a la función que se espera recibir en SDL_CreateThread, no coincide con el que se le esta pasando, y claro esta función no sabe que estoy trabajando con clases, bueno la pregunta es.<br /><br />como puedo hacer, para pasarle a SDL_CreateThread un metodo o función que sea de una clase, es como si tuviera que desreferenciar a la función de la clase, no se. alguien sabe como hacerlo.<br /><br />espero su respuesta puesto que sin ella no podre continuar...<br /><br />gracias.<br /></div></blockquote><br /><br />Saludos, para comenzar te comento que los métodos no se pueden<br />desacoplar de la clase a la que pertenecen a menos que ese método<br />sea un método de clase.<br /><br />Si el método es de clase te puedes referir a él desde afuera<br />escribiendo:<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>NombreClase::metodo&#40;&#41;<br /></code></dd></dl><br /><br />y la declaración del método tiene que ser algo como:<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>class NombreClase<br />&#123;<br />    public:<br />        static void metodo&#40;void&#41;<br />        &#123;<br />            ...<br /></code></dd></dl><br /><br />es decir, es muy importante utilizar la palabra &quot;static&quot; en la declaración, <br />porque no es un método que se aplicará sobre una instancia sino sobre<br />la misma clase...<br /><br /><br />En fin, para relacionarlo un poco con hilos de SDL armé un ejemplo<br />muy sencillo que muestra como lanzar un hilo con SDL que ejecuta<br />un método de clase:<br /><br /><br />makefile:<br /><dl class="codebox"><dt>Code: </dt><dd><code>CPPFLAGS = `sdl-config --cflags` -Wall<br />LDFLAGS = `sdl-config --libs`<br />CC = g++<br /><br />test: test.o<br /></code></dd></dl><br /><br />test.c<br /><dl class="codebox"><dt>Code: </dt><dd><code>#include &quot;SDL/SDL.h&quot;<br /><br />class Ejemplo<br />&#123;<br />    public:<br /><br />        static int correr_en_hilo&#40;void * data&#41; &#123;<br />            printf&#40;&quot;Soy el proceso hilo iniciando.\n&quot;&#41;;<br />            printf&#40;&quot;Soy el proceso hilo esperando 2 segundos.\n&quot;&#41;;<br />            SDL_Delay&#40;2000&#41;;<br />            printf&#40;&quot;Soy el proceso hilo terminando.\n&quot;&#41;;<br />            return NULL;<br />        &#125;<br /><br /><br />        void wait&#40;void&#41; &#123;<br />            SDL_Delay&#40;3 * 1000&#41;;<br />        &#125;<br />&#125;;<br /><br />int main &#40;void&#41;<br />&#123;<br />    Ejemplo ejemplo;<br />    SDL_Thread * handle;<br /><br />    SDL_Init&#40;0&#41;;<br /><br /><br />    // inicio un hilo:<br />    handle = SDL_CreateThread&#40;Ejemplo::correr_en_hilo, NULL&#41;;<br /><br />    printf&#40;&quot;Soy el programa principal y espero 1 segundos.\n&quot;&#41;;<br />    SDL_Delay&#40;1 * 1000&#41;;<br /><br /><br />    printf&#40;&quot;Soy el programa principal y espero a que termine el hilo.\n&quot;&#41;;<br />    SDL_WaitThread&#40;handle, NULL&#41;;<br /><br />    return 0;<br />&#125;<br /></code></dd></dl><br /><br />resultado en pantalla:<br /><dl class="codebox"><dt>Code: </dt><dd><code>Soy el proceso hilo iniciando.<br />Soy el proceso hilo esperando 2 segundos.<br />Soy el programa principal y espero 1 segundos.<br />Soy el programa principal y espero a que termine el hilo.<br />Soy el proceso hilo terminando.<br /></code></dd></dl><br /><br /><br /><br />PD: hacer aplicaciones con hilos suele traer varias dificultades<br />    asociadas con la sincronización y la memoria compartida, ¿realmente<br />    necesitas que la aplicación use hilos?.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=3">hugoruscitti</a> — Mar Oct 27, 2009 3:23 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[leonel06033]]></name></author>
<updated>2009-10-26T22:31:00+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=642&amp;p=3009#p3009</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=642&amp;p=3009#p3009"/>
<title type="html"><![CDATA[Hilos en SDL con clases.]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=642&amp;p=3009#p3009"><![CDATA[
hola amigo:<br /><br />bueno, tengo una duda ahora que se cual es el problema pero no se resolverlo, voy a crear una clase que dentro de ella maneje un hilo, lo primero que me encontré es que no se me permite declarar un SDL_Thread * como miembro de una clase, tengo que hacerlo como una variable local dentro de un método, y lo otro que al utilizar la función <br /><br />SDL_Thread *SDL_CreateThread(int (*fn)(void *), void *data);<br /><br />me devuelve el siguiente error <br /><br />error: argument of type 'int (Cpacman::)(void*)' does not match 'int (*)(void*)'<br /><br />es decir que el apuntador a la función que se espera recibir en SDL_CreateThread, no coincide con el que se le esta pasando, y claro esta función no sabe que estoy trabajando con clases, bueno la pregunta es.<br /><br />como puedo hacer, para pasarle a SDL_CreateThread un metodo o función que sea de una clase, es como si tuviera que desreferenciar a la función de la clase, no se. alguien sabe como hacerlo.<br /><br />espero su respuesta puesto que sin ella no podre continuar...<br /><br />gracias.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2103">leonel06033</a> — Lun Oct 26, 2009 10:31 pm</p><hr />
]]></content>
</entry>
</feed>