<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="es" xml:lang="es">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="es" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="copyright" content="2000, 2002, 2005, 2007 phpBB Group" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

<title>LosersJuegos &bull; Ver Tema - rotozoomSurfaceXY que ocurre?</title>

<link rel="alternate" type="application/atom+xml" title="Feed - LosersJuegos" href="feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Nuevos Temas" href="feed-mode=topics.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Foro - Sobre las bibliotecas multimedia" href="feed-f=6.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Tema - rotozoomSurfaceXY que ocurre?" href="feed-f=6&amp;t=79.php" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:

	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Introduzca el número de página al que desea saltar:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.losersjuegos.com.ar';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<script type="text/javascript" src="styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="styles/prosilver/template/forum_fn.js"></script>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.php-id=3&amp;lang=en&amp;sid=4ec7bd6b5b400f7171476bb35f8261c6.css" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />




<link href="styles/prosilver/theme/header.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/barrausuario.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/design.css" rel="stylesheet" type="text/css"/>

<link href="styles/prosilver/theme/src/prettify.css" type="text/css" rel="stylesheet" />
<script src="styles/prosilver/theme/src/prettify.js" type="text/javascript"></script>


</head>


<body onload="prettyPrint()" id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
<div id='borde'>

    <div id="cabecera">

        <a href='index.html'><img id='logo1' alt='' src="styles/prosilver/theme/ima_cabecera/logo_1.png" width="286" height="50" name="logo1" /></a>

        <div id="navi">
            <ul>
                <li><a href="../index.html">Web</a></li>
                <li id='actual'><a href="index.html">Foro</a></li>
            </ul>
        </div>

    </div>


<div class='barra_usuario'>
        <ul>
                <li class='regresar'><a href='../index.html'>Regresar a la web</a></li>
                <li class='buscar'><a href="search.php.html">Buscar</a></li>

                
                <li class='registrar'><a href="ucp.php-mode=register.html">Registrarse</a></li>

                <li class='registrar'><a href="ucp.php-mode=login.html">Identificarse</a>
                </li>
                

        </ul>
</div>




	<a name="start_here"></a>
	<div id="page-body">
		<ul style='font-size: 14px' class="linklist">
                    <li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
                    </ul>
<h2><a href="viewtopic.php-f=6&amp;t=79&amp;start=0.html">rotozoomSurfaceXY que ocurre?</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Tratamos sobre el manejo de APIs frecuentemente utilizadas en el desarrollo de videojuegos, como SDL, pygame o SFML.<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=6&amp;t=79.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="post" id="topic-search" action="search.php-t=79.html">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Buscar este tema…" onclick="if(this.value=='Buscar este tema…')this.value='';" onblur="if(this.value=='')this.value='Buscar este tema…';" />
				<input class="button2" type="submit" value="Buscar" />
				<input type="hidden" value="79" name="t" />
				<input type="hidden" value="msgonly" name="sf" />
			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			8 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p273" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="#p273">rotozoomSurfaceXY que ocurre?</a></h3>
			<p class="author"><a href="viewtopic.php-p=273.html#p273"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=893.html">astut</a></strong> &raquo; Sab Abr 21, 2007 1:13 pm </p>

			

			<div class="content">Bueno uso esta funcion, pero cada vez que la utilizo en mi programa la imagen se aleja cada vez mas de su centro y ademas se &quot;deforma&quot;, utilizo el siguiente metodo:
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>void CImagen::CfgAngulo&#40;int angulo,int imagen&#41;<br />&#123;<br /> repositorio&#91;imagen&#93;= rotozoomSurfaceXY&#40;repositorio&#91;imagen&#93;,angulo,1,-1,0&#41;;<br />&#125;</code></dd></dl>
<br />¿Como deberia utilizarlo? esque los parametros no me quedan claros, solo los 2 primeros, gracias</div>

			

		</div>

		
			<dl class="postprofile" id="profile273">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=893.html">astut</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 7</dd><dd><strong>Registrado:</strong> Vie Mar 16, 2007 9:20 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p274" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p274"></a></h3>
			<p class="author"><a href="viewtopic.php-p=274.html#p274"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=8.html">rcaf</a></strong> &raquo; Sab Abr 21, 2007 7:42 pm </p>

			

			<div class="content">En realidad no debería deformarse ya que el factor de escalamiento en el eje x e y siempre es el mismo, solo estás cambiando el ángulo.
<br />
<br />Pero ojo que deberías crear una superficie temporal donde guardes la superficie modificada (ya rotada), luego copiar a la pantalla la superficie temporal, y por último eliminar la memoria de la superficie temporal.
<br />
<br />El prototipo de la función rotozoomSurfaceXY es:
<br />
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>SDL_Surface * rotozoomSurfaceXY &#40;SDL_Surface *src, double angle, double zoomx, double zoomy, int smooth&#41;;<br /></code></dd></dl><br /><br />- Devuelve una superficie ya modificada (rotada y/o escalada).<br /><br />- El primero parámetro src, es la superficie original a modificar.<br /><br />- El segundo parámetro es el ángulo con que rotarás la superficie y medido en  grados (0-360)<br /><br />- El tercer y cuarto parámetro es el factor de escalamiento que aplicarás a la superficie, en el eje x e y respectivamente. Un valor de 1.0 corresponde al tamaño original.<br /><br />- Y el último parámetro corresponde a un flag que indica si se dibujará o no con anti-aliasing.<br /><br />Yo utilizo la siguiente función para dibujar superficies escaladas y/o rotadas en la pantalla:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>void DrawSurface&#40;SDL_Surface *src, int x, int y, float zoomx, float zoomy, float angle&#41;<br />&#123;<br />&nbsp; &nbsp; // Superficie temporal con las modificaciones correspondientes<br />&nbsp; &nbsp; SDL_Surface *tmp;<br /><br />&nbsp; &nbsp; // Posición donde dibujaremos la superficie en pantalla<br />&nbsp; &nbsp; SDL_Rect pos=&#123;x, y, 0, 0&#125;;<br /><br />&nbsp; &nbsp; // Creamos superficie rotada y/o escalada sin anti-aliasing<br />&nbsp; &nbsp; tmp=rotozoomSurfaceXY&#40;src, angle, zoomx, zoomy, 0&#41;;<br /><br />&nbsp; &nbsp; // Dibujamos en pantalla la nueva superficie<br />&nbsp; &nbsp; // Nota: screen es la variable que nos devolvió <br />&nbsp; &nbsp; // la función SDL_SetVideoMode<br />&nbsp; &nbsp; SDL_BlitSurface&#40;tmp, NULL, screen, &amp;pos&#41;;<br /><br />&nbsp; &nbsp; // Eliminamos de la memoria la superficie temporal<br />&nbsp; &nbsp; SDL_FreeSurface&#40;tmp&#41;;<br />&#125;<br /></code></dd></dl>
<br />
<br />Saludos!</div>

			<div id="sig274" class="signature">Roberto Albornoz Figueroa
<br /><a href="http://www.rcafsoft.com/blogrcaf/" class="postlink">Mi Blog</a>
<br /><a href="http://www.rcafsoft.com/blogrcaf/wiki/" class="postlink">Wiki</a></div>

		</div>

		
			<dl class="postprofile" id="profile274">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=8.html"><img src="download/8-avatar=8.jpg" width="64" height="64" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=8.html">rcaf</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 71</dd><dd><strong>Registrado:</strong> Jue Ago 10, 2006 4:35 am</dd><dd><strong>Ubicación:</strong> Concepción, Octava Región. Chile</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://www.rcafsoft.com/blogrcaf/" title="WWW: http://www.rcafsoft.com/blogrcaf/"><span>Sitio web</span></a></li><li class="icq-icon"><a href="http://www.icq.com/people/webmsg.php?to=163128463" onclick="popup(this.href, 550, 320); return false;" title="ICQ"><span>ICQ</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p275" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p275"></a></h3>
			<p class="author"><a href="viewtopic.php-p=275.html#p275"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=8.html">rcaf</a></strong> &raquo; Sab Abr 21, 2007 8:15 pm </p>

			

			<div class="content">Me falto comentar un detalle de la función anterior.
<br />
<br />Si estás dibujando y rotando una imagen, esta se rotará por defecto con respecto al punto (0,0) de la imagen, lo que provocará que la rotación no se vea bien.
<br />
<br />La solución es suponer que rotamos con respecto al centro de la imagen, lo que significará que la posición (x, y) no hará referencia al punto (0,0) sino al centro (cx, cy) de la imagen, por lo tanto antes de dibujar la imagen en pantalla deberás restarle a cada eje, la mitad de la diferencia de las dimensiones de la imagen resultante y la imagen inicial, me explico:
<br />
<br /><span style="font-weight: bold">src</span> es la superficie original
<br /><span style="font-weight: bold">tmp</span> la superficie resultante (rotada o escalada)
<br />
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>pos.x -= &#40;tmp-&gt;w - src-&gt;w&#41; / 2;<br />pos.y -= &#40;tmp-&gt;h - src-&gt;h&#41; / 2;<br /></code></dd></dl><br /><br />Por lo tanto el código anterior con la nueva modificación quedaría de la siguiente forma:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>void DrawSurface&#40;SDL_Surface *src, int x, int y, float zoomx, float zoomy, float angle&#41;<br />&#123;<br />&nbsp; &nbsp; // Superficie temporal con las modificaciones correspondientes<br />&nbsp; &nbsp; SDL_Surface *tmp;<br /><br />&nbsp; &nbsp; // Posición donde dibujaremos la superficie en pantalla<br />&nbsp; &nbsp; SDL_Rect pos=&#123;x, y, 0, 0&#125;;<br /><br />&nbsp; &nbsp; // Creamos superficie rotada y/o escalada sin anti-aliasing<br />&nbsp; &nbsp; tmp=rotozoomSurfaceXY&#40;src, angle, zoomx, zoomy, 0&#41;;<br /><br />&nbsp; &nbsp; // Arreglo posición de la imagen ya que la rotación<br />&nbsp; &nbsp; // es con respecto al centro de la imagen<br />&nbsp; &nbsp; pos.x -= &#40;tmp-&gt;w - src-&gt;w&#41; / 2;<br />&nbsp; &nbsp; pos.y -= &#40;tmp-&gt;h - src-&gt;h&#41; / 2;<br /><br />&nbsp; &nbsp; // Dibujamos en pantalla la nueva superficie<br />&nbsp; &nbsp; // Nota: screen es la variable que nos devolvió <br />&nbsp; &nbsp; // la función SDL_SetVideoMode<br />&nbsp; &nbsp; SDL_BlitSurface&#40;tmp, NULL, screen, &amp;pos&#41;;<br /><br />&nbsp; &nbsp; // Eliminamos de la memoria la superficie temporal<br />&nbsp; &nbsp; SDL_FreeSurface&#40;tmp&#41;;<br />&#125;<br /></code></dd></dl></div>

			<div id="sig275" class="signature">Roberto Albornoz Figueroa
<br /><a href="http://www.rcafsoft.com/blogrcaf/" class="postlink">Mi Blog</a>
<br /><a href="http://www.rcafsoft.com/blogrcaf/wiki/" class="postlink">Wiki</a></div>

		</div>

		
			<dl class="postprofile" id="profile275">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=8.html"><img src="download/8-avatar=8.jpg" width="64" height="64" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=8.html">rcaf</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 71</dd><dd><strong>Registrado:</strong> Jue Ago 10, 2006 4:35 am</dd><dd><strong>Ubicación:</strong> Concepción, Octava Región. Chile</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://www.rcafsoft.com/blogrcaf/" title="WWW: http://www.rcafsoft.com/blogrcaf/"><span>Sitio web</span></a></li><li class="icq-icon"><a href="http://www.icq.com/people/webmsg.php?to=163128463" onclick="popup(this.href, 550, 320); return false;" title="ICQ"><span>ICQ</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p276" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p276"></a></h3>
			<p class="author"><a href="viewtopic.php-p=276.html#p276"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=893.html">astut</a></strong> &raquo; Sab Abr 21, 2007 9:38 pm </p>

			

			<div class="content">Gracias, aunque prefiero usar una funcion aparte de la de dibujado para mayor organizacion (CfgAngulo), bueno, ahora pretendo que el angulo de la imagen apunte hacia la posicion del raton:
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>if &#40;evento.type== SDL_MOUSEMOTION&#41;<br />&nbsp; &nbsp; avion.CfgAngulo&#40;evento.motion.x,1&#41;;</code></dd></dl>
<br />Vale, pero es la coordenada x... de que forma ago que apunte hacia el raton???, gracias!! ^^</div>

			

		</div>

		
			<dl class="postprofile" id="profile276">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=893.html">astut</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 7</dd><dd><strong>Registrado:</strong> Vie Mar 16, 2007 9:20 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p277" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p277"></a></h3>
			<p class="author"><a href="#p277"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=3.html" style="color: #AA0000;" class="username-coloured">hugoruscitti</a></strong> &raquo; Dom Abr 22, 2007 3:37 am </p>

			

			<div class="content">Saludos,
<br />
<br />Pienso que el problema de la 'deformación' que sufren los gráficos al ser
<br />modificados es a causa de como están compuestas las imágenes. Como indica uno de
<br />los tutoriales de RCAF[1], cada imagen está compuesta de diferentes pixeles y
<br />una transformación como la rotación 'reordena' dichos pixeles en nuevas
<br />posiciones y esto generalmente no es reversible.
<br />
<br />En tu función 'CfgAngulo' la transformación de rotación se realiza todo el
<br />tiempo sobre la misma imagen, por lo tanto cada transformación deteriora aún
<br />mas la imagen original, mira este ejemplo:
<br />
<br /><img src="http://www.losersjuegos.com.ar/incoming/temporales/rotacion.png" alt="Imagen" />
<br />
<br />en el primer caso se muestra el deterioro que sufre una superficie cuando se
<br />'transforma' muchas veces sobre sí misma, como lo hace tu método. En cambio, el 
<br />segundo caso muestra como quedan las rotaciones cuando 
<br />se calculan a partir de la imagen original, como lo realiza la función de RCAF
<br />(DrawSurface). 
<br />
<br />Como sugerencia te recomiendo que utilices la función que desarrolló RCAF o 
<br />tengas en cuenta este detalle para modificar el funcionamiento del método 
<br />'CfgAngulo', la idea del cambio sería 'calcular la rotación desde el cuadro
<br />original sin alterarlo'.
<br />
<br />
<br /><blockquote class="uncited"><div>bueno, ahora pretendo que el angulo de la imagen apunte hacia la posicion del<br />raton</div></blockquote>
<br />
<br />En este caso, tendrías que calcular el ángulo que determinan el centro de la
<br />imagen (x, y) y la posición del punto (mouse_x, mouse_y). Para ello podrías
<br />utilizan la función trigonométrica 'arco-tangente'. Sería algo así:
<br />
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>#include &lt;math.h&gt;<br />#define PI 3.1415927<br /><br />void dibujar_superficie_mirando_el_puntero&#40;SDL_Surface * src, SDL_Surface * screen&#41;<br />&#123;<br />&nbsp; &nbsp; int x = 200;&nbsp; &nbsp; &nbsp; &nbsp; /* centro de la imagen a imprimir */<br />&nbsp; &nbsp; int y = 200;&nbsp; &nbsp; &nbsp; &nbsp; /* centro de la imagen a imprimir */<br />&nbsp; &nbsp; int mouse_x, mouse_y;<br />&nbsp; &nbsp; int distancia_x, distancia_y;<br />&nbsp; &nbsp; float angulo;<br /><br />&nbsp; &nbsp; SDL_GetMouseState&#40;&amp;x, &amp;y&#41;;<br /><br />&nbsp; &nbsp; distancia_x = abs&#40;mouse_x - x&#41;;<br />&nbsp; &nbsp; distancia_y = abs&#40;mouse_y - y&#41;;<br /><br />&nbsp; &nbsp; angulo = &#40;atan2&#40;-distancia_y, distancia_x&#41; * 180&#41; / PI;<br /><br />&nbsp; &nbsp; DrawSurface&#40;src, x, y, 1.0, 1.0, angulo&#41;;<br />&#125;<br /></code></dd></dl>
<br />
<br />Si este código funciona... debería imprimir la superficie que le envíes como
<br />parámetro 'rotada' en la dirección a donde apunta el mouse. Habría que probarlo,
<br />imagino que funcionará. La imagen original debería señalar hacia la derecha
<br />(angulo 0).
<br />
<br />Si añades una función como esta a tu programa recuerda indicarle al
<br />compilador el parámetro '-lm' en el momento que quiera enlazar el programa para
<br />generar un programa ejecutable. Así se vincula la biblioteca matemática que 
<br />implementa la función 'atan2' a tu programa, de otra forma falla.
<br />
<br />Ah, también sería bueno que consultes el artículo 'usando seno y coseno'[2] donde
<br />se que explica como utilizar estas funciones trigonométricas.
<br />
<br />Buena suerte.
<br />
<br />Referencias:
<br />    
<br />    1 - <!-- m --><a class="postlink" href="http://www.losersjuegos.com.ar/referencia/articulos/conceptos_basicos/conceptos_basicos.php">http://www.losersjuegos.com.ar/referenc ... asicos.php</a><!-- m -->
<br />    2 - <!-- m --><a class="postlink" href="http://www.losersjuegos.com.ar/referencia/articulos/seno_coseno/seno_coseno.php">http://www.losersjuegos.com.ar/referenc ... coseno.php</a><!-- m --></div>

			<div id="sig277" class="signature">Hugo Ruscitti
<br /><!-- w --><a class="postlink" href="http://www.losersjuegos.com.ar">www.losersjuegos.com.ar</a><!-- w --></div>

		</div>

		
			<dl class="postprofile" id="profile277">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=3.html"><img src="download/3-avatar=3_1295438267.jpg" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=3.html" style="color: #AA0000;" class="username-coloured">hugoruscitti</a>
			</dt>

			<dd>Site Admin</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 1242</dd><dd><strong>Registrado:</strong> Dom Jul 30, 2006 3:57 am</dd><dd><strong>Ubicación:</strong> Buenos Aires, Argentina</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://www.losersjuegos.com.ar" title="WWW: http://www.losersjuegos.com.ar"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p278" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p278"></a></h3>
			<p class="author"><a href="viewtopic.php-p=278.html#p278"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=8.html">rcaf</a></strong> &raquo; Dom Abr 22, 2007 5:44 am </p>

			

			<div class="content">El código que publicó Hugo está bien, excepto algunos detalles que noté:
<br />
<br />Primero, la llamada a la función <span style="font-weight: bold">GetMouseState</span> se encuentra con las variables incorrectas, debe ser:
<br />
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>SDL_GetMouseState&#40;&amp;mouse_x, &amp;mouse_y&#41;; <br /></code></dd></dl><br /><br />Segundo, el cálculo del ángulo entre los dos vectores se debe realizar sin el valor absoluto, ya que al usar <span style="font-weight: bold">abs()</span> estamos limitando el movimiento de la imagen solo a un cuadrante, por lo tanto el cálculo debería ser de la siguiente forma:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>distancia_x = mouse_x - cx;<br />distancia_y = mouse_y - cy;<br /><br />angulo = &#40;atan2&#40;distancia_y, distancia_x&#41; * 180&#41; / PI; <br /></code></dd></dl><br /><br />Por último una acotación, podrías agregar una condición para que cambie el ángulo solo cuando el puntero del mouse se encuentre fuera del área de la imagen, es decir:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>distancia_x = mouse_x - cx;<br />distancia_y = mouse_y - cy;<br /><br />// En este caso si utilizamos valor absoluto<br />if&#40;abs&#40;distancia_x&#41; &gt; ancho_imagen || abs&#40;distancia_y&#41; &gt; alto_imagen&#41;<br />&#123;<br />&nbsp; angulo = &#40;atan2&#40;distancia_y, distancia_x&#41; * 180&#41; / PI; <br />&#125;<br /></code></dd></dl><br /><br />Resumiendo, el código general en el ciclo de eventos debería quedar así:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>if &#40;evento.type == SDL_MOUSEMOTION&#41;<br />&#123;<br />&nbsp; // Obtenemos posición actual del mouse<br />&nbsp; int mouse_x=evento.motion.x;<br />&nbsp; int mouse_y=evento.motion.y;<br /><br />&nbsp; // &#40;cx, cy&#41; coordenadas del centro de la imagen<br />&nbsp; int distancia_x = mouse_x - cx;<br />&nbsp; int distancia_y = mouse_y - cy;<br /><br />&nbsp; // Si el puntero del mouse está fuera del área de la imagen<br />&nbsp; // obtenemos el ángulo entre los dos vectores<br />&nbsp; // ancho_imagen, alto_imagen dimensiones de la imagen<br />&nbsp; if&#40;abs&#40;distancia_x&#41; &gt; ancho_imagen || abs&#40;distancia_y&#41; &gt; alto_imagen&#41;<br />&nbsp; &#123;<br />&nbsp; &nbsp; &nbsp; angulo = &#40;atan2&#40;distancia_y, distancia_x&#41; * 180&#41; / PI; <br />&nbsp; &#125;<br />&#125;<br /></code></dd></dl><br /><br />o utilizando mouse polling:<br /><br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>// Guardará la posición del mouse<br />int mouse_x, mouse_y;<br /><br />// Obtenemos posición actual del mouse<br />SDL_GetMouseState&#40;&amp;mouse_x, &amp;mouse_y&#41;;<br /><br />// &#40;cx, cy&#41; coordenadas del centro de la imagen<br />int distancia_x = mouse_x - cx;<br />int distancia_y = mouse_y - cy;<br /><br />// Si el puntero del mouse está fuera del área de la imagen<br />// obtenemos el ángulo entre los dos vectores<br />// ancho_imagen, alto_imagen dimensiones de la imagen<br />if&#40;abs&#40;distancia_x&#41; &gt; ancho_imagen || abs&#40;distancia_y&#41; &gt; alto_imagen&#41;<br />&#123;<br />&nbsp; &nbsp; angulo = &#40;atan2&#40;distancia_y, distancia_x&#41; * 180&#41; / PI; <br />&#125;<br /></code></dd></dl>
<br />
<br />Saludos!</div>

			<div id="sig278" class="signature">Roberto Albornoz Figueroa
<br /><a href="http://www.rcafsoft.com/blogrcaf/" class="postlink">Mi Blog</a>
<br /><a href="http://www.rcafsoft.com/blogrcaf/wiki/" class="postlink">Wiki</a></div>

		</div>

		
			<dl class="postprofile" id="profile278">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=8.html"><img src="download/8-avatar=8.jpg" width="64" height="64" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=8.html">rcaf</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 71</dd><dd><strong>Registrado:</strong> Jue Ago 10, 2006 4:35 am</dd><dd><strong>Ubicación:</strong> Concepción, Octava Región. Chile</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://www.rcafsoft.com/blogrcaf/" title="WWW: http://www.rcafsoft.com/blogrcaf/"><span>Sitio web</span></a></li><li class="icq-icon"><a href="http://www.icq.com/people/webmsg.php?to=163128463" onclick="popup(this.href, 550, 320); return false;" title="ICQ"><span>ICQ</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p279" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p279"></a></h3>
			<p class="author"><a href="viewtopic.php-p=279.html#p279"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=893.html">astut</a></strong> &raquo; Dom Abr 22, 2007 10:36 am </p>

			

			<div class="content">Muchas gracias, ¿y como hacer que la imagen valla hacia las coordenadas del raton?</div>

			

		</div>

		
			<dl class="postprofile" id="profile279">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=893.html">astut</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 7</dd><dd><strong>Registrado:</strong> Vie Mar 16, 2007 9:20 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p280" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p280"></a></h3>
			<p class="author"><a href="viewtopic.php-p=280.html#p280"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=8.html">rcaf</a></strong> &raquo; Dom Abr 22, 2007 6:26 pm </p>

			

			<div class="content"><blockquote><div><cite>astut escribió:</cite>Muchas gracias, ¿y como hacer que la imagen valla hacia las coordenadas del raton?</div></blockquote>
<br />
<br />¿Cómo un proyectil dirigido? y ¿Qué se mueva de forma automática?
<br />
<br />Si es así, solo debes mover la imagen en cada ciclo hacia el objetivo que serán las coordenadas del mouse. 
<br />
<br />Ya tenemos calculado el ángulo entre los dos vectores (la imagen y el puntero del mouse), por lo tanto en el ciclo del juego deberías realizar algo como esto:
<br />
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code><br />// Guardará la posición del mouse<br />int mouse_x, mouse_y;<br /><br />// Obtenemos posición actual del mouse<br />SDL_GetMouseState&#40;&amp;mouse_x, &amp;mouse_y&#41;;<br /><br />// &#40;cx, cy&#41; coordenadas del centro de la imagen<br />int distancia_x = mouse_x - cx;<br />int distancia_y = mouse_y - cy;<br /><br />// Si el puntero del mouse está fuera del área de la imagen<br />// obtenemos el ángulo entre los dos vectores<br />// ancho_imagen, alto_imagen dimensiones de la imagen<br />if&#40;abs&#40;distancia_x&#41; &gt; ancho_imagen || abs&#40;distancia_y&#41; &gt; alto_imagen&#41;<br />&#123;<br />&nbsp; &nbsp; angulo = &#40;atan2&#40;distancia_y, distancia_x&#41; * 180&#41; / PI;<br />&nbsp; &nbsp; mover_imagen=1; // la imagen se debe mover<br />&#125; <br />else mover_imagen=0; // la imagen se detiene<br /><br />// La imagen solo se mueve cuando el puntero del mouse está fuera<br />// del área de la imagen<br />if&#40;mover_imagen&#41;<br />&#123;<br />&nbsp; &nbsp;if &#40;speed &lt;= 10&#41; speed += 0.3;<br />&#125;<br />// El movimiento de la imagen se detiene cuando llega a su objetivo <br />// es decir, el puntero del mouse se encuentra dentro del área de<br />// la imagen<br />else <br />&#123;<br />&nbsp; &nbsp;speed=0;&nbsp; &nbsp; <br />&#125;<br /><br />// Calcula la coordenada x e y del vector velocidad<br />vel.x = speed * cos&#40;angulo*PI/180&#41;;<br />vel.y = speed * sin&#40;angulo*PI/180&#41;;<br /><br />// Movemos la imagen<br />pos.x += vel.x;<br />pos.y += vel.y;<br /></code></dd></dl>
<br />
<br />En el código anterior suponemos que tenemos una variable <span style="font-weight: bold">speed</span> que contiene la longitud del vector velocidad, una estructura llamada <span style="font-weight: bold">vel</span> con dos componentes x e y para almacenar el vector velocidad de la imagen, y por último otra estructura <span style="font-weight: bold">pos</span> con las componentes x e y para almacenar el vector posición de la imagen.
<br />
<br />Saludos!</div>

			<div id="sig280" class="signature">Roberto Albornoz Figueroa
<br /><a href="http://www.rcafsoft.com/blogrcaf/" class="postlink">Mi Blog</a>
<br /><a href="http://www.rcafsoft.com/blogrcaf/wiki/" class="postlink">Wiki</a></div>

		</div>

		
			<dl class="postprofile" id="profile280">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=8.html"><img src="download/8-avatar=8.jpg" width="64" height="64" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=8.html">rcaf</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 71</dd><dd><strong>Registrado:</strong> Jue Ago 10, 2006 4:35 am</dd><dd><strong>Ubicación:</strong> Concepción, Octava Región. Chile</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://www.rcafsoft.com/blogrcaf/" title="WWW: http://www.rcafsoft.com/blogrcaf/"><span>Sitio web</span></a></li><li class="icq-icon"><a href="http://www.icq.com/people/webmsg.php?to=163128463" onclick="popup(this.href, 550, 320); return false;" title="ICQ"><span>ICQ</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="viewtopic.php-f=6&amp;t=79&amp;start=0.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		
		<label>Mostrar mensajes previos: <select name="st" id="st"><option value="0" selected="selected">Todos los mensajes</option><option value="1">1 día</option><option value="7">7 días</option><option value="14">2 semanas</option><option value="30">1 mes</option><option value="90">3 meses</option><option value="180">6 meses</option><option value="365">1 año</option></select></label>
		<label>Ordenar por <select name="sk" id="sk"><option value="a">Autor</option><option value="t" selected="selected">Fecha publicación</option><option value="s">Asunto</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascendente</option><option value="d">Descendente</option></select> <input type="submit" name="sort" value="Ir" class="button2" /></label>
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=6&amp;t=79.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="pagination">
			8 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="viewforum.php-f=6.html" class="left-box left" accesskey="r">Volver a Sobre las bibliotecas multimedia</a></p>

	<form method="post" id="jumpbox" action="viewforum.php.html" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Saltar a:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Seleccione un Foro</option>
			<option value="-1">------------------</option>
				<option value="15">Proyecto Losersjuegos</option>
			
				<option value="1">&nbsp; &nbsp;Planificación y eventos</option>
			
				<option value="14">&nbsp; &nbsp;Asadetris</option>
			
				<option value="22">Pilas Engine</option>
			
				<option value="23">&nbsp; &nbsp;Anuncios de los desarrolladores</option>
			
				<option value="24">&nbsp; &nbsp;Consultas, problemas o bugs.</option>
			
				<option value="25">&nbsp; &nbsp;Proyectos usando pilas</option>
			
				<option value="26">&nbsp; &nbsp;Sugerencias e ideas</option>
			
				<option value="28">&nbsp; &nbsp;General</option>
			
				<option value="16">Sugerencias, proyectos e ideas</option>
			
				<option value="2">&nbsp; &nbsp;Artículos, traducciones y documentación</option>
			
				<option value="3">&nbsp; &nbsp;Ejemplos</option>
			
				<option value="4">&nbsp; &nbsp;Videojuegos</option>
			
				<option value="12">&nbsp; &nbsp;Propuestas de desarrollo y concursos</option>
			
				<option value="13">&nbsp; &nbsp;Inspiración y otras ideas interesantes</option>
			
				<option value="5">&nbsp; &nbsp;Otros</option>
			
				<option value="17">Consultas</option>
			
				<option value="6" selected="selected">&nbsp; &nbsp;Sobre las bibliotecas multimedia</option>
			
				<option value="7">&nbsp; &nbsp;Instalación de bibliotecas y herramientas</option>
			
				<option value="8">&nbsp; &nbsp;Sobre lenguajes de programación</option>
			
				<option value="9">&nbsp; &nbsp;General</option>
			
				<option value="20">&nbsp; &nbsp;3D</option>
			
				<option value="29">&nbsp; &nbsp;HTML5 y Javascript</option>
			
				<option value="30">&nbsp; &nbsp;Qt y pyqt</option>
			
				<option value="18">Otros</option>
			
				<option value="10">&nbsp; &nbsp;Fuera de tópico</option>
			
				<option value="11">&nbsp; &nbsp;Links interesantes</option>
			
			</select>
			<input type="submit" value="Ir" class="button2" />
		</fieldset>
	</form>


	<h3>¿Quién está conectado?</h3>
	<p>Usuarios navegando por este Foro: No hay usuarios registrados visitando el Foro y 0 invitados</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
				
			<li class="rightside"><a href="memberlist.php-mode=leaders.html">El Equipo</a> &bull; <a href="ucp.php-mode=delete_cookies.html">Borrar todas las cookies del Sitio</a> &bull; Todos los horarios son UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>



<div id="pie">

    <ul>
            <li class="contactenos"><a href="../comunidad/contactenos.html">Contáctenos</a></li>
                
                <li class="cc"><a href="http://creativecommons.org/licenses/by-sa/2.5/deed.es">Licencia de uso para el sitio</a></li>

                    <li class="foro"><a href="index.html">Foro de mensajes</a></li>

                        <li class="comunidad"><a href="../comunidad.html">Sobre el grupo ...</a></li>
                    </ul>
                </div>


</div> <!-- borde -->
</div>


<div class="copyright">
Este foro de mensajes funciona gracias al sistema <a href="http://www.phpbb.com/">phpBB</a>
<br/>
Tema visual personalizando por Hugo Ruscitti.
<br/>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	<img src="cron.php-cron_type=tidy_sessions.gif" width="1" height="1" alt="cron" />
</div>

</body>
</html>