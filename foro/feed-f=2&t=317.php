<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="es">
<link rel="self" type="application/atom+xml" href="http://losersjuegos.com.ar/foro/feed.php?f=2&amp;t=317" />

<title>LosersJuegos</title>
<subtitle>Desarrollando videojuegos libres</subtitle>
<link href="http://losersjuegos.com.ar/foro/index.php" />
<updated>2008-05-17T21:43:38+00:00</updated>

<author><name><![CDATA[LosersJuegos]]></name></author>
<id>http://losersjuegos.com.ar/foro/feed.php?f=2&amp;t=317</id>
<entry>
<author><name><![CDATA[hugoruscitti]]></name></author>
<updated>2008-05-17T21:43:38+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=317&amp;p=1405#p1405</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=317&amp;p=1405#p1405"/>
<title type="html"><![CDATA[Artillería apuntando a ratón (pygame)]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=317&amp;p=1405#p1405"><![CDATA[
<blockquote><div><cite>dvd escribió:</cite><br />Como veo que te gusta... si quieres subirlo a la sección de ejemplos, como ya te dije, tienes mi permiso.<br /></div></blockquote><br /><br />Perfecto, muchas gracias dvd, ahora mismo el programa está<br />disponible en la sección ejemplos de la web:<br /><br /><!-- m --><a class="postlink" href="http://www.losersjuegos.com.ar/referencia/ejemplos/ejemplos.php">http://www.losersjuegos.com.ar/referenc ... emplos.php</a><!-- m --><br /><br />Saludos, y felicitaciones por tu gran trabajo.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=3">hugoruscitti</a> — Sab May 17, 2008 9:43 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[endaramiz]]></name></author>
<updated>2008-05-11T12:14:06+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=317&amp;p=1380#p1380</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=317&amp;p=1380#p1380"/>
<title type="html"><![CDATA[Artillería apuntando a ratón (pygame)]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=317&amp;p=1380#p1380"><![CDATA[
<blockquote><div><cite>hugoruscitti escribió:</cite><br />Excelente, me gusta mucho este programa de ejemplo...<br /></div></blockquote>Muchas gracias. Pero si encuentras alguna cosa que mejorar, no la guardes. Yo había pensado en añadir (añadir, no mejorar lo anterior) la función de que los cañones girasen lentamente pero tengo dudas de si hacerlo o no, por que pienso que lo bueno de los ejemplos es que sean específicos y si se le empiezan a añadir cosas, quizás sea menos práctico. Bueno, ahora que lo pienso, una buena manera de hacerlo es como lo hiciste tu en el ejemplo de RPG, con archivos de código que iban aumentando paso por paso (se entendía muy bien).<br /><br />Como veo que te gusta... si quieres subirlo a la sección de ejemplos, como ya te dije, tienes mi permiso.<br /><br />Saludos.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=1809">endaramiz</a> — Dom May 11, 2008 12:14 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[hugoruscitti]]></name></author>
<updated>2008-05-09T16:09:04+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=317&amp;p=1368#p1368</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=317&amp;p=1368#p1368"/>
<title type="html"><![CDATA[Artillería apuntando a ratón (pygame)]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=317&amp;p=1368#p1368"><![CDATA[
Excelente, me gusta mucho este programa de ejemplo...<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=3">hugoruscitti</a> — Vie May 09, 2008 4:09 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[endaramiz]]></name></author>
<updated>2008-05-09T11:28:22+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=317&amp;p=1364#p1364</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=317&amp;p=1364#p1364"/>
<title type="html"><![CDATA[crado artillery.tar.gz]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=317&amp;p=1364#p1364"><![CDATA[
Hola, para ahorraros trabajo de copiar el código, guardar las imágenes... he creado un archivo .tar.gz con las dos imágenes y el código.<br /><br /><span style="font-weight: bold"><a href="http://example-artillery.googlecode.com/files/artillery_a.tar.gz" class="postlink">Download artillery.tar.gz</a></span><p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=1809">endaramiz</a> — Vie May 09, 2008 11:28 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[endaramiz]]></name></author>
<updated>2008-05-06T14:40:18+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=317&amp;p=1348#p1348</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=317&amp;p=1348#p1348"/>
<title type="html"><![CDATA[Artillería apuntando a ratón (pygame)]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=317&amp;p=1348#p1348"><![CDATA[
Ejemplo de un conjunto de artillería que apunta al lugar donde esté el puntero del ratón. Basado en el ejemplo <a href="http://www.losersjuegos.com.ar/foro/viewtopic.php?t=312" class="postlink">ojos</a>.<br /><br />Las imágenes que se utilizan son las siguientes. Para descargarlas: botón derecho del ratón y a &quot;guardar imagen como...&quot; en la misma carpeta que esté el código. Son libres (de copia, modificación y distribución), siendo yo el creador.<br /><img src="http://ciberia.ya.com/dvddvddvd/base.png" alt="Imagen" /> <img src="http://ciberia.ya.com/dvddvddvd/ca%C3%B1on.png" alt="Imagen" /><br />Las imágenes tiene la característica de que donde estaría el eje de rotación se sitúa en el centro de la imagen.<br /><br /><br /><dl class="codebox"><dt>Code: </dt><dd><code># -*- coding: utf-8 -*-<br />#<br /># Autor: David Ramírez<br /># Licencia: GPL 3<br /><br />import pygame<br />from pygame import *<br />from math import *<br /><br />resolucion = &#40;500, 300&#41;<br />color = &#40;255, 240, 220&#41;<br /><br />class Antiaereo &#40; sprite.Sprite&#41;:<br />    def __init__&#40;self, centro&#41;:<br />        #El antiaéreo se compone por un cañón que gira sobre el eje de una base<br />        sprite.Sprite.__init__&#40;self&#41;<br />        <br />        # Se crea la imagen de la base y su rectángulo<br />        self.img_base = pygame.image.load&#40;&quot;base.png&quot;&#41;.convert&#40;&#41;<br />        color_transparente = self.img_base.get_at&#40;&#40;0,0&#41;&#41;<br />        self.img_base.set_colorkey&#40;color_transparente&#41;<br />        self.rect_base = self.img_base.get_rect&#40;&#41;<br />        <br />        # Se crea la imagen del cañón y su rectángulo<br />        self.img_canyon = pygame.image.load&#40;&quot;cañon.png&quot;&#41;.convert&#40;&#41;<br />        color_transparente = self.img_canyon.get_at&#40;&#40;0, 0&#41;&#41;<br />        self.img_canyon.set_colorkey&#40;color_transparente&#41;<br />        self.rect_canyon = self.img_canyon.get_rect&#40;&#41;<br />        <br />        # Se crea la imagen del antiaéreo, su rectángulo y se sitúa<br />        self.image = Surface&#40;&#40;self.rect_canyon.width, self.rect_canyon.height&#41;&#41;.convert&#40;&#41;<br />        self.image.set_colorkey&#40;&#40;255,0,255&#41;&#41;<br />        self.rect = self.image.get_rect&#40;&#41;<br />        self.rect.center = centro<br />        <br />        self.centro = float&#40;centro&#91;0&#93;&#41;, float&#40;centro&#91;1&#93;&#41;<br />        <br />    def update&#40;self, pos_rat&#41;:<br />        # Se borra la imagen del antiaéreo y se dibuja, sobre ella, el cañón<br />        # girado y la base. Coincidiendo los 3 centros de las superficies en <br />        # la coordenada &quot;centro&quot;<br />        <br />        self.image.fill&#40;&#40;255,0,255&#41;&#41;<br />        <br />        self.canyon_g = self.mover_canyon&#40;self.img_canyon, pos_rat&#41;<br />        self.rect_canyon = self.canyon_g.get_rect&#40;&#41;<br />        <br />        self.image.blit&#40;self.img_base, &#40;&#40;self.rect.width / 2&#41; - &#40;self.rect_base.width / 2&#41;,<br />                        &#40;self.rect.height / 2&#41; - &#40;self.rect_base.height / 2&#41;&#41;&#41;<br />        self.image.blit&#40;self.canyon_g, &#40;&#40;self.rect.width / 2&#41; - &#40;self.rect_canyon.width / 2&#41;,<br />                        &#40;self.rect.height / 2&#41; - &#40;self.rect_canyon.height / 2&#41;&#41;&#41;<br />    def mover_canyon&#40;self, img_canyon, pos_rat&#41;:<br />        # Se devuelve la superficie del cañón girado, dependiendo de la<br />        # posición del ratón.<br />        # Para ello, hace falta saber el angulo exacto del centro a la posición<br />        # del ratón. Teniendo en cuenta que tan&#40;ángulo&#41; == tan&#40;ángulo + pi&#41;.<br />        if &#40;pos_rat&#91;0&#93; - self.centro&#91;0&#93;&#41; == 0:<br />            if pos_rat&#91;1&#93; &gt; self.centro&#91;1&#93;:<br />                a = pi / 2<br />            else:<br />                a = -pi / 2<br />        else:<br />            if pos_rat&#91;0&#93; &gt; self.centro&#91;0&#93;:<br />                a = atan&#40;&#40;self.centro&#91;1&#93; - pos_rat&#91;1&#93;&#41; / &#40;self.centro&#91;0&#93; - pos_rat&#91;0&#93;&#41;&#41;<br />            else:<br />                a = pi + atan&#40;&#40;self.centro&#91;1&#93; - pos_rat&#91;1&#93;&#41; / &#40;self.centro&#91;0&#93; - pos_rat&#91;0&#93;&#41;&#41;<br />                <br />        canyon_girado = transform.rotate&#40;img_canyon, degrees&#40;-a&#41;&#41;<br />        return canyon_girado<br />            <br /><br />def main&#40;&#41;:<br />    # Se crea la pantalla con la resolución determinada <br />    screen = pygame.display.set_mode&#40;resolucion&#41;<br />    # Se crea el conjunto de artillería y se añaden varios antiaéreos<br />    # en distintas posiciones.<br />    artilleria = pygame.sprite.Group&#40;&#41;<br />    for a in range&#40;1, 9&#41;:<br />        artilleria.add&#40;Antiaereo&#40;&#40; -15 + a * 60, 60 + sin&#40;a&#41; * 40&#41;&#41;&#41;<br />    <br />    while True:<br />        for event in pygame.event.get&#40;&#41;:<br />            if event.type == QUIT:<br />                # Finaliza el programa si hay un evento de cerrar<br />                return<br />        screen.fill&#40;color&#41;  # Se pinta la pantalla<br />        pos = mouse.get_pos&#40;&#41;  # Se obtiene la posición del ratón<br />        artilleria.update&#40;pos&#41;  # Se actualizan la artillería dependiendo de &quot;pos&quot;<br />        artilleria.draw&#40;screen&#41;  # Se dibuja la artillería<br />        display.update&#40;&#41;  # Se actualiza la pantalla<br /><br />if __name__ == '__main__':<br />    main&#40;&#41;</code></dd></dl><br /><br />Espero que disfrutéis con él. Lo siento si hay algún error, no he podido dedicarle mucho tiempo. En caso de ver alguno, agradecería un aviso para que lo pueda rectificar.<br /><br />Saludos.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=1809">endaramiz</a> — Mar May 06, 2008 2:40 pm</p><hr />
]]></content>
</entry>
</feed>