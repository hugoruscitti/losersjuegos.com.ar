<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="es" xml:lang="es">
<head>

<meta http-equiv="content-type" content="text/html; charset=UTF-8" />
<meta http-equiv="content-style-type" content="text/css" />
<meta http-equiv="content-language" content="es" />
<meta http-equiv="imagetoolbar" content="no" />
<meta name="resource-type" content="document" />
<meta name="distribution" content="global" />
<meta name="copyright" content="2000, 2002, 2005, 2007 phpBB Group" />
<meta name="keywords" content="" />
<meta name="description" content="" />
<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

<title>LosersJuegos &bull; Ver Tema - Pygame: Colisiones y áreas de desplazamiento..</title>

<link rel="alternate" type="application/atom+xml" title="Feed - LosersJuegos" href="feed.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Nuevos Temas" href="feed-mode=topics.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Foro - General" href="feed-f=9.php" /><link rel="alternate" type="application/atom+xml" title="Feed - Tema - Pygame: Colisiones y áreas de desplazamiento.." href="feed-f=9&amp;t=379.php" />

<!--
	phpBB style name: prosilver
	Based on style:   prosilver (this is the default phpBB3 style)
	Original author:  Tom Beddard ( http://www.subBlue.com/ )
	Modified by:

	NOTE: This page was generated by phpBB, the free open-source bulletin board package.
	      The phpBB Group is not responsible for the content of this page and forum. For more information
	      about phpBB please visit http://www.phpbb.com
-->

<script type="text/javascript">
// <![CDATA[
	var jump_page = 'Introduzca el número de página al que desea saltar:';
	var on_page = '1';
	var per_page = '';
	var base_url = '';
	var style_cookie = 'phpBBstyle';
	var style_cookie_settings = '; path=/; domain=.losersjuegos.com.ar';
	var onload_functions = new Array();
	var onunload_functions = new Array();

	

	/**
	* Find a member
	*/
	function find_username(url)
	{
		popup(url, 760, 570, '_usersearch');
		return false;
	}

	/**
	* New function for handling multiple calls to window.onload and window.unload by pentapenguin
	*/
	window.onload = function()
	{
		for (var i = 0; i < onload_functions.length; i++)
		{
			eval(onload_functions[i]);
		}
	}

	window.onunload = function()
	{
		for (var i = 0; i < onunload_functions.length; i++)
		{
			eval(onunload_functions[i]);
		}
	}

// ]]>
</script>
<script type="text/javascript" src="styles/prosilver/template/styleswitcher.js"></script>
<script type="text/javascript" src="styles/prosilver/template/forum_fn.js"></script>

<link href="styles/prosilver/theme/print.css" rel="stylesheet" type="text/css" media="print" title="printonly" />
<link href="style.php-id=3&amp;lang=en&amp;sid=4ec7bd6b5b400f7171476bb35f8261c6.css" rel="stylesheet" type="text/css" media="screen, projection" />

<link href="styles/prosilver/theme/normal.css" rel="stylesheet" type="text/css" title="A" />
<link href="styles/prosilver/theme/medium.css" rel="alternate stylesheet" type="text/css" title="A+" />
<link href="styles/prosilver/theme/large.css" rel="alternate stylesheet" type="text/css" title="A++" />




<link href="styles/prosilver/theme/header.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/barrausuario.css" rel="stylesheet" type="text/css"/>
<link href="styles/prosilver/theme/design.css" rel="stylesheet" type="text/css"/>

<link href="styles/prosilver/theme/src/prettify.css" type="text/css" rel="stylesheet" />
<script src="styles/prosilver/theme/src/prettify.js" type="text/javascript"></script>


</head>


<body onload="prettyPrint()" id="phpbb" class="section-viewtopic ltr">

<div id="wrap">
<div id='borde'>

    <div id="cabecera">

        <a href='index.html'><img id='logo1' alt='' src="styles/prosilver/theme/ima_cabecera/logo_1.png" width="286" height="50" name="logo1" /></a>

        <div id="navi">
            <ul>
                <li><a href="../index.html">Web</a></li>
                <li id='actual'><a href="index.html">Foro</a></li>
            </ul>
        </div>

    </div>


<div class='barra_usuario'>
        <ul>
                <li class='regresar'><a href='../index.html'>Regresar a la web</a></li>
                <li class='buscar'><a href="search.php.html">Buscar</a></li>

                
                <li class='registrar'><a href="ucp.php-mode=register.html">Registrarse</a></li>

                <li class='registrar'><a href="ucp.php-mode=login.html">Identificarse</a>
                </li>
                

        </ul>
</div>




	<a name="start_here"></a>
	<div id="page-body">
		<ul style='font-size: 14px' class="linklist">
                    <li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
                    </ul>
<h2><a href="viewtopic.php-f=9&amp;t=379&amp;start=0.html">Pygame: Colisiones y áreas de desplazamiento..</a></h2>
<!-- NOTE: remove the style="display: none" when you want to have the forum description on the topic body --><div style="display: none !important;">Consulte acerca de programas, técnicas, algoritmos etc.<br /></div>

<div class="topic-actions">

	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=9&amp;t=379.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="search-box">
			<form method="post" id="topic-search" action="search.php-t=379.html">
			<fieldset>
				<input class="inputbox search tiny"  type="text" name="keywords" id="search_keywords" size="20" value="Buscar este tema…" onclick="if(this.value=='Buscar este tema…')this.value='';" onblur="if(this.value=='')this.value='Buscar este tema…';" />
				<input class="button2" type="submit" value="Buscar" />
				<input type="hidden" value="379" name="t" />
				<input type="hidden" value="msgonly" name="sf" />
			</fieldset>
			</form>
		</div>
	
		<div class="pagination">
			12 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	

</div>
<div class="clear"></div>


	<div id="p1664" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 class="first"><a href="#p1664">Pygame: Colisiones y áreas de desplazamiento..</a></h3>
			<p class="author"><a href="viewtopic.php-p=1664.html#p1664"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1977.html">Bleed</a></strong> &raquo; Lun Sep 15, 2008 10:48 pm </p>

			

			<div class="content">Hola chicos.
<br />
<br />Este es mi primer mensaje en el foro y me parece que va a traer algo de guerra. No tengo mucho tiempo para dedicarme a esto, así que sólo puedo aprovechar los domingos y cuando las ganas me lo permiten. El problema que tengo está enfocado en otro contexto, pero he preparado un pequeño boceto para explicarlo mejor.
<br />
<br />Ejemplo gráfico:
<br /><img src="http://img377.imageshack.us/img377/1091/project2pm1.png" alt="Imagen" />
<br />
<br />Lo que quiero hacer, es que un Sprite (el cuadrado rojo) se pueda mover por la pantalla y que cuando colisione con una línea se detenga. Conectando varias líneas limitaríamos el espacio por el cual puede desplazarse y por lo tanto, estaríamos definiendo las limitaciones de un mapa. Para entenderlo mejor, podéis ver la metáfora del Sprite dentro de una Isla.
<br />
<br />El problema es que no se muy bien por donde empezar... ¿Guardo en una lista que píxeles limitan el mapa (1 a 1) y antes de mover el Sprite compruebo si el pixel de destino es un limitador? ¿Cómo resolveríais vosotros este problema?.Os pido ayuda y orientación. Gracias.</div>

			

		</div>

		
			<dl class="postprofile" id="profile1664">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1977.html">Bleed</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 3</dd><dd><strong>Registrado:</strong> Lun Sep 01, 2008 1:19 am</dd><dd><strong>Ubicación:</strong> Alicante</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1666" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p1666"></a></h3>
			<p class="author"><a href="viewtopic.php-p=1666.html#p1666"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a></strong> &raquo; Mar Sep 16, 2008 9:15 pm </p>

			

			<div class="content">Hola no se si te servirá de mucho mi respuesta porque durante esta semana voy a ir bastante mal de tiempo por culta de los estudios. Yo estuve pensando algo así para un minigolf (pero aún no lo he implementado). Tuve la idea de dividir los polígonos en triángulos y así poder calcular si un punto (puede ser un vértice del cuadrado) está dentro de ese triángulo.
<br />Lo siento pero no tengo más tiempo, esta semana es crucial para el resto del curso. Cuando la pase, con gusto te explico mi idea (que en teoría funciona, no la he probado) y escucho las de los demás a ver si entre todos encontramos la mejor manera.
<br />
<br />Saludos.</div>

			

		</div>

		
			<dl class="postprofile" id="profile1666">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html"><img src="download/1809-avatar=1809_1280195666.gif" width="70" height="70" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 283</dd><dd><strong>Registrado:</strong> Vie Ago 31, 2007 9:25 am</dd><dd><strong>Ubicación:</strong> Barcelona</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://twitter.com/endaramiz" title="WWW: http://twitter.com/endaramiz"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1667" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p1667"></a></h3>
			<p class="author"><a href="viewtopic.php-p=1667.html#p1667"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1977.html">Bleed</a></strong> &raquo; Mar Sep 16, 2008 9:33 pm </p>

			

			<div class="content">Muchas gracias por contestar, David.
<br />
<br />No se me había ocurrido plantear así la solución, de todos modos, no me acaba quedado muy claro en que cosiste. Cuando tengas más tiempo, ya le echaremos un buen vistazo a tu algoritmo. Suerte con los exámenes y espero con ansia tu aportación.
<br />
<br />¡Un saludo!</div>

			

		</div>

		
			<dl class="postprofile" id="profile1667">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1977.html">Bleed</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 3</dd><dd><strong>Registrado:</strong> Lun Sep 01, 2008 1:19 am</dd><dd><strong>Ubicación:</strong> Alicante</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1668" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p1668"></a></h3>
			<p class="author"><a href="viewtopic.php-p=1668.html#p1668"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=3.html" style="color: #AA0000;" class="username-coloured">hugoruscitti</a></strong> &raquo; Mié Sep 17, 2008 12:44 am </p>

			

			<div class="content">Saludos, creo que la idea de David puede funcionar muy bien. La idea
<br />sería, según entiendo, verificar colisiones al momento de mover el
<br />rectángulo. Las colisiones se verificarían entre las esquinas del
<br />rectángulo y una serie de triángulos construidos con los polígonos
<br />que nos muestras en las imágenes.
<br />
<br />Partamos de tu gráfico inicial:
<br />
<br /><img src="http://www.losersjuegos.com.ar/incoming/descargas/20080916/base.png" alt="Imagen" />
<br />
<br />Como analizar el área de un polígono es una tarea difícil, la recomendación
<br />de David nos puede servir: pensar el polígono como si se tratara de triángulos
<br />pequeños:
<br />
<br /><img src="http://www.losersjuegos.com.ar/incoming/descargas/20080916/triangulos.png" alt="Imagen" />
<br />
<br />Si bien juntos forman la figura, sería prudente almacenarlos en una estructura
<br />que nos permita tratarlos por separado. Así, cuando queramos analizar la
<br />superficie no importarán la cantidad de vértices, solo tendremos triángulos
<br />y un cuadrado:
<br />
<br /><img src="http://www.losersjuegos.com.ar/incoming/descargas/20080916/triangulo.png" alt="Imagen" />
<br />
<br />
<br />Ahora bien, imagina que comenzamos a desplazar el cuadrado por la pantalla
<br />libremente; Si no detenemos su movimiento se pueden presentar dos
<br />situaciones: que el cuadrado esté dentro o afuera del polígono original.
<br />
<br />El movimiento simplemente tiene que permitir movimientos dentro del
<br />polígono y prohibir movimientos fuera de él.
<br />
<br />La condición que nos permite conocer, de manera sencilla, si el cuadrado
<br />está dentro del triángulo son sus esquinas. Si está dentro del polígono, todas
<br />sus esquinas están dentro de algún triángulo. En cambio bastará con que una de
<br />sus esquinas esté fuera de un triángulo para considerar que el movimiento
<br />es incorrecto:
<br />
<br /><img src="http://www.losersjuegos.com.ar/incoming/descargas/20080916/dentro.png" alt="Imagen" />
<br />
<br />Esto es similar a lo que ocurre en un juego de plataformas cuando quieres
<br />controlar la caída de un personaje: solo tienes que realizar una prueba de
<br />movimiento antes de desplazar el objeto, si el movimiento de prueba deja el
<br />objeto dentro de la zona permitida confirmas el movimiento y en caso contrario
<br />lo descartas.
<br />
<br />
<br />Lamento no tener un ejemplo simple a mano, pero podría intentar escribir
<br />uno (en python creo que sería mas ilustrativo). Tú, ¿que lenguaje estás
<br />utilizando?.
<br />
<br />Por cierto, he visto que existen funciones para determinar colisiones entre
<br />puntos y triángulos. Si te parece buena la estrategia, podrías adaptar alguno
<br />de estos para tu programa:
<br />
<br />    <!-- m --><a class="postlink" href="http://www.angelfire.com/fl/houseofbartlett/solutions/line2tri.html">http://www.angelfire.com/fl/houseofbart ... e2tri.html</a><!-- m -->
<br />    <!-- m --><a class="postlink" href="http://www.stratos-ad.com/forums3/viewtopic.php?t=10076">http://www.stratos-ad.com/forums3/viewtopic.php?t=10076</a><!-- m -->
<br />
<br />Un saludo grande.</div>

			<div id="sig1668" class="signature">Hugo Ruscitti
<br /><!-- w --><a class="postlink" href="http://www.losersjuegos.com.ar">www.losersjuegos.com.ar</a><!-- w --></div>

		</div>

		
			<dl class="postprofile" id="profile1668">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=3.html"><img src="download/3-avatar=3_1295438267.jpg" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=3.html" style="color: #AA0000;" class="username-coloured">hugoruscitti</a>
			</dt>

			<dd>Site Admin</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 1242</dd><dd><strong>Registrado:</strong> Dom Jul 30, 2006 3:57 am</dd><dd><strong>Ubicación:</strong> Buenos Aires, Argentina</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://www.losersjuegos.com.ar" title="WWW: http://www.losersjuegos.com.ar"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1671" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p1671"></a></h3>
			<p class="author"><a href="viewtopic.php-p=1671.html#p1671"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1977.html">Bleed</a></strong> &raquo; Mié Sep 17, 2008 2:55 am </p>

			

			<div class="content">Gracias por contestar, Hugo. He estado ojeando el asunto de los triángulos y aunque parece una posible opción, la encuentro algo limitada (sólo permitiría definir regiones cerradas).
<br />
<br />En un principio consideré el uso de líneas por la cantidad de posibilidades que estas ofrencen. Son muy flexibles ya que no sólo permiten definir polígonos. Quiero que echen un vistazo a este prototipo de RPG.
<br />
<br /><!-- m --><a class="postlink" href="http://past.soywiz.com/web_game/">http://past.soywiz.com/web_game/</a><!-- m -->
<br />
<br />Como podréis ver, a base de líneas se ha implementado lo que os venía comentado. Cada línea (internamente creo que son rectángulos) se trata de forma individual y haciendo coincidir el inicio de una con el fin de otra, forman polígonos de formas extremadamente complejas. Por este mismo motivo, aunque el uso de triángulos pueda ser interesante, la potencia y quizás la sensillez de las líneas (he mirado por encima las clases que usa el RPG y no se extienden demasiado) puedan aportar un abanico de posibilidades.
<br />
<br /><img src="http://img382.imageshack.us/img382/4407/project3rw1.png" alt="Imagen" />
<br />
<br />A ver si este fin de semana puedo estudiar más a fondo el código Javascript del RPG y saco algo más en clave. Me da la sensación, que la solución está en combinar ambas técnicas y sobretodo aprovechar el tema de los triángulos para regiones cerradas.
<br />
<br />Por cierto, en el ejemplo de la isla, añadí un pequeño lago para que también se tuviese en cuenta que cualquier parte del cuadrado fuese sensible a las colisiones.
<br />
<br /><img src="http://img382.imageshack.us/img382/4296/project2ap1.gif" alt="Imagen" />
<br /><span style="font-weight: bold">Gif animado</span>
<br />
<br />PD: Mi idea es trabajar con Python y Pygame.</div>

			

		</div>

		
			<dl class="postprofile" id="profile1671">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1977.html">Bleed</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 3</dd><dd><strong>Registrado:</strong> Lun Sep 01, 2008 1:19 am</dd><dd><strong>Ubicación:</strong> Alicante</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p1672" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p1672"></a></h3>
			<p class="author"><a href="viewtopic.php-p=1672.html#p1672"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=3.html" style="color: #AA0000;" class="username-coloured">hugoruscitti</a></strong> &raquo; Mié Sep 17, 2008 6:35 pm </p>

			

			<div class="content">Es cierto, no había pensado que las lineas ofrecían tanta
<br />versatilidad... el ejemplo web es muy interesante, sería bueno
<br />tratar de hacer algo así, al menos como ejemplo.
<br />
<br />Estuve buscando si existía alguna forma de hacer algo similar, 
<br />y en la página de pygame encontré funciones de utilidad para
<br />buscar distancia entre un punto y una linea:
<br />
<br />     <!-- m --><a class="postlink" href="http://www.pygame.org/project/357/">http://www.pygame.org/project/357/</a><!-- m -->
<br />
<br />con estas funciones busqué hacer un ejemplo mas simple, que
<br />en lugar de mover un rectángulo sea un punto... pero bueno, 
<br />tendría que mejorarlo para que funcionen mejor las colisiones y, 
<br />si funciona bien, extenderlo a un rectángulo:
<br />
<br />    <img src="http://www.losersjuegos.com.ar/incoming/descargas/20080917/figuras.png" alt="Imagen" />
<br />
<br />el programa muestra un punto rojo que se puede mover con el
<br />teclado por toda la ventana, excepto cruzando lineas:
<br />
<br />   <!-- m --><a class="postlink" href="http://www.losersjuegos.com.ar/incoming/descargas/20080917/test_lineas.tar.gz">http://www.losersjuegos.com.ar/incoming ... eas.tar.gz</a><!-- m --></div>

			<div id="sig1672" class="signature">Hugo Ruscitti
<br /><!-- w --><a class="postlink" href="http://www.losersjuegos.com.ar">www.losersjuegos.com.ar</a><!-- w --></div>

		</div>

		
			<dl class="postprofile" id="profile1672">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=3.html"><img src="download/3-avatar=3_1295438267.jpg" width="80" height="80" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=3.html" style="color: #AA0000;" class="username-coloured">hugoruscitti</a>
			</dt>

			<dd>Site Admin</dd>

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 1242</dd><dd><strong>Registrado:</strong> Dom Jul 30, 2006 3:57 am</dd><dd><strong>Ubicación:</strong> Buenos Aires, Argentina</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://www.losersjuegos.com.ar" title="WWW: http://www.losersjuegos.com.ar"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2102" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2102"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2102.html#p2102"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a></strong> &raquo; Vie Feb 13, 2009 7:45 pm </p>

			

			<div class="content">Perdón por olvidarme del tema.
<br />
<br />En el caso de un minigolf se necesita trabajar con rectas matemáticas. Pero, en este caso, ¿no sería mejor trabajar con colisión por pixel? Igualmente, para poder dibujar el mapa podría ser necesaria una máscara de bits. 
<br />No puedo profundizar mucho en el tema porque me estoy iniciando en él. Aunque intentaré hacer algún ejemplo para dentro de unos cuantos días.
<br />
<br />Respecto a lo de la triangulación, al ser un tema importante, hay bastantes algoritmos hechos.
<br />Yo miraría si un punto está dentro de un triángulo. Dividiendo un triángulo en una recta y un vértice suelto. Y que compruebe si el punto está más cerca que el otro vértice.  Esto se repetiría 2 veces más cogiendo la recta con vértices distintos.
<br />
<br />¿Alguna idea mejor?¿Algún caso para el que mi idea no funciona?
<br />
<br />Saludos.</div>

			

		</div>

		
			<dl class="postprofile" id="profile2102">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html"><img src="download/1809-avatar=1809_1280195666.gif" width="70" height="70" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 283</dd><dd><strong>Registrado:</strong> Vie Ago 31, 2007 9:25 am</dd><dd><strong>Ubicación:</strong> Barcelona</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://twitter.com/endaramiz" title="WWW: http://twitter.com/endaramiz"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2124" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2124"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2124.html#p2124"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2066.html">samu_dnet</a></strong> &raquo; Sab Feb 21, 2009 12:07 pm </p>

			

			<div class="content">no se en pyton como funciona, pero no seria mas facil comprobar donde esta el cuadrado antes de mandarle la funcion de que se mueva?? por ej:
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>evento_teclapulsada&#40;derecha&#41;<br />&#123;<br />&nbsp; &nbsp; &nbsp; if &#40;cuadrado_lateralderecho.x == punto_delalinea_en_X&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; //no hacer nada<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&nbsp; &nbsp; &nbsp; &nbsp;else<br />&nbsp; &nbsp; &nbsp; &nbsp;&#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; cuadrado.x += 1;<br />&nbsp; &nbsp; &nbsp; &nbsp; &#125;<br />&#125;<br /></code></dd></dl>
<br />
<br />lo mismo con la coordenada y.
<br />
<br />No se en pyton como se manejan los cuadrados pero si por ejemplo la coordenada del cuadrado es igual al punto central de este, si por ejemplo el cuadrado hace 20 x 20, diriamos que cuadrado lateral derecho seria cuadrado +10.</div>

			

		</div>

		
			<dl class="postprofile" id="profile2124">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2066.html">samu_dnet</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 6</dd><dd><strong>Registrado:</strong> Sab Feb 21, 2009 3:37 am</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2127" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2127"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2127.html#p2127"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a></strong> &raquo; Dom Feb 22, 2009 3:36 am </p>

			

			<div class="content">Respecto a la sugerencia dada por david, no valdría el uso de triángulos en este caso, puesto que puede darse el caso de que no se cumpla.
<br />
<br />He tratado de poner un ejemplo en la imagen, pero no se si se entenderá.
<br />
<br /><!-- m --><a class="postlink" href="http://img135.imageshack.us/my.php?image=dibujoe.jpg">http://img135.imageshack.us/my.php?image=dibujoe.jpg</a><!-- m -->
<br />
<br />Intentar calcular(a ojo) las distancias entre la arista opuesta a un vertice y el punto, y esta será siempre menor que la distancia entre la arista opuesta y el vertice</div>

			

		</div>

		
			<dl class="postprofile" id="profile2127">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html"><img src="download/2057-avatar=2057_1281526741.png" width="80" height="75" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=2057.html">Juanxo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 437</dd><dd><strong>Registrado:</strong> Sab Ene 31, 2009 2:34 am</dd><dd><strong>Ubicación:</strong> Madrid(España)</dd>

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2145" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2145"></a></h3>
			<p class="author"><a href="#p2145"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a></strong> &raquo; Mar Feb 24, 2009 5:59 pm </p>

			

			<div class="content"><blockquote><div><cite>Juanxo escribió:</cite>Respecto a la sugerencia dada por david, no valdría el uso de triángulos en este caso, puesto que puede darse el caso de que no se cumpla.</div></blockquote>
<br />Es verdad. No había tenido en cuenta ese caso. Intentaré buscar una solución algún día que tenga suficiente tiempo libre como para aburrirme.
<br />
<br />¿A alguien se le ocurre alguna otra idea?
<br />
<br />Saludos.</div>

			

		</div>

		
			<dl class="postprofile" id="profile2145">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html"><img src="download/1809-avatar=1809_1280195666.gif" width="70" height="70" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 283</dd><dd><strong>Registrado:</strong> Vie Ago 31, 2007 9:25 am</dd><dd><strong>Ubicación:</strong> Barcelona</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://twitter.com/endaramiz" title="WWW: http://twitter.com/endaramiz"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p2146" class="post bg2">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p2146"></a></h3>
			<p class="author"><a href="viewtopic.php-p=2146.html#p2146"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=6.html">Geo</a></strong> &raquo; Mar Feb 24, 2009 10:20 pm </p>

			

			<div class="content">Perdón si no he entendido muy bien el tema, pero a primera vista, lo que yo haría sería usar colisión pixel a pixel de la siguiente forma:
<br />
<br />- Primero verifico si hay colisión por rectángulo (bounding boxes), (basándome en la imagen que colocó Bleed donde define cada línea dentro de un rectángulo).
<br />- Si hay colisión por rectángulo, entonces procedo a verificar por cada pixel que define la recta.
<br />
<br />Hugo: no he podido ver las imágenes que colocaste.
<br />Bleed: tampoco he podido acceder al RPG al que enlazas.</div>

			<div id="sig2146" class="signature">La imaginación es el límite.<br />Visita <a href="http://hsblog.mexchip.com" class="postlink">mi blog</a> en inglés o <a href="http://hsblog.mexchip.com/es/" class="postlink">en español</a>.</div>

		</div>

		
			<dl class="postprofile" id="profile2146">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=6.html">Geo</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 244</dd><dd><strong>Registrado:</strong> Jue Ago 10, 2006 3:51 am</dd><dd><strong>Ubicación:</strong> México</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://hsblog.mexchip.com" title="WWW: http://hsblog.mexchip.com"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<div id="p3024" class="post bg1">
		<div class="inner"><span class="corners-top"><span></span></span>

		<div class="postbody">
			

			<h3 ><a href="#p3024"></a></h3>
			<p class="author"><a href="viewtopic.php-p=3024.html#p3024"><img src="styles/prosilver/imageset/icon_post_target.gif" width="11" height="9" alt="Nota" title="Nota" /></a>por <strong><a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a></strong> &raquo; Vie Nov 06, 2009 5:11 pm </p>

			

			<div class="content">Gracias Hugo! He vuelto a revisar el código con detenimiento y me ha dado muy buenas ideas. Pude parecer que funciona mal, pero es porque se desplaza demasiado rápido el punto.
<br />
<br />Lo de las rectas da mucho juego, pero respecto a lo de un punto en un triángulos, ya llevaba tiempo sin hacer una de mis publicaciones poco útiles así que allá voy:
<br />Siguiendo la linea que llevaba, creo que se podría sacar, pero se complicaría demasiado. Me explicaron un método más sencillo para lograrlo:
<br />Si tienes 3 puntos, A, B y P, donde A y B son 2 puntos de la recta, puedes saber si el punto P se encuentra a la &quot;derecha&quot; o a la &quot;izquierda&quot; (o justo encima) de la recta haciendo el determinante (simplificación para 2D del producto vectorial). Por ejemplo, si det((B-A), (P-A)) &gt; 0: el punto está girando en sentido antihorario (&quot;izquierda&quot; si miramos de A a B) a partir de la recta.
<br />Teniendo esto como base, si tenemos un triángulo A, B, C, y un punto P, si el punto P está en el mismo lado para AB, BC y CA, entonces el punto P está dentro del triángulo.
<br />
<br />También hay otro método (habrán muchos...) que leí en este tutorial: <!-- m --><a class="postlink" href="http://nehe.gamedev.net/data/articles/article.asp?article=10">http://nehe.gamedev.net/data/articles/a ... article=10</a><!-- m -->
<br />
<br />
<br />También me puse a investigar un poco sobre el tema de triangulación y al final conseguí resultados. El algoritmo consiste en saber si el polígono está dibujado de forma antihoraria o al revés, entonces se van cogiendo 3 puntos y con el método que he explicado antes, se mira si el punto del medio forma un ángulo agudo en el polígono, si tampoco hay ningún otro vértice en el triángulo que forman los 3 puntos, entonces se puede añadir a la lista de triángulos y borrar el vértice del medio.
<br />
<br />Como mis explicaciones son bastante malas, os pongo el código:
<br /><dl class="codebox"><dt>Código: <a href="#" onclick="selectCode(this); return false;">Seleccionar todo</a></dt><dd><code>#include &lt;iostream&gt;<br />#include &lt;SDL/SDL.h&gt;<br />#include &lt;GL/gl.h&gt;<br />#include &lt;cmath&gt;<br />#include &lt;list&gt;<br />using namespace std;<br /><br /><br />struct V &#123;<br />&nbsp; &nbsp; double x, y;<br />&nbsp; &nbsp; V operator -&#40;const V&amp;&#41; const;<br />&#125;;<br /><br />struct T &#123;<br />&nbsp; &nbsp; V p1, p2, p3;<br />&#125;;<br /><br />V V::operator-&#40;const V&amp; p2&#41; const&#123;<br />&nbsp; &nbsp;V tmp = &#123;x-p2.x, y-p2.y&#125;;<br />&nbsp; &nbsp;return tmp;<br />&#125;<br /><br />double hyp&#40;const V&amp; p1, const V&amp; p2&#41; &#123;<br />&nbsp; &nbsp; return sqrt&#40;pow&#40;p1.x-p2.x,2.&#41;+pow&#40;p1.y-p2.y,2.&#41;&#41;;<br />&#125;<br /><br />int det&#40;const V&amp; p1, const V&amp; p2&#41; &#123;<br />&nbsp; &nbsp;return p1.x*p2.y-p1.y*p2.x;<br />&#125;<br /><br />bool p_in_triangle2&#40;const V&amp; p0, const V&amp; p1, const V&amp; p2, const V&amp; p3&#41; &#123;<br />&nbsp; &nbsp; int o1 = det&#40;p2-p1, p0-p1&#41;;<br />&nbsp; &nbsp; int o2 = det&#40;p3-p2, p0-p2&#41;;<br />&nbsp; &nbsp; int o3 = det&#40;p1-p3, p0-p3&#41;;<br />&nbsp; &nbsp;return&#40;&#40;o1 &gt; 0 and o2 &gt; 0 and o3 &gt; 0&#41;<br />&nbsp; &nbsp;or&nbsp; &nbsp; &nbsp;&#40;o1 &lt; 0 and o2 &lt; 0 and o3 &lt; 0&#41;&#41;;<br />&#125;<br /><br />bool p_in_triangle1&#40;const V&amp; p0, const V&amp; p1, const V&amp; p2, const V&amp; p3&#41; &#123;<br />&nbsp; &nbsp; double a1 = hyp&#40;p1, p2&#41;;<br />&nbsp; &nbsp; double b1 = hyp&#40;p1, p0&#41;;<br />&nbsp; &nbsp; double c1 = hyp&#40;p0, p2&#41;;<br />&nbsp; &nbsp; double A1 = acos&#40;&#40;pow&#40;a1,2&#41;-&#40;pow&#40;b1,2&#41;+pow&#40;c1,2&#41;&#41;&#41;/double&#40;-2*b1*c1&#41;&#41;;<br /><br />&nbsp; &nbsp; double a2 = hyp&#40;p3, p2&#41;;<br />&nbsp; &nbsp; double b2 = hyp&#40;p3, p0&#41;;<br />&nbsp; &nbsp; double c2 = hyp&#40;p0, p2&#41;;<br />&nbsp; &nbsp; double A2 = acos&#40;&#40;pow&#40;a2,2&#41;-&#40;pow&#40;b2,2&#41;+pow&#40;c2,2&#41;&#41;&#41;/double&#40;-2*b2*c2&#41;&#41;;<br /><br />&nbsp; &nbsp; double a3 = hyp&#40;p3, p1&#41;;<br />&nbsp; &nbsp; double b3 = hyp&#40;p3, p0&#41;;<br />&nbsp; &nbsp; double c3 = hyp&#40;p0, p1&#41;;<br />&nbsp; &nbsp; double A3 = acos&#40;&#40;pow&#40;a3,2&#41;-&#40;pow&#40;b3,2&#41;+pow&#40;c3,2&#41;&#41;&#41;/double&#40;-2*b3*c3&#41;&#41;;<br /><br />&nbsp; &nbsp; return &#40;A1+A2+A3&#41; &gt; 2*M_PI-&#40;2*M_PI/1000.&#41;;<br />&#125;<br /><br />bool a_la_izq&#40;const V&amp; v1, const V&amp; v2&#41; &#123;<br />&nbsp; &nbsp; return det&#40;v1, v2&#41; &gt; 0;<br />&#125;<br /><br />void triangular&#40;std::list&lt;V&gt;&amp; vertices, std::list&lt;T&gt;&amp; triangles&#41; &#123;<br />&nbsp; &nbsp;std::list&lt;V&gt;::iterator imax, ip;<br />&nbsp; &nbsp;imax = ip = vertices.begin&#40;&#41;;<br />&nbsp; &nbsp;while &#40;ip != vertices.end&#40;&#41;&#41; &#123;<br />&nbsp; &nbsp;&nbsp; &nbsp;if &#40;imax-&gt;y &gt; ip-&gt;y&#41; imax = ip;<br />&nbsp; &nbsp;&nbsp; &nbsp;++ip;<br />&nbsp; &nbsp;&#125;<br />&nbsp; &nbsp;int max_x = imax-&gt;x;<br />&nbsp; &nbsp;while &#40;imax-&gt;x == max_x&#41; &#123;<br />&nbsp; &nbsp;&nbsp; &nbsp;++imax;<br />&nbsp; &nbsp;&nbsp; &nbsp;if &#40;imax == vertices.end&#40;&#41;&#41;<br />&nbsp; &nbsp;&nbsp; &nbsp;&nbsp; &nbsp;imax = vertices.begin&#40;&#41;;<br />&nbsp; &nbsp;&#125;<br />&nbsp; &nbsp;bool clockwise = imax-&gt;x &lt; max_x;<br /><br />&nbsp; &nbsp;std::list&lt;V&gt;::iterator iv1 = vertices.begin&#40;&#41;;<br />&nbsp; &nbsp;std::list&lt;V&gt;::iterator iv2 = iv1; ++iv2;<br />&nbsp; &nbsp;std::list&lt;V&gt;::iterator iv3 = iv2; ++iv3;<br />&nbsp; &nbsp;while &#40;vertices.size&#40;&#41; &gt; 3&#41; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp;bool oreja = false;<br />&nbsp; &nbsp; &nbsp; &nbsp;while &#40;not oreja&#41; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if &#40;&#40;a_la_izq&#40;*iv2 - &#40;*iv1&#41;, *iv3 - &#40;*iv1&#41;&#41; and !clockwise&#41; or <br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &#40;!a_la_izq&#40;*iv2 - &#40;*iv1&#41;, *iv3 - &#40;*iv1&#41;&#41; and clockwise&#41;&#41; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;std::list&lt;V&gt;::iterator ip = vertices.begin&#40;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;oreja = true;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;while &#40;oreja and ip != vertices.end&#40;&#41;&#41; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if &#40;p_in_triangle2&#40;*ip, *iv1, *iv2, *iv3&#41; and<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;ip != iv1 and ip != iv2 and ip != iv3&#41; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;oreja = false;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;else ++ip;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#125;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if &#40;not oreja&#41; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;++iv1;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if&#40;iv1 == vertices.end&#40;&#41;&#41; iv1 = vertices.begin&#40;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;++iv2;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if&#40;iv2 == vertices.end&#40;&#41;&#41; iv2 = vertices.begin&#40;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;++iv3;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if&#40;iv3 == vertices.end&#40;&#41;&#41; iv3 = vertices.begin&#40;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#125;<br />&nbsp; &nbsp; &nbsp; &nbsp;&#125;<br />&nbsp; &nbsp; &nbsp; &nbsp;T t = &#123;*iv1, *iv2, *iv3&#125;;<br />&nbsp; &nbsp; &nbsp; &nbsp;triangles.push_back&#40;t&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp;iv2 = vertices.erase&#40;iv2&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp;if&#40;iv2 == vertices.end&#40;&#41;&#41; iv2 = vertices.begin&#40;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp;++iv3;<br />&nbsp; &nbsp; &nbsp; &nbsp;if&#40;iv3 == vertices.end&#40;&#41;&#41; iv3 = vertices.begin&#40;&#41;;<br />&nbsp; &nbsp;&#125;<br />&nbsp; &nbsp;T t = &#123;*iv1, *iv2, *iv3&#125;;<br />&nbsp; &nbsp;triangles.push_back&#40;t&#41;;<br />&#125;<br /><br /><br />void draw_vertices&#40;std::list&lt;V&gt;&amp; vertices&#41; &#123;<br />&nbsp; &nbsp;glMatrixMode&#40;GL_MODELVIEW&#41;;<br />&nbsp; &nbsp;glClear&#40;GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT&#41;; <br />&nbsp; &nbsp;glLoadIdentity&#40;&#41;;<br />&nbsp; &nbsp;glPolygonMode&#40;GL_FRONT_AND_BACK, GL_FILL&#41;;<br />&nbsp; &nbsp;std::list&lt;V&gt;::iterator it = vertices.begin&#40;&#41;;<br />&nbsp; &nbsp;std::list&lt;V&gt;::iterator its = it;<br />&nbsp; &nbsp;++its;<br />&nbsp; &nbsp;while &#40;it != vertices.end&#40;&#41; and its != vertices.end&#40;&#41;&#41; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp;glBegin&#40;GL_LINES&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;glVertex2f&#40;&#40;*it&#41;.x, &#40;*it&#41;.y&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;glVertex2f&#40;&#40;*its&#41;.x, &#40;*its&#41;.y&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp;glEnd&#40;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp;++it;<br />&nbsp; &nbsp; &nbsp; &nbsp;++its;<br />&nbsp; &nbsp;&#125;<br />&nbsp; &nbsp;glBegin&#40;GL_LINES&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp;glVertex2f&#40;&#40;*&#40;--vertices.end&#40;&#41;&#41;&#41;.x, &#40;&#40;*&#40;--vertices.end&#40;&#41;&#41;&#41;.y&#41;&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp;glVertex2f&#40;&#40;*vertices.begin&#40;&#41;&#41;.x, &#40;*vertices.begin&#40;&#41;&#41;.y&#41;;<br />&nbsp; &nbsp;glEnd&#40;&#41;;<br />&nbsp; &nbsp;SDL_GL_SwapBuffers&#40;&#41;;<br />&#125;<br /><br />void draw_triangles&#40;std::list&lt;T&gt;&amp; triangles&#41; &#123;<br />&nbsp; &nbsp;glMatrixMode&#40;GL_MODELVIEW&#41;;<br />&nbsp; &nbsp;glClear&#40;GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT&#41;; <br />&nbsp; &nbsp;glLoadIdentity&#40;&#41;;<br />&nbsp; &nbsp;std::list&lt;T&gt;::iterator it = triangles.begin&#40;&#41;;<br />&nbsp; &nbsp;while &#40;it != triangles.end&#40;&#41;&#41; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp;int x, y;<br />&nbsp; &nbsp; &nbsp; &nbsp;SDL_GetMouseState&#40;&amp;x, &amp;y&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp;V p = &#123;x, y&#125;;<br />&nbsp; &nbsp; &nbsp; &nbsp;if &#40;p_in_triangle2&#40;p, &#40;*it&#41;.p1, &#40;*it&#41;.p2, &#40;*it&#41;.p3&#41;&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;glPolygonMode&#40;GL_FRONT_AND_BACK, GL_FILL&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp;else<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;glPolygonMode&#40;GL_FRONT_AND_BACK, GL_LINE&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp;glBegin&#40;GL_TRIANGLES&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp;glVertex2f&#40;&#40;*it&#41;.p1.x, &#40;*it&#41;.p1.y&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp;glVertex2f&#40;&#40;*it&#41;.p2.x, &#40;*it&#41;.p2.y&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp;glVertex2f&#40;&#40;*it&#41;.p3.x, &#40;*it&#41;.p3.y&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp;++it;<br />&nbsp; &nbsp; &nbsp; &nbsp;glEnd&#40;&#41;;<br />&nbsp; &nbsp;&#125;<br />&nbsp; &nbsp;SDL_GL_SwapBuffers&#40;&#41;;<br />&#125;<br /><br />void initGL&#40;&#41; &#123;<br />&nbsp; &nbsp;glClearColor&#40; 0.0f, 0.0f, 0.0f, 0.0f &#41;;<br />&nbsp; &nbsp;glPointSize&#40;3&#41;;<br />&nbsp; &nbsp;glLineWidth&#40;3&#41;;<br />&nbsp; &nbsp;glMatrixMode&#40;GL_PROJECTION&#41;;<br />&nbsp; &nbsp;glLoadIdentity&#40;&#41;;<br />&nbsp; &nbsp;glOrtho&#40;0.0, 640.0, 480.0, 0.0, -1.0, 1.0&#41;;<br />&#125;<br /><br />int main&#40;&#41; &#123;<br />&nbsp; &nbsp;if &#40;SDL_Init&#40;SDL_INIT_VIDEO&#41; == -1&#41;&nbsp; cout &lt;&lt; &quot;no se ha iniciado SDL&quot; &lt;&lt; endl;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;SDL_Surface* screen = SDL_SetVideoMode&#40;640, 480, 16,<br />&nbsp; &nbsp; &nbsp; SDL_OPENGL | SDL_GL_DOUBLEBUFFER |<br />&nbsp; &nbsp; &nbsp; SDL_HWPALETTE | SDL_HWSURFACE | SDL_HWACCEL&#41;;<br />&nbsp; &nbsp;SDL_GL_SetAttribute&#40;SDL_GL_RED_SIZE, 8&#41;;<br />&nbsp; &nbsp;SDL_GL_SetAttribute&#40;SDL_GL_GREEN_SIZE, 8&#41;;<br />&nbsp; &nbsp;SDL_GL_SetAttribute&#40;SDL_GL_BLUE_SIZE, 8&#41;;<br />&nbsp; &nbsp;SDL_GL_SetAttribute&#40;SDL_GL_DEPTH_SIZE, 24&#41;;<br />&nbsp; &nbsp;SDL_GL_SetAttribute&#40;SDL_GL_DOUBLEBUFFER, 1&#41;;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;if &#40;screen == NULL&#41; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp;cout &lt;&lt; &quot;No se ha iniciado la ventana OpenGL&quot; &lt;&lt; endl;<br />&nbsp; &nbsp; &nbsp; &nbsp;return 0;<br />&nbsp; &nbsp;&#125;<br />&nbsp; &nbsp;initGL&#40;&#41;;<br /><br />&nbsp; &nbsp;std::list&lt;V&gt; vertices;<br />&nbsp; &nbsp;SDL_Event event;<br />&nbsp; &nbsp;SDL_WaitEvent&#40;&amp;event&#41;;<br />&nbsp; &nbsp;while &#40;event.type != SDL_KEYDOWN&#41; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp;SDL_WaitEvent&#40;&amp;event&#41;; <br />&nbsp; &nbsp; &nbsp; &nbsp;if &#40;event.type == SDL_MOUSEBUTTONDOWN&#41; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;int x, y;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;SDL_GetMouseState&#40;&amp;x, &amp;y&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;V p = &#123;x, y&#125;;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;vertices.push_back&#40;p&#41;;<br />&nbsp; &nbsp; &nbsp; &nbsp;&#125;<br />&nbsp; &nbsp; &nbsp; &nbsp;draw_vertices&#40;vertices&#41;;<br />&nbsp; &nbsp;&#125;<br />&nbsp; &nbsp;std::list&lt;T&gt; triangles;<br />&nbsp; &nbsp;triangular&#40;vertices, triangles&#41;;<br />&nbsp; &nbsp;bool exit = false;<br />&nbsp; &nbsp;<br />&nbsp; &nbsp;while &#40;not exit&#41; &#123;<br />&nbsp; &nbsp; &nbsp; SDL_Event event;<br />&nbsp; &nbsp; &nbsp; while &#40;SDL_PollEvent&#40;&amp;event&#41;&#41; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;switch &#40;event.type&#41; &#123;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case SDL_QUIT:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;exit = true;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; case SDL_KEYDOWN:<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;if &#40;event.key.keysym.sym == SDLK_ESCAPE&#41;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; exit = true;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; break;<br />&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&#125;<br />&nbsp; &nbsp; &nbsp; &#125;&nbsp; &nbsp;<br />&nbsp; &nbsp; &nbsp; draw_triangles&#40;triangles&#41;;<br />&nbsp; &nbsp;&#125;<br />&nbsp; &nbsp;SDL_Quit&#40;&#41;;<br />&#125;<br /></code></dd></dl>
<br />
<br />Se van poniendo vértices con el clic izquierdo y luego se pulsa una tecla.
<br />
<br />Puede que la forma de utilizar OpenGL no sea la correcta, que estoy comenzando.
<br />
<br />Saludos.</div>

			

		</div>

		
			<dl class="postprofile" id="profile3024">
			<dt>
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html"><img src="download/1809-avatar=1809_1280195666.gif" width="70" height="70" alt="Avatar de Usuario" /></a><br />
				<a href="memberlist.php-mode=viewprofile&amp;u=1809.html">endaramiz</a>
			</dt>

			

		<dd>&nbsp;</dd>

		<dd><strong>Mensajes:</strong> 283</dd><dd><strong>Registrado:</strong> Vie Ago 31, 2007 9:25 am</dd><dd><strong>Ubicación:</strong> Barcelona</dd>
			<dd>
				<ul class="profile-icons">
					<li class="web-icon"><a href="http://twitter.com/endaramiz" title="WWW: http://twitter.com/endaramiz"><span>Sitio web</span></a></li>
				</ul>
			</dd>
		

		</dl>
	

		<div class="back2top"><a href="#wrap" class="top" title="Arriba">Arriba</a></div>

		<span class="corners-bottom"><span></span></span></div>
	</div>

	<hr class="divider" />

	<form id="viewtopic" method="post" action="viewtopic.php-f=9&amp;t=379&amp;start=0.html">

	<fieldset class="display-options" style="margin-top: 0; ">
		
		<label>Mostrar mensajes previos: <select name="st" id="st"><option value="0" selected="selected">Todos los mensajes</option><option value="1">1 día</option><option value="7">7 días</option><option value="14">2 semanas</option><option value="30">1 mes</option><option value="90">3 meses</option><option value="180">6 meses</option><option value="365">1 año</option></select></label>
		<label>Ordenar por <select name="sk" id="sk"><option value="a">Autor</option><option value="t" selected="selected">Fecha publicación</option><option value="s">Asunto</option></select></label> <label><select name="sd" id="sd"><option value="a" selected="selected">Ascendente</option><option value="d">Descendente</option></select> <input type="submit" name="sort" value="Ir" class="button2" /></label>
		
	</fieldset>

	</form>
	<hr />


<div class="topic-actions">
	<div class="buttons">
	
		<div class="reply-icon"><a href="posting.php-mode=reply&amp;f=9&amp;t=379.html" title="Publicar una respuesta"><span></span>Publicar una respuesta</a></div>
	
	</div>

	
		<div class="pagination">
			12 mensajes
			 &bull; Página <strong>1</strong> de <strong>1</strong>
		</div>
	
</div>


	<p></p><p><a href="viewforum.php-f=9.html" class="left-box left" accesskey="r">Volver a General</a></p>

	<form method="post" id="jumpbox" action="viewforum.php.html" onsubmit="if(document.jumpbox.f.value == -1){return false;}">

	
		<fieldset class="jumpbox">
	
			<label for="f" accesskey="j">Saltar a:</label>
			<select name="f" id="f" onchange="if(this.options[this.selectedIndex].value != -1){ document.forms['jumpbox'].submit() }">
			
				<option value="-1">Seleccione un Foro</option>
			<option value="-1">------------------</option>
				<option value="15">Proyecto Losersjuegos</option>
			
				<option value="1">&nbsp; &nbsp;Planificación y eventos</option>
			
				<option value="14">&nbsp; &nbsp;Asadetris</option>
			
				<option value="22">Pilas Engine</option>
			
				<option value="23">&nbsp; &nbsp;Anuncios de los desarrolladores</option>
			
				<option value="24">&nbsp; &nbsp;Consultas, problemas o bugs.</option>
			
				<option value="25">&nbsp; &nbsp;Proyectos usando pilas</option>
			
				<option value="26">&nbsp; &nbsp;Sugerencias e ideas</option>
			
				<option value="28">&nbsp; &nbsp;General</option>
			
				<option value="16">Sugerencias, proyectos e ideas</option>
			
				<option value="2">&nbsp; &nbsp;Artículos, traducciones y documentación</option>
			
				<option value="3">&nbsp; &nbsp;Ejemplos</option>
			
				<option value="4">&nbsp; &nbsp;Videojuegos</option>
			
				<option value="12">&nbsp; &nbsp;Propuestas de desarrollo y concursos</option>
			
				<option value="13">&nbsp; &nbsp;Inspiración y otras ideas interesantes</option>
			
				<option value="5">&nbsp; &nbsp;Otros</option>
			
				<option value="17">Consultas</option>
			
				<option value="6">&nbsp; &nbsp;Sobre las bibliotecas multimedia</option>
			
				<option value="7">&nbsp; &nbsp;Instalación de bibliotecas y herramientas</option>
			
				<option value="8">&nbsp; &nbsp;Sobre lenguajes de programación</option>
			
				<option value="9" selected="selected">&nbsp; &nbsp;General</option>
			
				<option value="20">&nbsp; &nbsp;3D</option>
			
				<option value="29">&nbsp; &nbsp;HTML5 y Javascript</option>
			
				<option value="30">&nbsp; &nbsp;Qt y pyqt</option>
			
				<option value="18">Otros</option>
			
				<option value="10">&nbsp; &nbsp;Fuera de tópico</option>
			
				<option value="11">&nbsp; &nbsp;Links interesantes</option>
			
			</select>
			<input type="submit" value="Ir" class="button2" />
		</fieldset>
	</form>


	<h3>¿Quién está conectado?</h3>
	<p>Usuarios navegando por este Foro: No hay usuarios registrados visitando el Foro y 0 invitados</p>
</div>

<div id="page-footer">

	<div class="navbar">
		<div class="inner"><span class="corners-top"><span></span></span>

		<ul class="linklist">
			<li class="icon-home"><a href="index.php.html" accesskey="h">Índice general</a></li>
				
			<li class="rightside"><a href="memberlist.php-mode=leaders.html">El Equipo</a> &bull; <a href="ucp.php-mode=delete_cookies.html">Borrar todas las cookies del Sitio</a> &bull; Todos los horarios son UTC </li>
		</ul>

		<span class="corners-bottom"><span></span></span></div>
	</div>



<div id="pie">

    <ul>
            <li class="contactenos"><a href="../comunidad/contactenos.html">Contáctenos</a></li>
                
                <li class="cc"><a href="http://creativecommons.org/licenses/by-sa/2.5/deed.es">Licencia de uso para el sitio</a></li>

                    <li class="foro"><a href="index.html">Foro de mensajes</a></li>

                        <li class="comunidad"><a href="../comunidad.html">Sobre el grupo ...</a></li>
                    </ul>
                </div>


</div> <!-- borde -->
</div>


<div class="copyright">
Este foro de mensajes funciona gracias al sistema <a href="http://www.phpbb.com/">phpBB</a>
<br/>
Tema visual personalizando por Hugo Ruscitti.
<br/>

</div>

<div>
	<a id="bottom" name="bottom" accesskey="z"></a>
	<img src="cron.php-cron_type=tidy_sessions.gif" width="1" height="1" alt="cron" />
</div>

</body>
</html>