<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="es">
<link rel="self" type="application/atom+xml" href="http://losersjuegos.com.ar/foro/feed.php?f=9&amp;t=677" />

<title>LosersJuegos</title>
<subtitle>Desarrollando videojuegos libres</subtitle>
<link href="http://losersjuegos.com.ar/foro/index.php" />
<updated>2010-01-16T19:11:45+00:00</updated>

<author><name><![CDATA[LosersJuegos]]></name></author>
<id>http://losersjuegos.com.ar/foro/feed.php?f=9&amp;t=677</id>
<entry>
<author><name><![CDATA[shackra]]></name></author>
<updated>2010-01-16T19:11:45+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=677&amp;p=3196#p3196</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=677&amp;p=3196#p3196"/>
<title type="html"><![CDATA[AUXILIO! :(, como muevo un sprite!]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=677&amp;p=3196#p3196"><![CDATA[
gracias por la guia!, lo estudiare con mas detenimiento en mi casa, lo pruebo y luego vengo con mas dudas!<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2114">shackra</a> — Sab Ene 16, 2010 7:11 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Juanxo]]></name></author>
<updated>2010-01-09T23:01:46+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=677&amp;p=3158#p3158</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=677&amp;p=3158#p3158"/>
<title type="html"><![CDATA[AUXILIO! :(, como muevo un sprite!]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=677&amp;p=3158#p3158"><![CDATA[
<span style="font-weight: bold">[EDITADO***: habia un fallo en el update, en las colisiones con las bandas]</span><br /><br />buenas shackra:<br /><br />aqui va la solucion<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code><br /># -*- coding: utf-8 -*-<br />import sys<br />import pygame<br />from pygame.locals import *<br /><br />SCREEN_WIDTH = 800<br />SCREEN_HEIGHT = 600<br /><br />class Test&#40;pygame.sprite.Sprite&#41;:<br />    def __init__&#40;self&#41;:<br />        pygame.sprite.Sprite.__init__&#40;self&#41;<br />        self.image = pygame.image.load&#40;&quot;test.bmp&quot;&#41;<br />        self.rect = self.image.get_rect&#40;&#41;<br /><br />    def update&#40;self, velx, vely&#41;:<br />        self.rect.move_ip&#40;velx, vely&#41;<br /><br />        if self.rect.left &lt;0&gt; SCREEN_WIDTH:<br />            self.rect.right = SCREEN_WIDTH<br />        if self.rect.top &lt;0&gt; SCREEN_HEIGHT:<br />            self.rect.bottom = SCREEN_HEIGHT<br /><br />    def draw&#40;pantalla&#41;:<br />        pantalla.blit&#40;self.image, self.rect&#41;<br /><br />def main&#40;&#41;:<br />    pygame.init&#40;&#41;<br />    pantalla = pygame.display.set_mode&#40;&#40;800, 600&#41;&#41;<br />    pygame.display.set_caption&#40;&quot;Prueba con Sprites&quot;&#41;<br />    pygame.mouse.set_visible&#40;0&#41;<br /><br />    blanco = &#40;255, 255, 255, 255&#41;<br /><br /><br />    #no hace falta que crees un objeto y luego lo añadas<br />    #puedes crearlo dentro del grupo directamente<br />    todos = pygame.sprite.RenderPlain&#40;Test&#40;&#41;&#41;<br />    clock = pygame.time.Clock&#40;&#41;<br /><br />    while 1:<br />        clock.tick&#40;60&#41;<br />        <br />        #he cambiado los ifs por if..elif. Para que te preguntarás:<br />        #El tema es que un evento solo puede pertenecer a un tipo a la vez,<br />        #cosa lógica. Por lo tanto, una vez que encuentra al tipo al que pertenece,<br />        #debería saltarse los demás, que es lo que conseguimos con el elif.<br />        #En este caso no ganamos mucho, pero siempre hay que pensar a lo grande<br />        for evento in pygame.event.get&#40;&#41;:<br />            if evento.type == QUIT:<br />                sys.exit&#40;0&#41;<br />            elif evento.type == KEYDOWN:<br />                if evento.key == K_ESCAPE:<br />                    sys.exit&#40;0&#41;<br /><br />        key = pygame.key.get_pressed&#40;&#41;<br />        velx = 0<br />        vely = 0<br />        <br />        if key&#91;K_RIGHT&#93;:<br />            velx = 10<br />        elif key&#91;K_LEFT&#93;:<br />            velx = -10<br />        if key&#91;K_DOWN&#93;:<br />            vely = 10<br />        elif key&#91;K_UP&#93;:<br />            vely = -10<br /><br />        todos.update&#40;velx, vely&#41;<br />        pantalla.fill&#40;blanco&#41;<br />        todos.draw&#40;pantalla&#41;<br />        pygame.display.flip&#40;&#41;<br />       <br />if __name__ == &quot;__main__&quot;:<br />    main&#40;&#41;<br /><br /></code></dd></dl>[/b]<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2057">Juanxo</a> — Sab Ene 09, 2010 11:01 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[shackra]]></name></author>
<updated>2010-01-09T21:44:18+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=677&amp;p=3157#p3157</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=677&amp;p=3157#p3157"/>
<title type="html"><![CDATA[AUXILIO! :(, como muevo un sprite!]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=677&amp;p=3157#p3157"><![CDATA[
para serte sincero... no comprendo con exactitud los errores, no me hables español!, mejor python <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />. se que hay que quitar algunas cosas y arreglar otras, pero te agradeceria si podrias poner pedazos de codigo en aquellas areas que son necesarias (como un antes y un despues).<br /><br />y si... lo de las centenas de pixeles ya lo venia sospechando! xD<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2114">shackra</a> — Sab Ene 09, 2010 9:44 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Juanxo]]></name></author>
<updated>2010-01-09T01:26:49+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=677&amp;p=3152#p3152</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=677&amp;p=3152#p3152"/>
<title type="html"><![CDATA[AUXILIO! :(, como muevo un sprite!]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=677&amp;p=3152#p3152"><![CDATA[
Buenas shackra:<br /><br />te comento varias cosas que veo a primera vista:<br />1. En el tema de los sprites, se puede decir que hay tres funciones basicas: el init, el update y el draw(esta ultima te falta)<br /><br />2.En mi opinion, creo que es innecesario almacenar una &quot;pantalla&quot; para cada clase, ya que fijate que en todos.draw(pantalla), que es el método que te faltaria implementar ya estas pasando la pantalla como parametro<br /><br />3.Fijate en el update(). self.rect.move no te lo mueve a una posicion global, sino que te lo mueve la cantidad de pixeles que le digas a partir de donde este en ese momento. <br />Veamos el problema: tu inicializas posx y posy a 0 los dos. Luego, en funcion de las teclas, sumas o restas. Vale, ahora piensa que pasaría si pulsases muchas veces la tecla &quot;derecha&quot;. Al principio no se movería. Luego, la primera vez que pulsases, se pondría posx a +10, por lo que &quot;cada frame&quot; se movería 10 pixels a la derecha. La segunda vez que pulsases, sumarías 10 a posx, que pasaría a ser 20. No se si ves a donde lleva esto.<br /> Pista(tras muchas pulsaciones, el movimiento por frame sería de varias centenas de pixels xD).<br /><br />Siguiendo con update, el tema de calcular la nueva pos y luego ver si esta contenida no esta mal, pero un apunte: para que compruebas si va a estar contenida en la pantalla, si luego haces lo del if self.rect.left &gt; .... que es basicamente lo mismo. Ademas las comprobaciones estan mal hechas. Fijate: si el lado izquierdo del rectangulo esta a la derecha del limite de la pantalla (vamos, que esta en la pantalla) lo tratas como malo y lo pones a la izquierda de la pantalla. El de la derecha esta bien.<br />Conclusion: quita lo de contains y nueva pos y deja el resto, pero corrijiendo la comparacion y añadiendo los choques con los bordes verticales<br /><br />Ahora vamos con el draw:<br />la funcion sería def draw(self, pantalla):<br />y aqui dentro lo unico que tendrías que hacer sería el pantalla.blit(self.imagen........)<br /><br />Por ultimo, un consejo sobre el tratamiento del teclado(bueno un par):<br />Hay teclas que se anulan: si tu tienes pulsada la tecla derecha, no tiene sentido que tambien entre en el if de la tecla izquierda (lo mismo con arriba/abajo) por lo tanto un if teclaDerecha: ..... else if teclaIzqu quedaría mejor.<br /><br />Luego, en este mismo sitio vuelves a mezclar métodos: para la entrada de teclado se suelen utilizar dos métodos: o bien por eventos, o bien accediendo directamente al estado del teclado. Usas los dos.<br />Algo mejor sería:<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>for evento in pygame.event.get&#40;&#41;:<br />       <br />            if evento.type == KEYDOWN:<br />                if evento.key == K_RIGHT:<br />                    bicho_posx = 10<br />                elif evento.key == K_LEFT:<br />                    bicho_posx = -10<br />                if evento.key == K_UP:<br />                    bicho_posy = -10<br />                elif evento.key == K_DOWN:<br />                    bicho_posy = 10<br /></code></dd></dl><br /><br />Así creo yo que es más correcto. Además, te faltaría tratar si el evento es de KEYUP(soltar la tecla) para volver a establecer las velocidades a 0.<br /><br />Y creo que más o menos eso es todo. He preferido postearte consejos a directamente el codigo porque creo que asi se te quedara mejor. Si hay cualquier duda, dimelo<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2057">Juanxo</a> — Sab Ene 09, 2010 1:26 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[shackra]]></name></author>
<updated>2010-01-08T22:51:49+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=677&amp;p=3151#p3151</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=677&amp;p=3151#p3151"/>
<title type="html"><![CDATA[AUXILIO! :(, como muevo un sprite!]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=677&amp;p=3151#p3151"><![CDATA[
hola otra vez! <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />.<br />esta vez mi problema es con los sprites!, estube probando como podia mover un sencillo sprite por la pantalla en cuatro direcciones.<br />ese era elprimer paso, luego era cambiar las imagenes del sprite para realizar un efecto de animacion mientras el sprite se mueve por la pantalla... pero en vistas de que siquiera se movia decidi dejar la animacion de lado para intentar moverlo.<br /><br />me fije en varios ejemplos que vienen en el pygame, pero son bastantes extensos y no me es sencillo seguirlos para aprender a mover un sprite con entrada por teclado... aqui el codigo:<br /><br />fichero completo descargable desde 4share.com, <a href="http://www.4shared.com/file/191749702/46a0a97/modulo_Spritestar.html" class="postlink">modulo Sprites.tar.bz2</a><br /><br />main_2.py:<br /><dl class="codebox"><dt>Code: </dt><dd><code>import sys<br />import pygame<br />from pygame.locals import *<br /><br />class Test&#40;pygame.sprite.Sprite&#41;:<br />    def __init__&#40;self&#41;:<br />        pygame.sprite.Sprite.__init__&#40;self&#41;<br />        #ojo aqui!, cambien la ubicacion para ver una imagen!<br />        self.image = pygame.image.load&#40;&quot;/home/jorge/Dreams To Games/DEMOS/pruebas con pygame/modulo Sprites/datos/graph/b0.png&quot;&#41;<br />        self.screen = pygame.display.get_surface&#40;&#41;<br />        self.area = self.screen.get_rect&#40;&#41;<br />        self.rect = self.image.get_rect&#40;&#41;<br /><br />    def update&#40;self, posx, posy&#41;:<br />        nueva_pos = self.rect.move&#40;posx,posy&#41;<br />        print nueva_pos<br />        if self.area.contains&#40;nueva_pos&#41;:<br />            self.rect.move_ip&#40;posx, posy&#41;<br />            if self.rect.left &gt; self.area.left:<br />                self.rect.left = self.area.left<br />            if self.rect.right &gt; self.area.right:<br />                self.rect.right = self.area.right<br /><br />def main&#40;&#41;:<br />    pygame.init&#40;&#41;<br />    pantalla = pygame.display.set_mode&#40;&#40;800, 600&#41;&#41;<br />    pygame.display.set_caption&#40;&quot;Prueba con Sprites&quot;&#41;<br />    pygame.mouse.set_visible&#40;0&#41;<br /><br />    bicho_posx = 0<br />    bicho_posy = 0<br /><br />    blanco = &#40;255, 255, 255, 255&#41;<br />    pantalla.fill&#40;blanco&#41;<br />    pygame.display.flip&#40;&#41;<br /><br />    bicho = Test&#40;&#41;<br />    todos = pygame.sprite.RenderPlain&#40;bicho&#41;<br />    clock = pygame.time.Clock&#40;&#41;<br /><br />    while 1:<br />        clock.tick&#40;60&#41;<br />        key = pygame.key.get_pressed&#40;&#41;<br /><br />        for evento in pygame.event.get&#40;&#41;:<br />            if evento.type == QUIT:<br />                sys.exit&#40;0&#41;<br />            if evento.type == KEYDOWN and evento.key == K_ESCAPE:<br />                sys.exit&#40;0&#41;<br />            if evento.type == KEYDOWN:<br />                if key&#91;K_UP&#93;:<br />                    bicho_posx += 10<br />                if key&#91;K_DOWN&#93;:<br />                    bicho_posx -= 10<br />                if key&#91;K_LEFT&#93;:<br />                    bicho_posy -= 10<br />                if key&#91;K_RIGHT&#93;:<br />                    bicho_posy += 10<br /><br />        todos.update&#40;bicho_posx, bicho_posy&#41;<br />        pantalla.fill&#40;blanco&#41;<br />        todos.draw&#40;pantalla&#41;<br />        pygame.display.flip&#40;&#41;<br />        pygame.time.wait&#40;10&#41;<br />        <br />if __name__ == &quot;__main__&quot;:<br />    main&#40;&#41;</code></dd></dl><p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2114">shackra</a> — Vie Ene 08, 2010 10:51 pm</p><hr />
]]></content>
</entry>
</feed>