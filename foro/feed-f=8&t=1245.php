<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="es">
<link rel="self" type="application/atom+xml" href="http://losersjuegos.com.ar/foro/feed.php?f=8&amp;t=1245" />

<title>LosersJuegos</title>
<subtitle>Desarrollando videojuegos libres</subtitle>
<link href="http://losersjuegos.com.ar/foro/index.php" />
<updated>2011-09-21T02:27:50+00:00</updated>

<author><name><![CDATA[LosersJuegos]]></name></author>
<id>http://losersjuegos.com.ar/foro/feed.php?f=8&amp;t=1245</id>
<entry>
<author><name><![CDATA[kingwar]]></name></author>
<updated>2011-09-21T02:27:50+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=1245&amp;p=5962#p5962</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=1245&amp;p=5962#p5962"/>
<title type="html"><![CDATA[Re: AYUDA:problema con instancias de clases con c++]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=1245&amp;p=5962#p5962"><![CDATA[
Vaya eh encontrado el problema y la solucion. <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /> la culpa es de <pre class="prettyprint">srand&#40;&#41;</pre> jeje <br /><br />la solucion a mi problema la pueden ver con este codigo que muestra el 'problema' <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_arrow.gif" alt=":arrow:" title="Arrow" /> :<br /><pre class="prettyprint">#include &lt;cstdlib&gt;<br />#include &lt;iostream&gt;<br /><br />using namespace std;<br /><br /><br />class Monster{<br />      <br />      public:<br />          Monster&#40;&#41;{<br />                   srand&#40;time&#40;0&#41;&#41;;<br />                   x=rand&#40;&#41;%5;<br />                   y=rand&#40;&#41;%5;<br />          };<br />    <br />          int x,y;<br />};<br /><br />int main&#40;int argc, char *argv[]&#41;<br />{<br />    Monster prueba[2];<br />    <br />    cout &lt;&lt; &quot;Datos:\n&quot;;<br />    cout&lt;&lt;&quot;Monstruo 1:\n&quot;&lt;&lt;&quot;x,y=&quot;&lt;&lt;prueba[0].x&lt;&lt;&quot;,&quot;&lt;&lt;prueba[0].y&lt;&lt;endl;<br />    cout&lt;&lt;&quot;Monstruo 2:\n&quot;&lt;&lt;&quot;x,y=&quot;&lt;&lt;prueba[1].x&lt;&lt;&quot;,&quot;&lt;&lt;prueba[1].y&lt;&lt;endl;<br />    system&#40;&quot;PAUSE&quot;&#41;;<br />    return EXIT_SUCCESS;<br />}</pre><br /><br />Arroja estos datos:<br /><span style="color: #FF0000">Datos:<br />Monstruo 1:<br />x,y=3,0<br />Monstruo 2:<br />x,y=3,0<br />Presione una tecla para continuar . . .</span><br /><br />lo que yo esperaba era de que fueran distintas las coordenadas. jeje solamente habia que randomizar una vez y ya. es decir, colocandolo en main(), buehh espero que le sirva a alguien mas mi experiencia.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2414">kingwar</a> — Mié Sep 21, 2011 2:27 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[kingwar]]></name></author>
<updated>2011-09-01T01:39:09+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=1245&amp;p=5890#p5890</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=1245&amp;p=5890#p5890"/>
<title type="html"><![CDATA[Re: AYUDA:problema con instancias de clases con c++]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=1245&amp;p=5890#p5890"><![CDATA[
Ok, xD no habia puesto el codigo porque me parecio que era comun  <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_redface.gif" alt=":oops:" title="Embarassed" />.<br /><br /><br />use herencia:<br />la del problema es la ultima.<br /><br />esta es la primera clase:<br /><dl class="codebox"><dt>Code: </dt><dd><code>// Listado: Participante.h<br />//<br />// Clase madre que proporciona una interfaz para los participantes<br />// que componen el juego<br /><br />#ifndef _PARTICIPANTE_H_<br />#define _PARTICIPANTE_H_<br />#include &lt;iostream&gt;<br />#include &lt;map&gt;<br />#include &quot;.http://losersjuegos.com.ar/foro/recursos/CommonConstants.h&quot;<br />#include &lt;SDL/SDL.h&gt;<br /><br />class Imagen;<br />class Control_Animacion;<br />using namespace std;<br /><br />class Participante {<br /><br /> public:<br /><br />    /*// Tipos de participantes<br /><br />    enum tipo_participantes {<br />   TIPO_ARMA,<br />   TIPO_ALIEN_SIMPLE<br />    };*/<br /><br />    // Estados posibles de los participantes<br /><br />    enum estados {<br />   NORMAL,<br />   DISPARANDO<br />    };<br />    <br />    // Constructor<br /><br />    Participante(int x, int y, int direccion = 1);<br />  <br />    // Consultoras <br />    int pos_x(void);<br />    int pos_y(void);<br /><br /><br />    virtual void actualizar(void) = 0;<br /><br />    void dibujar(SDL_Surface *pantalla);<br /><br /><br />    virtual ~Participante();<br />    <br />    estados estado_actual(void) {return estado;};<br />    <br /> protected:<br />    bool mover_sobre_x(int incremento);<br />    bool mover_sobre_y(int incremento,int rango=ALTO_VENTANA);<br />    Imagen *imagen;<br /><br />    int x, y;<br />    int direccion;<br /><br />    <br />    estados estado;<br />    estados estado_anterior;<br />    <br />    map&lt;estados, Control_Animacion*&gt; animaciones;<br />};<br /><br />#endif<br /></code></dd></dl><br /><dl class="codebox"><dt>Code: </dt><dd><code>// Listado: Participante.cpp<br />//<br />// Implementacion de la clase Participante<br /><br /><br />#include &lt;iostream&gt;<br /><br />#include &quot;.http://losersjuegos.com.ar/foro/recursos/CommonConstants.h&quot;<br />#include &quot;Participante.h&quot;<br />#include &quot;.http://losersjuegos.com.ar/foro/engine/Imagen.h&quot;<br />#include &quot;.http://losersjuegos.com.ar/foro/engine/Control_Animacion.h&quot;<br />#include &quot;.http://losersjuegos.com.ar/foro/AtackAliens.h&quot;<br />using namespace std;<br /><br /><br />Participante::Participante(int x, int y, int direccion)<br />{<br /><br />    cout &lt;&lt; &quot;Participante::Participante()&quot; &lt;&lt; endl;<br />    // Inicializamos las variables<br /><br />    this-&gt;direccion = 1;<br />    this-&gt;x = x;<br />    this-&gt;y = y;<br /><br /><br /><br />}<br /><br /><br />int Participante::pos_x(void) {<br />    <br />    return x;<br />};<br /><br /><br />int Participante::pos_y(void) {<br />    return y;<br />};<br /><br /><br />Participante::~Participante() {<br /><br /><br />    cout &lt;&lt; &quot;Participante::~Participante()&quot; &lt;&lt; endl;<br /><br /><br />}<br /><br />bool Participante::mover_sobre_x(int incremento) {<br /><br />       if(this-&gt;x+incremento+this-&gt;imagen-&gt;anchura() &lt; ANCHO_VENTANA &amp;&amp;this-&gt;x+incremento&gt;0)<br />       {<br />           this-&gt;x += incremento;<br />           return true;<br />         }<br />         else<br />         return false;<br />    <br /><br />}<br /><br />bool Participante::mover_sobre_y(int incremento,int rango) {<br /><br />       if(this-&gt;y+incremento+this-&gt;imagen-&gt;altura() &lt; ALTO_VENTANA &amp;&amp;this-&gt;y+incremento&gt;0&amp;&amp;this-&gt;y+incremento&lt;rango)<br />       {<br />           this-&gt;y += incremento;<br />           return true;<br />         }<br />         else<br />             return false;<br />    <br /><br />}<br /><br /><br /><br />void Participante::dibujar(SDL_Surface *pantalla) {<br /><br />        //DIBUJA EN LA NUEVA POSICION<br />        this-&gt;imagen-&gt;dibujar(pantalla, animaciones&#91;estado&#93;-&gt;cuadro(),x,y,direccion);<br />}<br /><br /><br /></code></dd></dl><br /><br />esta es la segunda:<br /><dl class="codebox"><dt>Code: </dt><dd><code>#ifndef _ALIEN_H_<br />#define _ALIEN_H_<br />#include &lt;ctime&gt;<br />#include &quot;Participante.h&quot;<br /><br /><br />class Alien:public Participante  {<br /><br /><br />   public:<br />           // Constructor<br />    <br />        Alien( int x, int y);<br />        void direccion_aleatoria();<br />   <br />        // Destructor<br />    <br />        ~Alien();<br />    <br />   protected:<br />       Uint8 velocidad;<br />       bool escogido_max_delay;<br />       int max_delay,delay;<br />       int dir_x,dir_y;<br /><br />};<br /><br /><br />#endif<br /><br /></code></dd></dl><br /><dl class="codebox"><dt>Code: </dt><dd><code>// Implementacion de la clase Alien<br /><br />#include &lt;iostream&gt;<br />#include &quot;Alien.h&quot;<br /><br />using namespace std;<br /><br /><br />// Constructor<br /><br />Alien::Alien( int x, int y):<br />                 Participante(x,y) {<br /><br />    // Inicializamos los atributos de la clase<br /><br /><br />    velocidad=2;<br />    estado=NORMAL;<br />    escogido_max_delay=false;<br />    delay=0;<br />    velocidad=2;<br />}<br /><br />void Alien::direccion_aleatoria()<br />{ //REGRESA UNA DIRECCION aleatoria<br />       srand(time(0));<br />       for(int i=0;i&lt;1+rand()%100;i++);<br />       int aleatorio=rand()%9;<br /><br />       switch(aleatorio)<br />{<br />       case 0:<br />           this-&gt;dir_x=velocidad;<br />           this-&gt;dir_y=0;<br />       break;<br />       case 1:<br />           this-&gt;dir_x=0;<br />           this-&gt;dir_y=velocidad;<br />       break;<br />       case 2:<br />           this-&gt;dir_x=0;<br />           this-&gt;dir_y=-velocidad;<br />       break;<br />       case 3:<br />           this-&gt;dir_x=velocidad;<br />           this-&gt;dir_y=velocidad;<br />       break;<br />       case 4:<br />           this-&gt;dir_x=0;<br />           this-&gt;dir_y=0;<br />       break;<br />       case 5:<br />           this-&gt;dir_x=velocidad;<br />           this-&gt;dir_y=-velocidad;<br />       break;<br />       case 6:<br />           this-&gt;dir_x=-velocidad;<br />           this-&gt;dir_y=-velocidad;<br />       break;<br />       case 7:<br />           this-&gt;dir_x=-velocidad;<br />           this-&gt;dir_y=0;<br />       break;<br />       case 8:<br />           this-&gt;dir_x=-velocidad;<br />           this-&gt;dir_y=velocidad;<br />       break;<br />}<br />       <br /><br />}<br /><br /><br />Alien::~Alien()<br />{<br /><br /><br />    cout &lt;&lt; &quot;Alien::~Alien()&quot; &lt;&lt; endl;<br /><br /><br />}<br /><br /></code></dd></dl><br /><br />y esta es la del problema:<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code>// Clase Arma<br /><br />#ifndef _ALIEN_EXPLORADOR_H_<br />#define _ALIEN_EXPLORADOR_H_<br />#include &quot;Alien.h&quot;<br /><br /><br /><br /><br />class Alien_explorador:public Alien  {<br /><br /> public:<br /><br />    // Constructor<br /><br />    Alien_explorador( int x=0, int y=0);<br />    void actualizar();<br />    void posicion_aleatoria();<br />    // Destructor<br /><br />    ~Alien_explorador();<br />    <br />private:<br />        <br />    // Estados del alien<br />    // Para la implementacion del autÃ³mata<br /><br />    void estado_normal();<br />    void estado_disparando();<br />    <br /><br />};<br /><br />#endif<br /></code></dd></dl><br /><dl class="codebox"><dt>Code: </dt><dd><code>// Implementacion de la clase Personaje<br /><br />#include &lt;iostream&gt;<br />#include &quot;.http://losersjuegos.com.ar/foro/engine/Control_Animacion.h&quot;<br />#include &quot;.http://losersjuegos.com.ar/foro/recursos/CommonConstants.h&quot;<br />#include &quot;.http://losersjuegos.com.ar/foro/recursos/referencias.h&quot;<br />#include &lt;ctime&gt;<br />#include &quot;Alien_explorador.h&quot;<br /><br />using namespace std;<br /><br /><br />// Constructor<br /><br />Alien_explorador::Alien_explorador(int x, int y):<br />               Alien(x, y) <br />{<br /><br />  cout &lt;&lt;&quot;Alien_explorador::Alien_explorador&quot;&lt;&lt;endl;<br />    // Asociamos al personaje las animaciones<br />    // segun la rejilla que cargamos para controlarlo<br />    this-&gt;imagen=galeria-&gt;imagen(Galeria::ALIEN_SIMPLE);<br />    if(!x&amp;&amp;!y)<br />       posicion_aleatoria();<br />    direccion_aleatoria();<br />    animaciones&#91;NORMAL&#93; = new Control_Animacion(&quot;0,1,2,3,4,5,6,7,8,9,10,11&quot;,5);<br />    animaciones&#91;DISPARANDO&#93; = new Control_Animacion(&quot;3&quot;, 6);<br />    //this-&gt;imagen = imagen_alien_simple;<br /><br /><br />}<br /><br /><br /><br />void Alien_explorador::posicion_aleatoria()<br />{<br />     srand(time(NULL));<br /><br />      for(int i=0;i&lt;1+rand()%100;i++);<br />       this-&gt;x=1+rand()%ANCHO_VENTANA-imagen-&gt;anchura();<br />       this-&gt;y=1+rand()%ALTO_VENTANA/4*3;<br /><br />     <br />}<br />                           <br />void Alien_explorador::actualizar(void) {<br /><br /><br />    // Si no estamos en el mismo estado <br /><br />    if(this-&gt;estado != this-&gt;estado_anterior) {<br />   <br />   // Comenzamos la animacion y guardamos el estado<br />   animaciones&#91;estado&#93;-&gt;reiniciar();<br />   this-&gt;estado_anterior = this-&gt;estado; <br />    }<br /><br />    // Implementacion del automata<br />    // Segun sea el estado<br /><br />    switch(this-&gt;estado) {<br /><br />     case NORMAL:<br />        estado_normal();<br />        break;<br />    <br />     case DISPARANDO:<br />        estado_disparando();<br />        break;<br />     default:<br />        cerr &lt;&lt; &quot;Estado no disponible&quot; &lt;&lt; endl;<br />    break;<br />    }<br />    <br />}<br /><br /><br /><br /><br />void Alien_explorador::estado_disparando(void) {<br /><br />    // CONTROLA AL PERSONAJE MIENTRAS DISPARA<br />    <br />  /*  teclas = SDL_GetKeyState(NULL);<br />    <br />    if(teclas&#91;this-&gt;TECLA_DERECHA&#93;)<br />            mover_sobre_x(5);<br />    <br />    if(teclas&#91;this-&gt;TECLA_IZQUIERDA&#93;)<br />            mover_sobre_x(-5);<br />    <br />            <br />    if(animaciones&#91;estado&#93;-&gt;avanzar())<br />      estado = NORMAL;*/<br /><br />}<br /><br /><br />void Alien_explorador::estado_normal(void) {<br /><br />    // SI EL USUARIO TIENE PRESIONADO TECLA DE MOVIMIENTO DEBEMOS MOVER EL PERSONAJE<br /><br />    this-&gt;delay++;<br />   if (!this-&gt;escogido_max_delay)<br />   {<br />        srand(time(0));<br />        this-&gt;max_delay=int(1+rand()%5)*100;<br />        this-&gt;escogido_max_delay=true;<br />        this-&gt;delay=0;<br />    }<br />        <br />   <br />    bool puede_x=mover_sobre_x(this-&gt;dir_x);<br />    bool puede_y=mover_sobre_y(this-&gt;dir_y,ALTO_VENTANA/4*3);<br /><br />    if(!puede_x||!puede_y)<br />        direccion_aleatoria();<br />        <br />    this-&gt;animaciones&#91;estado&#93;-&gt;avanzar();<br />    <br />    if(this-&gt;delay&gt;this-&gt;max_delay)<br />    {<br /><br />         this-&gt;delay=0;<br />         this-&gt;escogido_max_delay=false;<br />         direccion_aleatoria();<br />     }<br />         <br />         <br />    <br />}<br /><br /><br />Alien_explorador::~Alien_explorador()<br />{<br /><br /><br />    cout &lt;&lt; &quot;Alien_explorador::~Alien_explorador()&quot; &lt;&lt; endl;<br /> <br /><br />}<br /><br /></code></dd></dl><br /><br />Aclaraciones: <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_cool.gif" alt="8)" title="Cool" /> <br /><br />eh intentado casí todo, me falto solo hacer la clase directo sin las herencias<br />eh quitado la herencia Alien y la eh puesto hasta que solo herede de Participante, pero sigue igual.<br />intente quitando todos los this y poniendolos hasta en los &quot;#define  <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /> &quot; .<br /><br />mi proyecto se quedo ahy estancado por eso.<br /><br />(opcional)si quieren una version para compilar, descargense todo el proyecto <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_sad.gif" alt=":(" title="Sad" /> :<br /><!-- m --><a class="postlink" href="http://www.mediafire.com/?raffj68y8d5nnx1">http://www.mediafire.com/?raffj68y8d5nnx1</a><!-- m --><br /><br />gracias por su atencion.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2414">kingwar</a> — Jue Sep 01, 2011 1:39 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Juanxo]]></name></author>
<updated>2011-08-30T08:16:47+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=1245&amp;p=5884#p5884</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=1245&amp;p=5884#p5884"/>
<title type="html"><![CDATA[Re: AYUDA:problema con instancias de clases con c++]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=1245&amp;p=5884#p5884"><![CDATA[
Como dice carlos, es raro de coj$%#@!<br /><br />Si pudieras postear el código ( huele a variable estática )<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2057">Juanxo</a> — Mar Ago 30, 2011 8:16 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[carlostex]]></name></author>
<updated>2011-08-30T02:03:57+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=1245&amp;p=5868#p5868</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=1245&amp;p=5868#p5868"/>
<title type="html"><![CDATA[Re: AYUDA:problema con instancias de clases con c++]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=1245&amp;p=5868#p5868"><![CDATA[
Seria bueno ver como tienes declarada esa clase, no se si tengas puesto las funciones como const, además usas el apuntador this<br />esto no es python y para la mayoría de los casos no es necesario hacer referencia de esa forma, creo que solo en dos casos es necesario, lo que te esta sucediendo no es común, por eso me gustaría ver el código haber que tiene.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2124">carlostex</a> — Mar Ago 30, 2011 2:03 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[kingwar]]></name></author>
<updated>2011-08-28T18:50:20+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=1245&amp;p=5866#p5866</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=1245&amp;p=5866#p5866"/>
<title type="html"><![CDATA[AYUDA:problema con instancias de clases con c++]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=1245&amp;p=5866#p5866"><![CDATA[
veran el problema es cuando se crean mas de una instancia de la misma clase por ejemplo en un juego de nave: se crean 2 naves &quot;class nave_de_guerra&quot; y cuando se modifica internamente en su inteligencia artificial la direccion de la misma(refiriendose a ella &quot;this-&gt;&quot;), se cambia para todas las instancias que hallan en memoria de la clase &quot;nave_de_guerra&quot; la direccion.es decir, si una de las naves choca con el lado derecho de la pantalla y la nave cambia su direccion, no solo cambia ella sino todas las demas ¿porque?, en python no tengo problemas con el manejo de instancias porque python da un argumento &quot;self&quot; <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_lol.gif" alt=":lol:" title="Laughing" /> , pero leí en un lado que c++ hace lo mismo pero pasando internamente &quot;this&quot;, y aun así me sucede esto.<br /><br />esto me hace pensar que tal vez, debí quedarme con python  <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_cry.gif" alt=":cry:" title="Crying or Very sad" /> <br /><br />¿alguna recomendacion para evitar esto(si entendieron)? <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_wink.gif" alt=":wink:" title="Wink" /><br /><br />uso DEV C++/MinGW<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2414">kingwar</a> — Dom Ago 28, 2011 6:50 pm</p><hr />
]]></content>
</entry>
</feed>