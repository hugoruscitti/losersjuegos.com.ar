<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="es">
<link rel="self" type="application/atom+xml" href="http://losersjuegos.com.ar/foro/feed.php?f=4&amp;t=1529" />

<title>LosersJuegos</title>
<subtitle>Desarrollando videojuegos libres</subtitle>
<link href="http://losersjuegos.com.ar/foro/index.php" />
<updated>2012-07-28T02:56:56+00:00</updated>

<author><name><![CDATA[LosersJuegos]]></name></author>
<id>http://losersjuegos.com.ar/foro/feed.php?f=4&amp;t=1529</id>
<entry>
<author><name><![CDATA[zeroxcol94]]></name></author>
<updated>2012-07-28T02:56:56+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=1529&amp;p=6980#p6980</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=1529&amp;p=6980#p6980"/>
<title type="html"><![CDATA[Re: Problema en la actualizacion de superficies]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=1529&amp;p=6980#p6980"><![CDATA[
jejeje,si definitiva mente resolviste mi problema, hice lo que me dijiste cree una superficie del mismo tamaño que el minimapa y este funcionaria como una superficie base (pantalla) y luego puse todo lo demas. yo tambien tuve la idea de copiar la superficie pero la estaba haciendo mal.gracias te agradesco mucho tu ayuda.aqui dejo el codigo fuente por si alguien lo necesita. avisenme si algo les funciona mal: <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" />  <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" />  <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_mrgreen.gif" alt=":mrgreen:" title="Mr. Green" /> <br /><br /><pre class="prettyprint">#include &lt;stdio.h&gt;<br />#include &lt;SDL.h&gt;<br /><br />void Teclado&#40;&#41;;<br /><br />SDL_Surface *pantalla;<br />SDL_Surface *pj;<br />SDL_Surface *fondo;<br />SDL_Surface *minimapa;<br />SDL_Surface *minimapa_aux;<br />SDL_Surface *pj_minimapa;<br /><br />SDL_Rect pj_r;<br />SDL_Rect fondo_r;<br />SDL_Rect minimapa_r;<br />SDL_Rect minimapa_aux_r;<br />SDL_Rect pj_minimapa_r;<br /><br />SDL_Event evento;<br /><br />bool salir = false;<br />char titulo[]=&quot;Prueba de minimapa 01 - zeroxcol94&quot;;<br />int vel = 1;<br />int vel_x = 0;<br />int vel_y = 0;<br />const int PANTALLA_ANCHO = 800;<br />const int PANTALLA_ALTO = 600;<br /><br />int main&#40;int argc, char *argv[]&#41; <br />{<br /><br />SDL_Init&#40; SDL_INIT_VIDEO &#41;;<br />SDL_WM_SetCaption&#40; titulo, NULL &#41;;<br />pantalla = SDL_SetVideoMode&#40;PANTALLA_ANCHO,PANTALLA_ALTO,24,SDL_HWSURFACE&#41;;<br />fondo = SDL_LoadBMP&#40;&quot;fondo.bmp&quot;&#41;;<br />pj = SDL_LoadBMP&#40;&quot;pj.bmp&quot;&#41;;<br />minimapa = SDL_LoadBMP&#40;&quot;minimapa.bmp&quot;&#41;;<br />minimapa_aux = SDL_LoadBMP&#40;&quot;minimapa_2.bmp&quot;&#41;;<br />pj_minimapa = SDL_LoadBMP&#40;&quot;pj_minimapa.bmp&quot;&#41;;<br /><br />pj_r.x = 0;<br />pj_r.y = 0;<br />pj_r.w = pj-&gt;w;<br />pj_r.h = pj-&gt;h;<br /><br />fondo_r.x = 0;<br />fondo_r.y = 0;<br />fondo_r.w = fondo-&gt;w;<br />fondo_r.h = fondo-&gt;h;<br /><br />minimapa_r.x = 0;<br />minimapa_r.y = 0;<br />minimapa_r.w = minimapa-&gt;w;<br />minimapa_r.h = minimapa-&gt;h;<br /><br />pj_minimapa_r.x = 0;<br />pj_minimapa_r.y = 0;<br />pj_minimapa_r.w = pj_minimapa-&gt;w;<br />pj_minimapa_r.h = pj_minimapa-&gt;h;<br /><br />minimapa_aux_r.x = 560;<br />minimapa_aux_r.y = 415;<br />minimapa_aux_r.w = minimapa_aux-&gt;w;<br />minimapa_aux_r.h = minimapa_aux-&gt;h;<br /><br />while&#40; salir == false &#41;<br />    {<br />while&#40; SDL_PollEvent&#40; &amp;evento &#41; &#41;<br />        {<br />Teclado&#40;&#41;;<br />if&#40; evento.type == SDL_QUIT &#41;{ salir = true; }<br />if&#40;evento.key.keysym.sym == SDLK_ESCAPE &#41;{ salir = true;}<br /><br />}<br /><br />pj_r.x += vel_x;<br />pj_r.y += vel_y;<br /><br />if&#40;pj_r.x&lt;0&#41;pj_r.x=0;<br />if&#40;pj_r.x+50&gt;PANTALLA_ANCHO&#41;pj_r.x-= vel_x;<br />if&#40;pj_r.y&lt;0&#41;pj_r.y=0;<br />if&#40;pj_r.y+50&gt;PANTALLA_ALTO&#41;pj_r.y-= vel_y;<br /><br />//Ecuacion que transforma las coordenadas reales a las cordenadas del minimapa<br />pj_minimapa_r.x = &#40;pj_r.x / float&#40;PANTALLA_ANCHO&#41; &#41; *240; <br />pj_minimapa_r.y = &#40;pj_r.y / float&#40;PANTALLA_ALTO&#41; &#41; *185; <br /><br />SDL_BlitSurface&#40;fondo,NULL,pantalla,&amp;fondo_r&#41;;<br />SDL_BlitSurface&#40;pj,NULL,pantalla,&amp;pj_r&#41;;<br /><br />SDL_BlitSurface&#40;minimapa_aux,NULL,pantalla,&amp;minimapa_aux_r&#41;;<br />SDL_BlitSurface&#40;minimapa,NULL,minimapa_aux,&amp;minimapa_r&#41;;<br />SDL_BlitSurface&#40;pj_minimapa,NULL,minimapa_aux,&amp;pj_minimapa_r&#41;;<br /><br />SDL_Flip&#40;pantalla&#41;;<br /><br /><br />}<br /><br /><br />SDL_FreeSurface&#40;fondo&#41;;<br />SDL_FreeSurface&#40;pj&#41;;<br />SDL_FreeSurface&#40;minimapa_aux&#41;;<br />SDL_FreeSurface&#40;minimapa&#41;;<br />SDL_FreeSurface&#40;pj_minimapa&#41;;<br /><br />SDL_Quit &#40;&#41;;<br />return 0;<br />}<br /><br />void Teclado&#40;&#41;{<br /><br />if&#40; evento.type == SDL_KEYDOWN &#41;<br />    {<br />        switch&#40; evento.key.keysym.sym &#41;<br />        {<br />            case SDLK_UP: vel_y -= vel; break;<br />            case SDLK_DOWN: vel_y += vel; break;<br />            case SDLK_LEFT: vel_x -= vel; break;<br />            case SDLK_RIGHT: vel_x += vel; break;<br />}<br />    }<br />    <br />    else if&#40; evento.type == SDL_KEYUP &#41;<br />    {<br />        switch&#40; evento.key.keysym.sym &#41;<br />        {<br />            case SDLK_UP: vel_y += vel; break;<br />            case SDLK_DOWN: vel_y -= vel; break;<br />            case SDLK_LEFT: vel_x += vel; break;<br />            case SDLK_RIGHT: vel_x -= vel; break;<br />}<br />    }<br /><br />}</pre><p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2635">zeroxcol94</a> — Sab Jul 28, 2012 2:56 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Barajas]]></name></author>
<updated>2012-07-28T00:32:59+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=1529&amp;p=6979#p6979</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=1529&amp;p=6979#p6979"/>
<title type="html"><![CDATA[Re: Problema en la actualizacion de superficies]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=1529&amp;p=6979#p6979"><![CDATA[
<blockquote><div><cite>zeroxcol94 escribió:</cite><br />yo creo que es un problema de actualizacion. ya que estoy dibujandolo en la superficie del minimapa, no en la pantalla<br /></div></blockquote><br /><br />En efecto, ese es el problema...<br /><br />Básicamente lo que estas asiendo es:<br /><br /><pre class="prettyprint linenums">mientras jugar:<br />    dibujar en pantalla fondo<br />    dibujar en pantalla personaje<br />    dibujar en pantalla minimapa<br />    dibujar en minimapa personaje_minimapa</pre><br /><br />Si lo ejecutas unas veces, en pantalla siempre se redibuja el fondo y después el personaje, a la siguiente vuelta pasa lo mismo, esta borrando la imagen anterior.<br /><br />Pero en el minimapa eso no ocurre, ya que nunca &quot;borras&quot; la imagen anterior, por eso te deja ese rastro cuando lo mueves....<br /><br />intenta algo parecido a esto, aun que claro, esta escrito en pseudocodigo:<br /><br /><pre class="prettyprint linenums">minimapa = carga minimapa<br /><br />copia_de_minimapa =  copiar minimapa<br /><br />mientras jugar:<br />    dibujar en pantalla el fondo<br />    dibujar en pantalla el personaje<br />    dibujar en pantalla la copia_minimapa<br />    dibujar en copia_minimapa el personaje_minimapa<br />    <br />    copia_minimapa = copiar minimapa</pre><br /><br />De esta forma &quot;se limpia&quot; el minimapa cada vez que lo usas, aun que si te parece bastante molesto tener que hacer una copea de la imagen cada vez...<br /><br /><pre class="prettyprint linenums">minimapa = carga minimapa<br /><br />superficie_minimapa =  imagen del tamaño de minimapa<br /><br />mientras jugar:<br />    dibujar en pantalla el fondo<br />    dibujar en pantalla el personaje<br /><br />    dibujar en pantalla superficie_minimapa<br />    dibujar en superficie_minimapa  el minimapa<br />    dibujar en superficie_minimapa  el personaje_minimapa</pre><br /><br />Donde lo que le ocurre a superficie_minimapa es parecido a lo que ocurre con la pantalla...<br />Espero que te sirva... <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_biggrin.gif" alt=":D" title="Very Happy" /><p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2345">Barajas</a> — Sab Jul 28, 2012 12:32 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[zeroxcol94]]></name></author>
<updated>2012-07-27T19:26:52+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=1529&amp;p=6978#p6978</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=1529&amp;p=6978#p6978"/>
<title type="html"><![CDATA[Problema en la actualizacion de superficies]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=1529&amp;p=6978#p6978"><![CDATA[
hola soy yo de nuevo,ya solucione lo del minimapa pero ahora tengo un problemita, resulta que la imagen que representa al personaje en el minimapa deja un rastro de su movimiento mientras avanza,yo creo que es un problema de actualizacion. ya que estoy dibujandolo en la superficie del minimapa, no en la pantalla. si compilan el codigo fuente que les dejo, veran lo que pasa, este codigo lo tome prestado de un usuario de aqui y lo adapte a mis nececidades:<br /><br /><pre class="prettyprint">#include &lt;stdio.h&gt;<br />#include &lt;SDL.h&gt;<br /><br />void Teclado&#40;&#41;;<br /><br />SDL_Surface *pantalla;<br />SDL_Surface *pj;<br />SDL_Surface *fondo;<br />SDL_Surface *minimapa;<br />SDL_Surface *pj_minimapa;<br /><br />SDL_Rect pj_r;<br />SDL_Rect fondo_r;<br />SDL_Rect minimapa_r;<br />SDL_Rect pj_minimapa_r;<br /><br />SDL_Event evento;<br /><br />bool salir = false;<br />char titulo[]=&quot;Prueba de minimapa 01 - zeroxcol94&quot;;<br />int vel = 1;<br />int vel_x = 0;<br />int vel_y = 0;<br />const int PANTALLA_ANCHO = 800;<br />const int PANTALLA_ALTO = 600;<br /><br />int main&#40;int argc, char *argv[]&#41; <br />{<br /><br />SDL_Init&#40; SDL_INIT_VIDEO &#41;;<br />SDL_WM_SetCaption&#40; titulo, NULL &#41;;<br />pantalla = SDL_SetVideoMode&#40;PANTALLA_ANCHO,PANTALLA_ALTO,24,SDL_HWSURFACE&#41;;<br />fondo = SDL_LoadBMP&#40;&quot;fondo.bmp&quot;&#41;;<br />pj = SDL_LoadBMP&#40;&quot;pj.bmp&quot;&#41;;<br />minimapa = SDL_LoadBMP&#40;&quot;minimapa.bmp&quot;&#41;;<br />pj_minimapa = SDL_LoadBMP&#40;&quot;pj_minimapa.bmp&quot;&#41;;<br /><br />pj_r.x = 0;<br />pj_r.y = 0;<br />pj_r.w = pj-&gt;w;<br />pj_r.h = pj-&gt;h;<br /><br />fondo_r.x = 0;<br />fondo_r.y = 0;<br />fondo_r.w = fondo-&gt;w;<br />fondo_r.h = fondo-&gt;h;<br /><br />minimapa_r.x = 560;<br />minimapa_r.y = 415;<br />minimapa_r.w = minimapa-&gt;w;<br />minimapa_r.h = minimapa-&gt;h;<br /><br />pj_minimapa_r.x = 0;<br />pj_minimapa_r.y = 0;<br />pj_minimapa_r.w = pj_minimapa-&gt;w;<br />pj_minimapa_r.h = pj_minimapa-&gt;h;<br /><br />while&#40; salir == false &#41;<br />    {<br />while&#40; SDL_PollEvent&#40; &amp;evento &#41; &#41;<br />        {<br />Teclado&#40;&#41;;<br />if&#40; evento.type == SDL_QUIT &#41;{ salir = true; }<br />if&#40;evento.key.keysym.sym == SDLK_ESCAPE &#41;{ salir = true;}<br /><br />}<br /><br />pj_r.x += vel_x;<br />pj_r.y += vel_y;<br /><br />if&#40;pj_r.x&lt;0&#41;pj_r.x=0;<br />if&#40;pj_r.x+50&gt;PANTALLA_ANCHO&#41;pj_r.x-= vel_x;<br />if&#40;pj_r.y&lt;0&#41;pj_r.y=0;<br />if&#40;pj_r.y+50&gt;PANTALLA_ALTO&#41;pj_r.y-= vel_y;<br /><br />//Ecuacion que transforma las coordenadas reales a las cordenadas del minimapa<br />pj_minimapa_r.x = &#40;pj_r.x / float&#40;PANTALLA_ANCHO&#41; &#41; *240; <br />pj_minimapa_r.y = &#40;pj_r.y / float&#40;PANTALLA_ALTO&#41; &#41; *185; <br /><br />SDL_BlitSurface&#40;fondo,NULL,pantalla,&amp;fondo_r&#41;;<br />SDL_BlitSurface&#40;pj,NULL,pantalla,&amp;pj_r&#41;;<br />SDL_BlitSurface&#40;minimapa,NULL,pantalla,&amp;minimapa_r&#41;;<br />SDL_BlitSurface&#40;pj_minimapa,NULL,minimapa,&amp;pj_minimapa_r&#41;;<br />SDL_Flip&#40;pantalla&#41;;<br /><br /><br /><br />}<br /><br /><br />SDL_FreeSurface&#40;fondo&#41;;<br />SDL_FreeSurface&#40;minimapa&#41;;<br />SDL_FreeSurface&#40;pj&#41;;<br />SDL_FreeSurface&#40;pj_minimapa&#41;;<br /><br />SDL_Quit &#40;&#41;;<br />return 0;<br />}<br /><br />void Teclado&#40;&#41;{<br /><br />if&#40; evento.type == SDL_KEYDOWN &#41;<br />    {<br />        switch&#40; evento.key.keysym.sym &#41;<br />        {<br />            case SDLK_UP: vel_y -= vel; break;<br />            case SDLK_DOWN: vel_y += vel; break;<br />            case SDLK_LEFT: vel_x -= vel; break;<br />            case SDLK_RIGHT: vel_x += vel; break;<br />}<br />    }<br />    <br />    else if&#40; evento.type == SDL_KEYUP &#41;<br />    {<br />        switch&#40; evento.key.keysym.sym &#41;<br />        {<br />            case SDLK_UP: vel_y += vel; break;<br />            case SDLK_DOWN: vel_y -= vel; break;<br />            case SDLK_LEFT: vel_x += vel; break;<br />            case SDLK_RIGHT: vel_x -= vel; break;<br />}<br />    }<br /><br />}</pre><br /><br />la libreria grafica utilizada se llama SDL. Espero que me ayuden en este problemita. <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_rolleyes.gif" alt=":roll:" title="Rolling Eyes" />  <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_cry.gif" alt=":cry:" title="Crying or Very sad" />  <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_confused.gif" alt=":?" title="Confused" /><p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2635">zeroxcol94</a> — Vie Jul 27, 2012 7:26 pm</p><hr />
]]></content>
</entry>
</feed>