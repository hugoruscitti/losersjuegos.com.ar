<?xml version="1.0" encoding="UTF-8"?>
<feed xmlns="http://www.w3.org/2005/Atom" xml:lang="es">
<link rel="self" type="application/atom+xml" href="http://losersjuegos.com.ar/foro/feed.php?f=2&amp;t=625" />

<title>LosersJuegos</title>
<subtitle>Desarrollando videojuegos libres</subtitle>
<link href="http://losersjuegos.com.ar/foro/index.php" />
<updated>2009-09-26T11:41:29+00:00</updated>

<author><name><![CDATA[LosersJuegos]]></name></author>
<id>http://losersjuegos.com.ar/foro/feed.php?f=2&amp;t=625</id>
<entry>
<author><name><![CDATA[djkemical]]></name></author>
<updated>2009-09-26T11:41:29+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=625&amp;p=2918#p2918</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=625&amp;p=2918#p2918"/>
<title type="html"><![CDATA[Problema al crear varios sprites a partir de una clase]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=625&amp;p=2918#p2918"><![CDATA[
Muchisimas gracias, luego pruebo a ver si me funciona, y si, creo que fue tu ejemplo el que coji jeje.<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2145">djkemical</a> — Sab Sep 26, 2009 11:41 am</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[Juanxo]]></name></author>
<updated>2009-09-25T16:11:12+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=625&amp;p=2914#p2914</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=625&amp;p=2914#p2914"/>
<title type="html"><![CDATA[Problema al crear varios sprites a partir de una clase]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=625&amp;p=2914#p2914"><![CDATA[
jajaj buenas, el juego que dices es uno que hice yo basado en otro ejemplo.<br /><br />Creo que puedo ayudarte. Tu problema principal es que no estás añadiendo un nuevo enemigo cada vez, sino que siempre añades el mismo.<br /><br />En vez de hacer esto:<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code><br />&#40;background_image, _&#41; = load_image&#40;'back.jpg'&#41;<br />    screen.blit&#40;background_image, &#40;0, 0&#41;&#41;<br />    sprites = pygame.sprite.RenderClear&#40;&#41;<br />    nave = nave&#40;&#41;<br />    enemigo = enemigo&#40;&#41;<br />    sprites.add&#40;nave&#41;<br />    enemies = pygame.sprite.RenderClear&#40;&#41;<br />    enemy_counter = 0<br />    while not salir:<br />            screen.blit&#40;background_image, &#40;0,0&#41; &#41;           <br />            keyinput = pygame.key.get_pressed&#40;&#41;<br />            keyinput = pygame.key.get_pressed&#40;&#41;<br />            sprites.update&#40;&#41;<br />            enemies.add&#40;enemigo&#41;<br />            sprites.add&#40;enemigo&#41;<br />            sprites.draw&#40;screen&#41;<br />            pygame.display.flip&#40;&#41;<br />            if keyinput&#91;K_ESCAPE&#93; or pygame.event.peek&#40;QUIT&#41;:<br />                raise SystemExit<br /></code></dd></dl><br /><br />prueba con esto:<br /><br /><dl class="codebox"><dt>Code: </dt><dd><code><br />background_image = load_image&#40;&quot;back.jpg&quot;&#41;&#91;0&#93; #solo cojes la imagen<br /><br />sprites= pygame.sprite.RenderClear&#40;&#41;<br />enemies = pygame.sprite.RenderClear&#40;&#41;<br /><br />sprites.add&#40;nave&#40;&#41;&#41;<br /><br />screen.blit&#40;background_image, &#40;0,0&#41;&#41;<br /><br />while true:<br /><br />key_input = pygame.key.get_pressed&#40;&#41;<br /><br />if key_input&#91;K_ESCAPE&#93; or pygame.event.peek&#40;QUIT&#41;:<br />   raise SystemExit<br />elif key_input&#91;K_RETURN&#93;: #aniadimos un enemigo<br />   enemies.add&#40;enemigo&#40;&#41;&#41;<br /><br />#tapamos la posicion anterior<br />sprites.clear&#40;screen, background_image&#41;<br />enemies.clear&#40;screen, background_image&#41;<br /><br />#actualizamos los objetos<br />sprites.update&#40;&#41;<br />enemies.update&#40;&#41;<br /><br />#dibujamos los objetos<br />sprites.draw&#40;screen&#41;<br />enemies.draw&#40;screen&#41;<br /><br /></code></dd></dl><br /><br />Fijate como yo no añado la misma variable cada vez(de hecho la he quitado) sino que llamo al constructor del objeto que quiero hacer.<br /><br />Nota: si no quieres manejar los objetos manualmente, es decir, tratar de manera especial a cada enemigo por ejemplo, si no que siempre vas a tratarlos como un grupo, no tiene sentido que crees variables para cada uno, si no que los creas dentro del grupo directamente, con la llamada al constructor.<br /><br />Una última cosa, si tienes los grupos RenderClear, no hace falta que dibujes el fondo cada vez, si no que si llamas al método &quot;clear&quot; de cada objeto con los parámetros que he puesto, pygame se encargará de dibujar el fondo solo en los sitios donde hubiera naves, en vez de dibujar todo el fondo. Así es más rapido.<br /><br />Creo que eso es todo. Si algo falla, lo siento, pero es que hace algún tiempo que no uso pygame.<br /><br />Edito: si tenéis dudas cuando empezáis sobre algunos aspectos concretos, como es normal, miraros la documentación de lo que usais ( en este caso pygame). Esta hecha por gente que sabe mucho de lo que vais a usar, y además viene todo muy bien explicado. Para los no anglo-parlantes(que no hablen/lean inglés) hay en la web de losersjuegos una traducción al español de la documentación de pygame(muy buena)<p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2057">Juanxo</a> — Vie Sep 25, 2009 4:11 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[djkemical]]></name></author>
<updated>2009-09-25T15:14:15+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=625&amp;p=2913#p2913</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=625&amp;p=2913#p2913"/>
<title type="html"><![CDATA[Problema al crear varios sprites a partir de una clase]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=625&amp;p=2913#p2913"><![CDATA[
Nadie sabe resolver el problema? <img src="http://losersjuegos.com.ar/foro/images/smilies/icon_sad.gif" alt=":(" title="Sad" /><p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2145">djkemical</a> — Vie Sep 25, 2009 3:14 pm</p><hr />
]]></content>
</entry>
<entry>
<author><name><![CDATA[djkemical]]></name></author>
<updated>2009-09-17T10:16:14+00:00</updated>
<id>http://losersjuegos.com.ar/foro/viewtopic.php?t=625&amp;p=2891#p2891</id>
<link href="http://losersjuegos.com.ar/foro/viewtopic.php?t=625&amp;p=2891#p2891"/>
<title type="html"><![CDATA[Problema al crear varios sprites a partir de una clase]]></title>

<content type="html" xml:base="http://losersjuegos.com.ar/foro/viewtopic.php?t=625&amp;p=2891#p2891"><![CDATA[
Muy buenas a todos, como vereis soy nuevo en el foro jejeje y desde hace una semana o algo menos me he puesto a aprender python con el libro de Python para todos que dicho sea de paso esta todo muy bien explicado.<br />Bueno, pues el otro dia me descargue un ejemplo de un juego que habia aqui colgado llamado Invaders, que es tipo &quot;1945&quot;, pues tras estudiar el codigo y verlo decidid intentar hacer una copia fijandome en el ejemplo para estudiarlo y ver mas o menos como funciona pygame, pero es que por mas que me fijo y me fijo no soy capaz de hacer que a`partir de una clase crear varias naves enemigas, os dejo el codigo, perdonar si esta un poco desorganizado<br /><dl class="codebox"><dt>Code: </dt><dd><code>#Importacion de librerias<br />import pygame<br />import random<br />from pygame.locals import *<br />from pygame.sprite import Sprite<br /><br />#Variables de tamagno<br />SCREEN_WIDTH = 800<br />SCREEN_HEIGHT = 600<br /><br />#Funcion para subir fotos<br />def load_image&#40;fullname, colorkey=False&#41;:<br />    try:<br />        image = pygame.image.load&#40;fullname&#41;<br />    except pygame.error, message:<br />        print 'No se puede cargar la imagen: ', fullname<br />        raise SystemExit, message<br /><br />    image = image.convert&#40;&#41;<br /><br />    if colorkey:<br />        colorkey = image.get_at&#40;&#40;0, 0&#41;&#41;<br />        image.set_colorkey&#40;colorkey, RLEACCEL&#41;<br /><br />    return &#40;image, image.get_rect&#40;&#41;&#41;<br /><br />#Clase de la nave<br />class nave&#40;pygame.sprite.Sprite&#41;:<br />    def __init__&#40;self&#41;:<br />        pygame.sprite.Sprite.__init__&#40;self&#41;<br />        &#40;self.image, self.rect&#41; = load_image&#40;'datos/nave.png', True&#41;<br />        self.rect = self.image.get_rect&#40;&#41;<br />        self.rect.x = 368<br />        self.rect.y = 536<br />    def update&#40;self&#41;:<br />        teclas = pygame.key.get_pressed&#40;&#41;<br />        #Movimiento<br />        if teclas&#91;K_LEFT&#93;:<br />            self.rect.x -= 1<br />        if teclas&#91;K_RIGHT&#93;:<br />            self.rect.x += 1<br />        if teclas&#91;K_UP&#93;:<br />            self.rect.y -= 1<br />        if teclas&#91;K_DOWN&#93;:<br />            self.rect.y += 1<br />        #Limites<br />        if self.rect.x &lt;26&gt; 826:<br />            self.rect.x = -26<br />        if self.rect.y &lt;0&gt;= 536:<br />            self.rect.y = 536<br />            <br />#Naves enemigas<br />class enemigo&#40;pygame.sprite.Sprite&#41;:<br />    def __init__&#40;self&#41;:<br />        pygame.sprite.Sprite.__init__&#40;self&#41;<br />        &#40;self.image, self.rect&#41; = load_image&#40;'datos/enemigo.png', True&#41;<br />        self.set_initial_position&#40;&#41;<br />        self.load_image&#40;&#41;<br />    def set_initial_position&#40;self&#41;:<br />        self.rect.centerx = random.randint&#40;100, 700&#41;<br />        self.rect.y = 0<br />        self.x_velocity = 1<br />        self.y_velocity = 2<br />    def load_image&#40;self&#41;:<br />        &#40;self.image, self.rect&#41; = load_image&#40;'datos/enemigo.png', True&#41;    <br />    def update&#40;self&#41;:<br />       #Mover el sprite en 20<br />        self.rect.move_ip&#40;&#40;self.x_velocity, self.y_velocity&#41;&#41;<br />        if self.rect.left &lt;64&gt;= SCREEN_WIDTH +64:<br />            self.rect.left = -64<br />        if self.rect.y &gt;= SCREEN_HEIGHT:<br />            self.rect.y = 0<br />            <br />#Programa principal<br />if __name__ == '__main__':<br />    pygame.init&#40;&#41;<br />    salir = False<br />    screen = pygame.display.set_mode&#40; &#40;SCREEN_WIDTH,SCREEN_HEIGHT&#41; &#41;<br />    pygame.display.set_caption&#40; &quot;Pruebas&quot; &#41;<br />    &#40;background_image, _&#41; = load_image&#40;'back.jpg'&#41;<br />    screen.blit&#40;background_image, &#40;0, 0&#41;&#41;<br />    sprites = pygame.sprite.RenderClear&#40;&#41;<br />    nave = nave&#40;&#41;<br />    enemigo = enemigo&#40;&#41;<br />    sprites.add&#40;nave&#41;<br />    enemies = pygame.sprite.RenderClear&#40;&#41;<br />    enemy_counter = 0<br />    while not salir:<br />            screen.blit&#40;background_image, &#40;0,0&#41; &#41;           <br />            keyinput = pygame.key.get_pressed&#40;&#41;<br />            keyinput = pygame.key.get_pressed&#40;&#41;<br />            sprites.update&#40;&#41;<br />            enemies.add&#40;enemigo&#41;<br />            sprites.add&#40;enemigo&#41; <br />            sprites.draw&#40;screen&#41;<br />            pygame.display.flip&#40;&#41;<br />            if keyinput&#91;K_ESCAPE&#93; or pygame.event.peek&#40;QUIT&#41;:<br />                raise SystemExit</code></dd></dl><p>Estadísticas: Publicado por <a href="http://losersjuegos.com.ar/foro/memberlist.php?mode=viewprofile&amp;u=2145">djkemical</a> — Jue Sep 17, 2009 10:16 am</p><hr />
]]></content>
</entry>
</feed>